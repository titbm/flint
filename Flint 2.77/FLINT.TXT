	FLINT+
	iB  2003

	Start version 2.60
-------------------------------------------------------------------------------
ver.2.61	01-2003
* Устранил 2 ошибки в программе сортировки "0,5мм layers".
* Количество повторов = 10.
* Немного укоротил программу.

-------------------------------------------------------------------------------
ver.2.70	7-02-2003
* Введена задержка электро-оптич. затвора лазера (Gate). В окне Configuration
  значение задержки устанавливается в пределах 10-500 мкс с шагом 10 мкс.
  Значения сохраняются в измененных файлах Flint1.cfg и Flint9.cfg. 
* В окне Configuration вставил кнопку сброса "X" для выключения всех позиций
  образцов в режиме "9". В режиме "1" - не функционирует.
* В окне Start сделал прямой ввод Point number со всеми проверками.
  Кнопки "++" и "--" (через 10) убрал, кнопки "+" и "-" - оставил.
* В основном окне добавил вывод повторов (Reiterations:) в реальном времени
  для режимов "9" или "1". После остановки "Check laser..." в режиме "9"
  позиции, из-за которых произошла остановка, подсвечиваются красным фоном.
* В окне Convert добавил возможность выбора проекции картинки клавишей F9, как
  в основном окне ("F9 XYZ").
* Ликвидированы кнопка "F6 Statist" и окно "Statistics", так как оно дублирует
  имеющиеся возможности.

-------------------------------------------------------------------------------
ver.2.71	06-03-2003
* Написал функции управления дополнительным таймером платы: канал 0 - генератор
  импульсов накачки, канал 1 - программируемая задержка затвора Gate, канал 2 -
  свободен, можно использовать для задержек в программе.
* В окне Configuration убрал кнопку "Las.adjust.", вставил два переключателя:
  "Pump"- включение/выключение "непрерывной" накачки с выбранным периодом и
  "Gate"- разрешение/запрет импульсов затвора для каждого импульса накачки.
  Разрешение импульсов затвора действительно только в окне Configuration.
  Включенное состояние - красный цвет переключателей. Изменения Las.period и
  Gate delay сразу отрабатываются, если Cancel - восстанавливаются.
* Сделал оптоволоконную линию синхронизации лазера с двумя волокнами 800 мкм.
  Два LED-передатчика подключаются кабелем к плате (разъем DSUB-9).
* В окне Start в режиме Beginning значения повторов стирались после перерисовки
  основного окна ..., сделал до того.

-------------------------------------------------------------------------------
ver.2.72	11-03-2003
* Откорректировал формирование импульса лазера (см. комментарии в коде).
* Ввел выключение лазера при выходе из программы и изменение периода лазера и
  задержки затвора при переключении "1"-"9" сразу после переключения.
* Переделал расчет скоростей в функции move() из-за изменения режима работы
  лазера - с фиксированным периодом накачки. Подобрали коррекцию времени,
  необходимого для выполнения вычислений на 486DX66(?) - 6-8 мс.
* Надо изменить расчет времени пробоя объекта...

-------------------------------------------------------------------------------
ver.2.73	26-03-2003
* Откорректирован расчет скоростей.
* В файлы конфигурации добавил параметр - поправочный dT для расчета скоростей.
  Выводится в окне Configuration: "dT: X ms", изменить можно только внешним
  редактором. Изменение может потребоваться для другого PC.
         !!!!!!!!   допустимые пределы для dT = 1...10 (менее laser_period).
* Изменил управление лазером: в окне Configuration переключателем "laser pump"
  вместе с накачкой включаются импульсы затвора, но задержка затвора = 10 мкс,
  т.е. генерация отсутствует. Переключателем "gate delay" включается заданная
  задержка, но только в этом окне. При выходе из Configuration с включенным
  "laser pump" "gate delay" сбрасывается, и задержка = 10 мкс.
* Переделал расчет времени пробоя объекта в соответствии с новым алгоритмом
  управления движением стола.

-------------------------------------------------------------------------------
ver.2.74	29-03-2003
* В подсчете повторов объединил первый и последующие, т.к. теперь выводится
  только общее кол-во повторов.
* Увеличил ограничение размера образца по оси Z: 120 мм. В некоторых случаях
  могут сработать концевые выключатели.
* При старте с выключенной накачкой программа зависала. Исправил: вставил
  возможность прервать клавишей ESC с выключением затвора (задержка 10 мкс).

-------------------------------------------------------------------------------
ver.2.75	16-04-2003
* В процедуре инициализации убрал проверку концевых датчиков. Для того, чтобы
  при замкнутом концевом датчике получить не демо-режим, а рабочий.
* В функцию ms_key_cmd() добавил возможность выдачи звука, т.к. для некоторых
  окон сообщений (msgbox) необходимо иметь продолжительное звуковое оповещение:
  "TABL END", "Check Laser...", "KPU error". Откорректировал функции scan_ms()
  и msgbox(), и везде во всех файлах, где они вызываются.
		05-2003
* Изменил управление затвором лазера - за 40...150 мкс до окончания отсчета
  таймером периода накачки устанавливается разрешение затвора, а не заранее,
  т.к. возможно это было причиной двойных пробоев (редких).

-------------------------------------------------------------------------------
ver.2.76	15-07-2003
* Убрал вывод текущего времени на мониторе совсем. Т.к. при обновлении - раз в
  секунду - регулярно пропускался один импульс лазера. Либо коррекцию времени
  (порядка 6мс) для вычислений пришлось бы увеличить до неприемлемой величины.

-------------------------------------------------------------------------------
ver.2.77	30-08-2004
* Добавил в файлы конфигурации flint1.cfg и flint9.cfg параметр - время
  срабатывания эл.м. затворов в мс, чтобы пользователь сам мог задать значение,
  но только внешним редактором. Теперь содержимое файлов:

	 1. привязка по X в 10 мкм
	 2. привязка по Y в 10 мкм
	 3. привязка по Z в 10 мкм
	 4. шаг набора привязки в 10 мкм
	 5. период лазера в мс
	 6. задержка эл.оптического затвора в 10 мкс
	 7. максимальная частота отработки шагов в Гц
	 8. флаг постоянной/переменной скорости перемещений (= 1/0 соотв.)
	 9. поправка dT в мс для расчета скоростей
	10. задержка срабатывания эл.м.затворов в мс
	11. рабочие позиции по умолчанию (только для flint9.cfg)

* В окне Configuration выводится значение задержки срабатывания эл.м.затворов:
  "sh: X ms".
		06-09-2004
* Ликвидированы кнопка "F7 Info" в основном окне и окно "Information" с номером
  версии и иконкой. Номер версии выводится сразу, в основном окне.
* При повторных пробоях без изменения непробитых позиций эл.мех. затворы каждый
  раз отрабатывали старое состояние с установленной задержкой, что тормозило
  работу. Убрал такую ситуацию.
		08-09-2004
* Переработал процедуру управления импульсом лазера и эл.мех. затворами, т.к. в
  некоторых ситуациях была чрезмерная задержка работы лазера.
* В основном окне добавил индикатор контроля разрушения: "Dr.check". Красный -
  контроль включен, фон - выключен.
		12-09-2004
* Модифицировал функцию работы с клавиатурой. В окне Glass Load добавил
  возможность выбрать напрвление клавишами PgUp и PgDn.

-------------------------------------------------------------------------------
