/*************************************************************
 * PROJ5.EXE  —  Flint 2.77 (DOS 16-bit)
 * Application Functions Decompilation v2
 * All source-file functions targeted for complete recovery
 * Generated by Ghidra 12.0.3
 *************************************************************/

// MAP file: C:\Users\titbm\Desktop\ghidra_tmp\PROJ5.map
// MAP import: created=289 existed=399

/* ========== CREATING APP FUNCTIONS ========== */
// App functions: created=0 existed=73 failed=0

/* ========== SEARCHING FOR dlgopen/disksel/dlged ========== */

/* ========== FULL DECOMPILATION ========== */

/***********************************************************
 * SEGMENT 1928 — PROJ5.CPP
 * 39 functions
 ***********************************************************/

/* ────────────────────────────────────────────────────────
 * Function: main
 * Source:   int main()
 * Module:   PROJ5.CPP
 * Address:  1928:000e
 * Size:     613 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   5
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined local_6 @ Stack[-0x6]:1
 *   undefined2 local_8 @ Stack[-0x8]:2
 *   undefined2 local_a @ Stack[-0xa]:2
 *   undefined2 local_10 @ Stack[-0x10]:2
 * CallingConv: __cdecl16far
 * Calls: 18 functions
 *   -> farcoreleft @ 1000:4a9a
 *   -> FlashRd @ 2229:0326
 *   -> scan_ms @ 1928:5dc0
 *   -> RdCfg @ 2229:00da
 *   -> ClearRpt @ 1928:4395
 *   -> graphresult @ 23f1:030d
 *   -> set_gr_cursor @ 23c2:0001
 *   -> setlinestyle @ 23f1:115d
 *   -> pi_ini @ 215c:0002
 *   -> CurDir @ 2229:04e4
 *   -> ms_init @ 23c2:003a
 *   -> initgraph @ 23f1:0979
 *   -> registerfarbgidriver @ 23f1:03f4
 *   -> memset @ 1000:1bec
 *   -> farmalloc @ 1000:475c
 *   -> printf @ 1000:302b
 *   -> mainscr @ 1928:43ac
 *   -> closegraph @ 23f1:0e3e
 * ──────────────────────────────────────────────────────── */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined2 __cdecl16far main(void)

{
  int iVar1;
  undefined2 uVar2;
  int in_DX;
  int *piVar3;
  char *pcVar4;
  undefined2 local_a;
  int local_8;
  int local_4;
  
  local_a = 0;
  f_demo = 0;
  f_bcab = 0;
  f_bca = 0;
  f_bc = 0;
  f_sort = 0;
  sK1 = 0xf;
  sK2 = 10;
  f_xyz = 0;
  f_data = 0;
  start_nmb = 0;
  lastn = 0;
  nmax = 0;
  tout = 0;
  do_ptr = 0;
  f_ptr = 0;
  memset(0x2998,""  /* empty */,0xec7);
  nglas = _FUN_28d3_0eca;
  xsize = 500;
  ysize = 500;
  zsize = 500;
  xofs = 0;
  yofs = 0;
  zofs = 0;
  xcur = 0;
  ycur = 0;
  zcur = 0;
  dx = 0x14;
  dy = 0x14;
  dz = 0x3c;
  nmb_pbt = 0xff;
  gl_nmb = 1;
  d_check = 1;
  f_noise = 0;
  fcdim = 1;
  kdim = 100;
  feqk = 1;
  kxdim = 100;
  kydim = 100;
  kzdim = 100;
  ClearRpt();
  RdCfg();
  CurDir();
  memset(0x29de,""  /* empty */,
                (undefined1 *)&path);
  iVar1 = registerfarbgidriver(0);
  if (iVar1 < 0) {
    pcVar4 = "Graphics error" + 1;
  }
  else {
    initgraph(&local_a);
    local_8 = graphresult();
    if (local_8 == 0) {
      iVar1 = pi_ini();
      if (iVar1 == 0) {
        f_demo = 1;
      }
      ms_init();
      set_gr_cursor(0,0,0x952);
      uVar2 = farcoreleft();
      ulMax = MAKELONG(in_DX,uVar2) - 30000;
      iTabl = farmalloc(ulMax);
      iTabl_seg = in_DX;
      if (iTabl == 0 && iTabl_seg == 0) {
        printf(0xef1,""  /* empty */);
        closegraph();
        out(0x31c,0);
        return 0;
      }
      ulMax = ulMax / 6;
      FlashRd();
      do {
        setlinestyle(0,1,1);
        mainscr();
        local_4 = scan_ms(0xb2,""  /* empty */,0x96,
                          ""  /* empty */);
        iVar1 = 8;
        piVar3 = (int *)0x416;
        do {
          if (*piVar3 == local_4) {
                    /* WARNING: Could not recover jumptable at 0x000194d9. Too many branches */
                    /* WARNING: Treating indirect jump as call */
            uVar2 = (*(code *)piVar3[8])();
            return uVar2;
          }
          piVar3 = piVar3 + 1;
          iVar1 = iVar1 + -1;
        } while (iVar1 != 0);
      } while( true );
    }
    pcVar4 = "graphics error";
  }
  printf(pcVar4);
  return 0xff;
}



/* ────────────────────────────────────────────────────────
 * Function: button
 * Source:   void button(int btc[], int nmb, char buttxt[])
 * Module:   PROJ5.CPP
 * Address:  1928:0436
 * Size:     389 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   9
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 *   undefined2 local_8 @ Stack[-0x8]:2
 *   undefined2 local_a @ Stack[-0xa]:2
 *   undefined2 local_c @ Stack[-0xc]:2
 *   undefined2 local_e @ Stack[-0xe]:2
 *   undefined2 local_10 @ Stack[-0x10]:2
 *   undefined2 local_12 @ Stack[-0x12]:2
 *   undefined2 local_14 @ Stack[-0x14]:2
 * CallingConv: __cdecl16far
 * Calls: 4 functions
 *   -> setfillstyle @ 23f1:1211
 *   -> bar @ 23f1:1c32
 *   -> setcolor @ 23f1:1d5c
 *   -> outtextxy @ 23f1:1f2a
 * ──────────────────────────────────────────────────────── */

void __cdecl16far button(undefined4 param_1,int param_2,undefined2 param_3,undefined2 param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined2 uVar5;
  
  setfillstyle(1,0x3f);
  iVar3 = param_2 * 6;
  uVar5 = (uint)((ulong)param_1 >> 0x10);
  iVar4 = (int)param_1;
  iVar1 = *(int *)(iVar4 + (iVar3 + 3) * 2);
  iVar2 = *(int *)(iVar4 + (iVar3 + 2) * 2);
  bar(iVar2,iVar1,iVar2 + *(int *)(iVar4 + (iVar3 + 4) * 2),
                iVar1 + *(int *)(iVar4 + (iVar3 + 5) * 2));
  setfillstyle(1,0);
  iVar3 = param_2 * 6;
  iVar1 = *(int *)(iVar4 + (iVar3 + 3) * 2);
  iVar2 = *(int *)(iVar4 + (iVar3 + 2) * 2);
  bar(iVar2 + 1,iVar1 + 1,iVar2 + *(int *)(iVar4 + (iVar3 + 4) * 2) + 1,
                iVar1 + *(int *)(iVar4 + (iVar3 + 5) * 2) + 1);
  setfillstyle(1,7);
  iVar3 = param_2 * 6;
  iVar1 = *(int *)(iVar4 + (iVar3 + 3) * 2);
  iVar2 = *(int *)(iVar4 + (iVar3 + 2) * 2);
  bar(iVar2 + 1,iVar1 + 1,iVar2 + *(int *)(iVar4 + (iVar3 + 4) * 2),
                iVar1 + *(int *)(iVar4 + (iVar3 + 5) * 2));
  setcolor(0);
  outtextxy(*(int *)(iVar4 + (param_2 * 6 + 2) * 2) + 4,
                *(int *)(iVar4 + (param_2 * 6 + 3) * 2) + 4,param_3,param_4);
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: buttonp
 * Source:   void buttonp(int btc[], int nmb, char buttxt[])
 * Module:   PROJ5.CPP
 * Address:  1928:05bb
 * Size:     282 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   6
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 *   undefined2 local_8 @ Stack[-0x8]:2
 *   undefined2 local_a @ Stack[-0xa]:2
 *   undefined2 local_c @ Stack[-0xc]:2
 *   undefined2 local_e @ Stack[-0xe]:2
 * CallingConv: __cdecl16far
 * Calls: 4 functions
 *   -> setfillstyle @ 23f1:1211
 *   -> bar @ 23f1:1c32
 *   -> setcolor @ 23f1:1d5c
 *   -> outtextxy @ 23f1:1f2a
 * ──────────────────────────────────────────────────────── */

void __cdecl16far buttonp(undefined4 param_1,int param_2,undefined2 param_3,undefined2 param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined2 uVar5;
  
  setfillstyle(1,0);
  iVar3 = param_2 * 6;
  uVar5 = (uint)((ulong)param_1 >> 0x10);
  iVar4 = (int)param_1;
  iVar1 = *(int *)(iVar4 + (iVar3 + 3) * 2);
  iVar2 = *(int *)(iVar4 + (iVar3 + 2) * 2);
  bar(iVar2,iVar1,iVar2 + *(int *)(iVar4 + (iVar3 + 4) * 2),
                iVar1 + *(int *)(iVar4 + (iVar3 + 5) * 2));
  setfillstyle(1,7);
  iVar3 = param_2 * 6;
  iVar1 = *(int *)(iVar4 + (iVar3 + 3) * 2);
  iVar2 = *(int *)(iVar4 + (iVar3 + 2) * 2);
  bar(iVar2 + 1,iVar1 + 1,iVar2 + *(int *)(iVar4 + (iVar3 + 4) * 2) + 1,
                iVar1 + *(int *)(iVar4 + (iVar3 + 5) * 2) + 1);
  setcolor(0);
  outtextxy(*(int *)(iVar4 + (param_2 * 6 + 2) * 2) + 5,
                *(int *)(iVar4 + (param_2 * 6 + 3) * 2) + 5,param_3,param_4);
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: ctlbt
 * Source:   void ctlbt(int btxl, int btyl, int colctl, char ctltxt[])
 * Module:   PROJ5.CPP
 * Address:  1928:06d5
 * Size:     64 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * Calls: 3 functions
 *   -> rectangle @ 23f1:119e
 *   -> setcolor @ 23f1:1d5c
 *   -> outtextxy @ 23f1:1f2a
 * ──────────────────────────────────────────────────────── */

void __cdecl16far
ctlbt(int param_1,int param_2,undefined2 param_3,undefined2 param_4,undefined2 param_5)

{
  setcolor(param_3);
  rectangle(param_1,param_2,param_1 + 10,param_2 + 10);
  outtextxy(param_1 + 0xf,param_2 + 2,param_4,param_5);
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: pressbt
 * Source:   int pressbt(int bt[], int nm)
 * Module:   PROJ5.CPP
 * Address:  1928:0715
 * Size:     150 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   2
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 * CallingConv: __cdecl16far
 * ──────────────────────────────────────────────────────── */

undefined2 __cdecl16far pressbt(undefined4 param_1,int param_2)

{
  int iVar1;
  undefined2 uVar2;
  
  uVar2 = (uint)((ulong)param_1 >> 0x10);
  iVar1 = (int)param_1;
  if ((((*(int *)(iVar1 + (param_2 * 6 + 2) * 2) < coord_h) &&
       (coord_h <
        *(int *)(iVar1 + (param_2 * 6 + 2) * 2) + *(int *)(iVar1 + (param_2 * 6 + 4) * 2))) &&
      (*(int *)(iVar1 + (param_2 * 6 + 3) * 2) < coord_v)) &&
     (coord_v <
      *(int *)(iVar1 + (param_2 * 6 + 3) * 2) + *(int *)(iVar1 + (param_2 * 6 + 5) * 2))) {
    return 1;
  }
  return 0;
}



/* ────────────────────────────────────────────────────────
 * Function: msgbox
 * Source:   int msgbox(char msgtxt[], int more, int f_beep)
 * Module:   PROJ5.CPP
 * Address:  1928:07ab
 * Size:     248 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * Calls: 8 functions
 *   -> setfillstyle @ 23f1:1211
 *   -> bar @ 23f1:1c32
 *   -> draw_bt @ 1928:4fc9
 *   -> scan_ms @ 1928:5dc0
 *   -> getimage @ 23f1:2066
 *   -> putimage @ 23f1:1526
 *   -> setcolor @ 23f1:1d5c
 *   -> outtextxy @ 23f1:1f2a
 * ──────────────────────────────────────────────────────── */

undefined2 __cdecl16far msgbox(undefined2 param_1,undefined2 param_2,int param_3,undefined2 param_4)

{
  int iVar1;
  undefined2 uVar2;
  
  getimage(0xb4,0x122,0x181,0x159,0x2a56,""  /* empty */)
  ;
  setfillstyle(1,0);
  bar(0xb8,0x126,0x180,0x158);
  setfillstyle(1,0x3c);
  bar(0xb4,0x122,0x17c,0x154);
  setcolor(0);
  outtextxy(0xbe,0x129,param_1,param_2);
  if (param_3 != 0) {
    outtextxy(0xbe,0x145,0xf51,""  /* empty */);
  }
  draw_bt(0x7be,""  /* empty */,0x7b2,
          ""  /* empty */,param_3 + 2);
  iVar1 = scan_ms(0x7be,""  /* empty */,0x7b2,
                  ""  /* empty */,param_3 + 2,param_4);
  putimage(0xb4,0x122,0x2a56,""  /* empty */,0);
  if (iVar1 == 0) {
LAB_1928_0898:
    uVar2 = 1;
  }
  else {
    if (iVar1 != 1) {
      if (iVar1 == 2) {
        return 2;
      }
      if (pkey == 0xd) goto LAB_1928_0898;
    }
    uVar2 = 0;
  }
  return uVar2;
}



/* ────────────────────────────────────────────────────────
 * Function: msg
 * Source:   int msg(int msgx, int msgy, int onoff, char msgtxt[])
 * Module:   PROJ5.CPP
 * Address:  1928:08a3
 * Size:     165 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * Calls: 6 functions
 *   -> setfillstyle @ 23f1:1211
 *   -> bar @ 23f1:1c32
 *   -> getimage @ 23f1:2066
 *   -> putimage @ 23f1:1526
 *   -> setcolor @ 23f1:1d5c
 *   -> outtextxy @ 23f1:1f2a
 * ──────────────────────────────────────────────────────── */

bool __cdecl16far msg(int param_1,int param_2,int param_3,undefined2 param_4,undefined2 param_5)

{
  if (param_3 == 0) {
    putimage(param_1,param_2,0x2a56,""  /* empty */,0);
  }
  else {
    getimage(param_1,param_2,param_1 + 0xcd,param_2 + 0x2d,0x2a56,
                  ""  /* empty */);
    setfillstyle(1,0);
    bar(param_1 + 4,param_2 + 4,param_1 + 0xcc,param_2 + 0x2c);
    setfillstyle(1,0x3c);
    bar(param_1,param_2,param_1 + 200,param_2 + 0x28);
    setcolor(0);
    outtextxy(param_1 + 10,param_2 + 7,param_4,param_5);
  }
  return param_3 != 0;
}



/* ────────────────────────────────────────────────────────
 * Function: WndBkgr
 * Source:   void WndBkgr(int xl, int yt, int xr, int yb, int col, char txt[])
 * Module:   PROJ5.CPP
 * Address:  1928:0948
 * Size:     194 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   2
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 * CallingConv: __cdecl16far
 * Calls: 6 functions
 *   -> line @ 23f1:1bcf
 *   -> setfillstyle @ 23f1:1211
 *   -> bar @ 23f1:1c32
 *   -> rectangle @ 23f1:119e
 *   -> setcolor @ 23f1:1d5c
 *   -> outtextxy @ 23f1:1f2a
 * ──────────────────────────────────────────────────────── */

void __cdecl16far
WndBkgr(int param_1,int param_2,int param_3,int param_4,undefined2 param_5,undefined2 param_6,
       undefined2 param_7)

{
  setfillstyle(1,0);
  bar(param_1 + 5,param_2 + 5,param_3 + 5,param_4 + 5);
  setfillstyle(1,param_5);
  bar(param_1,param_2,param_3,param_4);
  setcolor(0);
  rectangle(param_1,param_2,param_3,param_4);
  outtextxy(param_1 + 10,param_2 + 5,param_6,param_7);
  line(param_1 + 3,param_2 + 0x12,param_3 + -3,param_2 + 0x12);
  line(param_1 + 3,param_4 + -0x1e,param_3 + -3,param_4 + -0x1e);
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: dlgcfg
 * Source:   int dlgcfg(void)
 * Module:   PROJ5.CPP
 * Address:  1928:0a0a
 * Size:     1 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * ──────────────────────────────────────────────────────── */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined2 dlgcfg(void)

{
  byte bVar1;
  int iVar2;
  undefined2 uVar3;
  int *piVar4;
  undefined2 uVar5;
  undefined1 auStack_74 [40];
  undefined1 auStack_4c [20];
  int iStack_38;
  int iStack_36;
  double dStack_30;
  undefined2 uStack_28;
  char *pcStack_26;
  undefined2 uStack_24;
  int iStack_22;
  int iStack_20;
  undefined2 uStack_1e;
  undefined2 uStack_1c;
  undefined2 uStack_1a;
  undefined2 uStack_18;
  int iStack_16;
  int iStack_14;
  undefined2 uStack_12;
  int iStack_10;
  int iStack_e;
  int iStack_c;
  int iStack_a;
  undefined2 uStack_8;
  int iStack_6;
  int iStack_4;
  
  iStack_c = 0;
  iStack_e = 0;
  iStack_20 = 0;
  iStack_22 = 0;
  uStack_24 = 0;
  pcStack_26 = ""  /* empty */;
  uStack_28 = 0xf5b;
  setdisk(cRam0002b70e + -0x41);
  chdir(0x29de,""  /* empty */);
  uVar3 = glpos9;
  iStack_10 = xptr;
  uStack_12 = yptr;
  iStack_14 = zptr;
  iStack_16 = gl_nmb;
  uStack_18 = l_period;
  uStack_1a = gate_delay;
  uStack_1c = step_freq;
  uStack_1e = f_const;
  WndBkgr(100,0x3c,0x208,0x19a,3,0xf5d,""  /* empty */);
  draw_bt(0x19a,""  /* empty */,0x106,
          ""  /* empty */,iStack_16 * 9 + 0x1c);
  outtextxy();
  outtextxy();
  rectangle();
  outtextxy();
  rectangle();
  outtextxy();
  outtextxy();
  rectangle();
  outtextxy();
  rectangle();
  outtextxy();
  rectangle();
  outtextxy();
  rectangle();
  outtextxy();
  outtextxy();
  rectangle();
  outtextxy();
  outtextxy();
  rectangle();
  outtextxy();
  outtextxy();
  outtextxy();
  rectangle();
  outtextxy();
  if (f_demo != 0) {
    outtextxy();
  }
  outtextxy();
  outtextxy();
  ultoa(ulMax,auStack_4c);
  strcat();
  outtextxy();
  rectangle();
  rectangle();
  do {
    sw_ctl(iStack_16,0,0x78,0x5a,3);
    sw_ctl(iStack_16,1,0x78,0x69,3);
    sw_ctl(uStack_24,1,0x78,0xa0,3);
    sw_ctl(iRam0002b6c2,1,0x78,0xb9,3);
    sw_ctl(uRam0002b6c0,3,0x78,200,3);
    if (iStack_c != 0) {
      RdCfg(iStack_16);
      iStack_10 = xptr;
      uStack_12 = yptr;
      iStack_14 = zptr;
      uStack_18 = l_period;
      uStack_1a = gate_delay;
      uStack_1c = step_freq;
      uStack_1e = f_const;
      if (iStack_16 != 0) {
        uVar3 = glpos9;
      }
      iStack_c = 0;
      iStack_e = 1;
    }
    setfillstyle(1,3);
    bar();
    itoa();
    outtextxy();
    itoa();
    outtextxy();
    bar();
    setfillstyle(1,0x3c);
    if (iStack_16 != 0) {
      glaspos(0x118,0x139,uVar3);
    }
    sw_ctl(iStack_20,1,400,0x5a,3);
    sw_ctl(uStack_1e,1,0x118,0x118,3);
    sw_ctl(uStack_1e,0,0x118,0x127,3);
    setfillstyle(1,0x3b);
    itoa();
    bar();
    outtextxy();
    itoa();
    bar();
    outtextxy();
    itoa();
    bar();
    outtextxy();
    itoa();
    bar();
    outtextxy();
    itoa();
    bar();
    outtextxy();
    itoa();
    bar();
    outtextxy();
    itoa();
    bar();
    outtextxy();
    setfillstyle(1,0x3b);
    bar();
    ultoa(ulFlash,auStack_74);
    outtextxy();
    itoa();
    memset();
    strcat();
    itoa();
    strcat();
    strcat();
    itoa();
    strcat();
    bar();
    outtextxy();
    if (iStack_e != 0) {
      uVar5 = uStack_1a;
      if (iRam0002b6c2 == 0) {
        uVar5 = 1;
      }
      program_pt2(uStack_18,uVar5);
      iStack_e = 0;
    }
    if ((iStack_20 != 0) && (iStack_22 != 0)) {
      bVar1 = in(0x30a);
      out(0x30a,bVar1 & 0xfe);
      msg(0x104,300,1,0xfea,""  /* empty */);
      delay(0x1e);
      if (do_ptr == 0) {
        move_sen(0);
      }
      iStack_6 = 0x5bcc - iStack_10;
      uStack_8 = uStack_12;
      iStack_36 = zsize;
      dStack_30 = (double)zsize * (1.0 - 1.0 / nglas) * (double)_FUN_28d3_0ff6;
      iStack_a = F_FTOL();
      iStack_a = (11000 - iStack_14) - iStack_a;
      iVar2 = move(iStack_6,uStack_8,iStack_a);
      if (iVar2 == 0) {
        bVar1 = in(0x30a);
        out(0x30a,bVar1 | 1);
        msgbox();
        return 0;
      }
      msg(0x104,300,0,0x1004,""  /* empty */);
      iStack_22 = 0;
    }
    iStack_38 = scan_ms(0x19a,""  /* empty */,0x106,
                        ""  /* empty */,iStack_16 * 10 + 0x1b,
                        0);
    iVar2 = 0x26;
    piVar4 = (int *)0x182d;
    do {
      iStack_4 = iStack_38;
      if (*piVar4 == iStack_38) {
                    /* WARNING: Could not recover jumptable at 0x0001a508. Too many branches */
                    /* WARNING: Treating indirect jump as call */
        uVar3 = (*(code *)piVar4[0x26])();
        return uVar3;
      }
      piVar4 = piVar4 + 1;
      iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
  } while( true );
}



/* ────────────────────────────────────────────────────────
 * Function: InrDcr
 * Source:   int InrDcr(int param, int pmin, int pmax, int pstep, int updn)
 * Module:   PROJ5.CPP
 * Address:  1928:18c5
 * Size:     1 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * ──────────────────────────────────────────────────────── */

int InrDcr(undefined2 param_1,int param_2,int param_3,int param_4,int param_5,int param_6)

{
  if (param_6 == 0) {
    if (param_3 + param_5 <= param_2) {
      param_3 = param_2 - param_5;
    }
  }
  else {
    param_3 = param_4;
    if (param_2 <= param_4 - param_5) {
      param_3 = param_2 + param_5;
    }
  }
  return param_3;
}



/* ────────────────────────────────────────────────────────
 * Function: sw_ctl
 * Source:   void sw_ctl(int flag, int param, int xpos, int ypos, int col)
 * Module:   PROJ5.CPP
 * Address:  1928:1906
 * Size:     72 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   1
 *   undefined2 local_4 @ Stack[-0x4]:2
 * CallingConv: __cdecl16far
 * Calls: 2 functions
 *   -> bar @ 23f1:1c32
 *   -> setfillstyle @ 23f1:1211
 * ──────────────────────────────────────────────────────── */

void __cdecl16far sw_ctl(int param_1,int param_2,int param_3,int param_4,undefined2 param_5)

{
  if (param_1 == param_2) {
    param_5 = 0x3c;
  }
  setfillstyle(1,param_5);
  bar(param_3 + 1,param_4 + 1,param_3 + 9,param_4 + 9);
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: dlgopen
 * Source:   int dlgopen(char destnm[], char dlgnm[], int flag)
 * Module:   PROJ5.CPP
 * Address:  1928:194e
 * Size:     1 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * ──────────────────────────────────────────────────────── */

void dlgopen(void)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  undefined2 uVar4;
  int in_stack_0000000c;
  undefined1 auStack_5c [20];
  char acStack_48 [48];
  int iStack_18;
  ulong uStack_16;
  undefined2 uStack_e;
  int iStack_c;
  undefined2 uStack_6;
  int iStack_4;
  
  memset();
  WndBkgr(0x5a);
  draw_bt();
  rectangle();
  rectangle();
  rectangle();
  outtextxy();
  rectangle();
  iVar3 = f_bc;
  if ((in_stack_0000000c != 0) && (iVar3 = f_bcab, in_stack_0000000c == 1)) {
    iVar3 = f_bca;
  }
  iStack_c = 0;
  uStack_e = 0;
  do {
    setfillstyle(1,2);
    bar();
    if (iVar3 == 3) {
      setcolor(0);
      setfillstyle(1,0x3b);
      rectangle();
      bar();
      rectangle();
      bar();
      rectangle();
      bar();
      outtextxy();
      outtextxy();
      outtextxy();
      outtextxy();
      outtextxy();
      outtextxy();
      uStack_16 = (ulong)dx;
      gcvt((double)((float)uStack_16 / 100.0f),4,acStack_48);
      outtextxy();
      uStack_16 = (ulong)dy;
      gcvt((double)((float)uStack_16 / 100.0f),4,acStack_48);
      outtextxy();
      uStack_16 = (ulong)dz;
      gcvt((double)((float)uStack_16 / 100.0f),4,acStack_48);
      outtextxy();
    }
    uVar4 = 0x23f1;
    if (iVar3 == 0) {
      uVar4 = 0x1000;
      memset();
    }
    if (iVar3 == 1) {
      uVar4 = 0x1000;
      memset();
    }
    if (iVar3 == 2) {
      uVar4 = 0x1000;
      memset();
    }
    if (iVar3 == 3) {
      uVar4 = 0x1000;
      memset();
    }
    rddir(uVar4,auStack_5c);
    setfillstyle(1,2);
    bar();
    outtextxy();
    sw_ctl();
    sw_ctl();
    sw_ctl();
    sw_ctl();
    setcolor(0);
    setfillstyle(1,0x3b);
    bar();
    iStack_4 = 0;
    do {
      outtextxy();
      iStack_4 = iStack_4 + 1;
    } while (iStack_4 < 0xc);
    bar();
    acStack_48[0] = getdisk();
    acStack_48[0] = acStack_48[0] + 'A';
    acStack_48[1] = 0x3a;
    acStack_48[2] = 0;
    outtextxy();
    bar();
    iStack_4 = 0;
    do {
      strlwr((undefined1 *)&flist + (iStack_4 + iStack_c) * 0xd,
                    ""  /* empty */);
      outtextxy();
      iStack_4 = iStack_4 + 1;
    } while (iStack_4 < 0xc);
    bar();
    outtextxy();
    if (iVar3 == 3) {
      uStack_6 = 4;
    }
    else {
      uStack_6 = 0;
    }
    iStack_18 = scan_ms();
    iVar1 = 0x12;
    piVar2 = (int *)0x22f6;
    do {
      iStack_4 = iStack_18;
      if (*piVar2 == iStack_18) {
                    /* WARNING: Could not recover jumptable at 0x0001b0a9. Too many branches */
                    /* WARNING: Treating indirect jump as call */
        (*(code *)piVar2[0x12])();
        return;
      }
      piVar2 = piVar2 + 1;
      iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
  } while( true );
}



/* ────────────────────────────────────────────────────────
 * Function: disksel
 * Source:   int disksel(int nmb)
 * Module:   PROJ5.CPP
 * Address:  1928:233e
 * Size:     1 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * ──────────────────────────────────────────────────────── */

int disksel(undefined2 param_1,int param_2)

{
  int iVar1;
  char acStack_8 [4];
  int iStack_4;
  
  iVar1 = (param_2 + 1) * 10;
  getimage(0xaa,0x144,0xd2,iVar1 + 0x14f,0x2a56,
                ""  /* empty */);
  setcolor(0);
  rectangle(0xaa,0x144,0xd2,iVar1 + 0x14f);
  setfillstyle(1,0x3b);
  bar(0xab,0x145,0xd1,iVar1 + 0x14e);
  acStack_8[1] = 0x3a;
  acStack_8[2] = 0;
  for (iStack_4 = 0; iStack_4 <= param_2; iStack_4 = iStack_4 + 1) {
    acStack_8[0] = (char)iStack_4 + 'A';
    outtextxy(0xb4,iStack_4 * 10 + 0x14b,acStack_8);
  }
  while ((((iStack_4 = ms_key_cmd(0), iStack_4 != 1 || (coord_h < 0xab)) ||
          (0xd1 < coord_h)) || ((coord_v < 0x14b || (iVar1 + 0x14a <= coord_v)))))
  {
    if (iStack_4 == 0x1b) {
      putimage(0xaa,0x144,0x2a56,""  /* empty */,0);
      return -1;
    }
  }
  iVar1 = coord_v + -0x14a;
  putimage(0xaa,0x144,0x2a56,""  /* empty */,0);
  return iVar1 / 10;
}



/* ────────────────────────────────────────────────────────
 * Function: dlged
 * Source:   int dlged(void)
 * Module:   PROJ5.CPP
 * Address:  1928:245c
 * Size:     1 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * ──────────────────────────────────────────────────────── */
/* DECOMPILATION FAILED */
/* --- Assembly listing --- */
/* --- End assembly --- */


/* ────────────────────────────────────────────────────────
 * Function: dlgcfg
 * Module:   PROJ5.CPP
 * Address:  1928:2578
 * Size:     1718 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * Calls: 12 functions
 *   -> bar @ 23f1:1c32
 *   -> LXMUL @ 1000:3eb2
 *   -> minmax @ 1928:5a33
 *   -> gcvt @ 1000:04ab
 *   -> scan_ms @ 1928:5dc0
 *   -> putpixel @ 23f1:2046
 *   -> msg @ 1928:08a3
 *   -> rectangle @ 23f1:119e
 *   -> setcolor @ 23f1:1d5c
 *   -> sw_ctl @ 1928:1906
 *   -> setfillstyle @ 23f1:1211
 *   -> outtextxy @ 23f1:1f2a
 * ──────────────────────────────────────────────────────── */

/* WARNING: Instruction at (ram,0x000156ec) overlaps instruction at (ram,0x000156ea)
    */
/* WARNING (jumptable): Unable to track spacebase fully for stack */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int __cdecl16far dlgcfg(undefined2 param_1,int param_2)

{
  byte *pbVar1;
  char *pcVar2;
  uint *puVar3;
  int *piVar4;
  undefined1 *puVar5;
  char cVar6;
  byte bVar7;
  uint *puVar8;
  uint *puVar9;
  int iVar10;
  int iVar11;
  uint uVar12;
  long lVar13;
  undefined1 uVar14;
  byte bVar15;
  uint in_CX;
  int iVar16;
  ulong uVar17;
  ulong in_EDX;
  undefined1 uVar18;
  uint uVar19;
  int unaff_BP;
  int *unaff_SI;
  uint uVar21;
  char *pcVar22;
  int *piVar23;
  undefined1 *puVar24;
  int *piVar25;
  int *unaff_DI;
  char *pcVar26;
  int unaff_ES;
  char *unaff_SS;
  bool bVar27;
  undefined2 uVar28;
  undefined2 uVar29;
  undefined2 uVar30;
  undefined2 uVar31;
  ulong uVar20;
  
  rectangle(500);
  outtextxy(500);
  rectangle(500);
  rectangle(0x20f);
  outtextxy(0x1f6);
  rectangle(0x20f);
  outtextxy(0x1f6);
  rectangle(0x20f);
  outtextxy(0x1f6);
  rectangle(0x20f);
  outtextxy(0x1f6);
  while( true ) {
    iVar11 = (int)in_EDX;
    if (*(int *)(unaff_BP + -0x26) == 0) {
      sw_ctl(*(undefined2 *)(unaff_BP + -0x14),1);
      uVar28 = 0xb8ee;
      sw_ctl(*(undefined2 *)(unaff_BP + -0x12),1);
      setfillstyle();
      bar(0x6e);
      setcolor();
      iVar16 = 0x3b;
      iVar10 = minmax();
      uVar19 = *(uint *)(unaff_BP + -0x10);
      if (uVar19 < 4) {
        switch(uVar19) {
        case 0:
          unaff_SI[6] = param_2;
          puVar3 = (uint *)(unaff_SI + 6);
          *puVar3 = *puVar3 & 1;
          uVar12 = *puVar3;
          unaff_SI[5] = (int)unaff_DI;
          unaff_SI[3] = iVar11;
          unaff_SI[2] = iVar16;
          unaff_SI[1] = uVar19 * 2;
          *unaff_SI = iVar10;
          if (uVar12 != 0) {
            __IOERROR();
          }
          return iVar10;
        case 1:
          pbVar1 = (byte *)((int)unaff_DI + unaff_BP + 0x646);
          *pbVar1 = *pbVar1 | (byte)iVar16;
          return iVar10;
        case 2:
          if (iVar10 != 0 || iVar11 != 0) {
            FUN_1000_58d4(*(undefined2 *)(unaff_BP + 6),*(undefined2 *)(unaff_BP + 8));
            *(undefined2 *)((int)*(undefined4 *)(unaff_BP + 6) + 4) =
                 *(undefined2 *)(unaff_BP + 0xe);
          }
          puVar9 = (uint *)FUN_1000_5c87();
          break;
        case 3:
          bVar7 = in(0x30a);
          out(0x30a,bVar7 | 1);
          iVar11 = msg(0x104);
          nmb_pbt = 0xff;
          return iVar11;
        }
        goto code_r0x000156ef;
      }
      iVar11 = ysize;
      if (ysize < xsize) {
        iVar11 = xsize;
      }
      *(int *)(unaff_BP + -0xe) = iVar11;
      if (zsize < *(int *)(unaff_BP + -0xe)) {
        uVar29 = (uint)(0xdac / (long)*(int *)(unaff_BP + -0xe));
      }
      else {
        uVar29 = (uint)(0xdac / (long)zsize);
      }
      *(undefined2 *)(unaff_BP + -0xe) = uVar29;
      *(int *)(unaff_BP + -10) = (*(int *)(unaff_BP + -0xe) * *(int *)(unaff_BP + -0x1a)) / 10;
      iVar11 = *(int *)(unaff_BP + -0xe) * *(int *)(unaff_BP + -0x1c);
      in_EDX = (long)iVar11 % 10 & 0xffff;
      *(int *)(unaff_BP + -0xc) = iVar11 / 10;
      if (*(int *)(unaff_BP + -0x14) != 0) {
        rectangle(0x78);
      }
      uVar30 = 0x23f1;
      uVar29 = 0xbaf1;
      outtextxy(0x6e);
      setcolor();
      in_CX = 0;
      uVar31 = 0xbb05;
      setfillstyle();
      *(undefined8 *)(unaff_BP + -0x62) = nglas;
      gcvt(uVar28,uVar29,uVar30,uVar31);
      bar(0x1f5);
      outtextxy(0x1fe);
      bar(0x1f5);
      uVar30 = 0x23f1;
      uVar29 = 0xbb69;
      outtextxy(0x1f9);
      *(int *)(unaff_BP + -0x2c) = xsize;
      *(double *)(unaff_BP + -0x62) = (double)((float)*(int *)(unaff_BP + -0x2c) / _FUN_28d3_0ff6);
      gcvt(uVar28,uVar29,uVar30);
      bar(0x1f5);
      uVar30 = 0x23f1;
      uVar29 = 0xbbb5;
      outtextxy(0x1fe);
      *(int *)(unaff_BP + -0x2c) = ysize;
      *(double *)(unaff_BP + -0x62) = (double)((float)*(int *)(unaff_BP + -0x2c) / _FUN_28d3_0ff6);
      gcvt(uVar28,uVar29,uVar30);
      bar(0x1f5);
      uVar30 = 0x23f1;
      uVar29 = 0xbc03;
      outtextxy(0x1fe);
      *(int *)(unaff_BP + -0x2c) = zsize;
      *(double *)(unaff_BP + -0x62) = (double)((float)*(int *)(unaff_BP + -0x2c) / _FUN_28d3_0ff6);
      gcvt(uVar28,uVar29,uVar30);
      bar(0x1f5);
      outtextxy(0x1fe);
    }
    iVar11 = (int)in_EDX;
    uVar19 = *(uint *)(unaff_BP + -0x10);
    if (uVar19 < 4) break;
    if (f_data != 0) {
      setfillstyle();
      *(int *)(unaff_BP + -0x2c) =
           (*(int *)(unaff_BP + -0x1c) * 10 - *(int *)(unaff_BP + -0x24)) -
           *(int *)(unaff_BP + -0x18);
      *(double *)(unaff_BP + -0x62) = (double)((float)*(int *)(unaff_BP + -0x2c) / 100.0f);
      gcvt();
      bar(0x210);
      outtextxy(0x219);
      *(int *)(unaff_BP + -0x2c) = *(int *)(unaff_BP + -0x1e) + *(int *)(unaff_BP + -0x16);
      *(double *)(unaff_BP + -0x62) = (double)((float)*(int *)(unaff_BP + -0x2c) / 100.0f);
      gcvt();
      bar(0x210);
      outtextxy(0x219);
      *(int *)(unaff_BP + -0x2c) =
           (*(int *)(unaff_BP + -0x1a) * 10 - *(int *)(unaff_BP + -0x22)) -
           *(int *)(unaff_BP + -0x16);
      *(double *)(unaff_BP + -0x62) = (double)((float)*(int *)(unaff_BP + -0x2c) / 100.0f);
      gcvt();
      bar(0x210);
      outtextxy(0x219);
      *(int *)(unaff_BP + -0x2c) = *(int *)(unaff_BP + -0x20) + *(int *)(unaff_BP + -0x18);
      *(double *)(unaff_BP + -0x62) = (double)((float)*(int *)(unaff_BP + -0x2c) / 100.0f);
      gcvt();
      bar(0x210);
      outtextxy(0x219);
    }
    if (*(int *)(unaff_BP + -0x14) == 0) {
      uVar28 = 0xf;
    }
    else {
      uVar28 = 0;
    }
    *(undefined2 *)(unaff_BP + -2) = uVar28;
    if (*(int *)(unaff_BP + -0x14) == 0) {
      unaff_DI = (int *)0x0;
    }
    else {
      unaff_DI = (int *)((int)(undefined2 *)&DAT_28d3_0002 + 1);
    }
    setfillstyle();
    bar(0x79);
    *(undefined4 *)(unaff_BP + -0x2a) = 0;
    while (*(long *)(unaff_BP + -0x2a) < nmax) {
      if ((*(int *)(unaff_BP + -0x12) == 0) || (*(int *)(unaff_BP + -6) != 0)) {
        iVar11 = 0;
        uVar12 = LXMUL();
        uVar19 = *(uint *)(unaff_BP + -6);
        uVar21 = uVar12 + uVar19;
        iVar11 = *(int *)(uVar21 * 2 + iTabl) + *(int *)(unaff_BP + -0x16);
      }
      else {
        iVar11 = 0;
        uVar12 = LXMUL();
        uVar19 = *(uint *)(unaff_BP + -6);
        uVar21 = uVar12 + uVar19;
        iVar11 = (*(int *)(unaff_BP + -0x1a) * 10 - *(int *)(uVar21 * 2 + iTabl)) -
                 *(int *)(unaff_BP + -0x16);
      }
      unaff_DI = (int *)(int *)(((long)iVar11 * (long)*(int *)(unaff_BP + -0xe)) / 100);
      if ((*(int *)(unaff_BP + -0x12) == 0) || (*(int *)(unaff_BP + -0x10) != 1)) {
        iVar11 = 0;
        uVar12 = LXMUL();
        uVar19 = *(uint *)(unaff_BP + -8);
        uVar21 = uVar12 + uVar19;
        unaff_SI = (int *)(uVar21 * 2 + iTabl);
        unaff_ES = (((iVar11 + ((int)uVar19 >> 0xf) + (uint)CARRY2(uVar12,uVar19)) * 2 |
                    (uint)CARRY2(uVar21,uVar21)) + (uint)CARRY2(uVar21 * 2,iTabl)) * 0x1000
                   + iTabl_seg;
        iVar11 = *unaff_SI + *(int *)(unaff_BP + -0x18);
      }
      else {
        iVar11 = 0;
        uVar12 = LXMUL();
        uVar19 = *(uint *)(unaff_BP + -8);
        uVar21 = uVar12 + uVar19;
        unaff_SI = (int *)(uVar21 * 2 + iTabl);
        unaff_ES = (((iVar11 + ((int)uVar19 >> 0xf) + (uint)CARRY2(uVar12,uVar19)) * 2 |
                    (uint)CARRY2(uVar21,uVar21)) + (uint)CARRY2(uVar21 * 2,iTabl)) * 0x1000
                   + iTabl_seg;
        iVar11 = (*(int *)(unaff_BP + -0x1c) * 10 - *unaff_SI) - *(int *)(unaff_BP + -0x18);
      }
      lVar13 = (long)iVar11 * (long)*(int *)(unaff_BP + -0xe);
      in_EDX = lVar13 % 100;
      *(undefined2 *)(unaff_BP + -4) = (int)(lVar13 / 100);
      if ((((0 < (int)unaff_DI) && ((int)unaff_DI < *(int *)(unaff_BP + -10))) &&
          (0 < *(int *)(unaff_BP + -4))) && (*(int *)(unaff_BP + -4) < *(int *)(unaff_BP + -0xc))) {
        putpixel();
      }
      *(long *)(unaff_BP + -0x2a) = *(long *)(unaff_BP + -0x2a) + 1;
    }
    *(undefined2 *)(unaff_BP + -0x26) = 0;
    uVar28 = scan_ms(0x4e2,""  /* empty */,0x466);
    *(undefined2 *)(unaff_BP + -2) = uVar28;
    *(undefined2 *)(unaff_BP + -0x2e) = *(undefined2 *)(unaff_BP + -2);
    iVar11 = 0x20;
    piVar25 = (int *)0x383f;
    do {
      if (*piVar25 == *(int *)(unaff_BP + -0x2e)) {
                    /* WARNING: Could not recover jumptable at 0x0001bff7. Too many branches */
                    /* WARNING: Treating indirect jump as call */
        iVar11 = (*(code *)piVar25[0x20])();
        return iVar11;
      }
      piVar25 = piVar25 + 1;
      iVar11 = iVar11 + -1;
    } while (iVar11 != 0);
    in_CX = 0;
  }
  bVar27 = CARRY2(uVar19,uVar19);
  puVar9 = (uint *)(uVar19 * 2);
  switch(uVar19) {
  case 0:
    break;
  case 1:
    iVar11 = setvbuf(0x1da0,""  /* empty */);
    return iVar11;
  case 2:
    uVar19 = puVar9[0x1156];
    *(uint *)(unaff_BP + -2) = puVar9[0x1157];
    *(uint *)(unaff_BP + -4) = uVar19;
    if ((*(int *)(unaff_BP + 6) != 0 || *(int *)(unaff_BP + 8) != 0) &&
       (*(char *)*(undefined4 *)(unaff_BP + 6) != '\0')) {
      fputs((char *)(char *)*(undefined4 *)(unaff_BP + 6));
      fputs(0x2577);
    }
    fputs(*(undefined2 *)(unaff_BP + -4));
    iVar11 = fputs(0x257a);
    return iVar11;
  case 3:
switchD_1000_bc5e_caseD_3:
    cVar6 = *(char *)(unaff_BP + (int)unaff_DI);
    pcVar2 = (char *)((int)puVar9 + (int)unaff_DI + 6);
    *pcVar2 = *pcVar2 >> 0x17;
    in_CX = MAKEWORD_8(3,(char)in_CX + cVar6 + bVar27 +
                       *(char *)((int)puVar9 + (int)unaff_DI + -0x7ba));
LAB_1000_214e:
    piVar4 = unaff_SI;
    unaff_SI = (int *)((int)unaff_SI + 1);
    cVar6 = (char)*piVar4;
LAB_1000_2150:
    if (0x5f < (byte)(cVar6 - 0x20U)) goto switchD_1000_216c_caseD_13;
    bVar7 = *(byte *)((byte)(cVar6 - 0x20U) + 0x224b);
    if (0x17 < bVar7) goto switchD_1000_216c_caseD_13;
    puVar9 = (uint *)((uint)bVar7 * 2);
    uVar14 = (uchar)in_CX;
    bVar15 = (byte)(in_CX >> 8);
    uVar18 = SUB21(puVar9,0);
    pcVar26 = unaff_SS;
    switch(bVar7) {
    case 0:
      goto switchD_1000_216c_caseD_0;
    case 1:
      if (bVar15 != 0) goto switchD_1000_216c_caseD_13;
      *(uint *)(unaff_BP + -2) = *(uint *)(unaff_BP + -2) | 1;
      goto LAB_1000_214e;
    case 2:
      unaff_DI = (int *)*(undefined2 *)(unaff_BP + 4);
      iVar11 = *unaff_DI;
      *(int *)(unaff_BP + 4) = *(int *)(unaff_BP + 4) + 2;
      if (1 < bVar15) {
        if (bVar15 != 4) goto switchD_1000_216c_caseD_13;
        *(int *)(unaff_BP + -10) = iVar11;
        in_CX = MAKEWORD_8(5,uVar14);
        goto LAB_1000_214e;
      }
      if (iVar11 < 0) {
        iVar11 = -iVar11;
        *(uint *)(unaff_BP + -2) = *(uint *)(unaff_BP + -2) | 2;
      }
      bVar27 = false;
      *(int *)(unaff_BP + -8) = iVar11;
      goto switchD_1000_bc5e_caseD_3;
    case 3:
      if (bVar15 != 0) goto switchD_1000_216c_caseD_13;
      *(uint *)(unaff_BP + -2) = *(uint *)(unaff_BP + -2) | 2;
      goto LAB_1000_214e;
    case 4:
      if (3 < bVar15) goto switchD_1000_216c_caseD_13;
      in_CX = MAKEWORD_8(4,uVar14);
      *(int *)(unaff_BP + -10) = *(int *)(unaff_BP + -10) + 1;
      goto LAB_1000_214e;
    case 5:
      goto switchD_1000_216c_caseD_5;
    case 6:
      *(uint *)(unaff_BP + -2) = *(uint *)(unaff_BP + -2) | 0x10;
      break;
    case 7:
      *(uint *)(unaff_BP + -2) = *(uint *)(unaff_BP + -2) | 0x100;
    case 8:
      *(uint *)(unaff_BP + -2) = *(uint *)(unaff_BP + -2) & 0xffef;
      break;
    case 9:
      if (bVar15 == 0) {
        if ((*(uint *)(unaff_BP + -2) & 2) == 0) {
          *(uint *)(unaff_BP + -2) = *(uint *)(unaff_BP + -2) | 8;
          in_CX = MAKEWORD_8(1,uVar14);
        }
        goto LAB_1000_214e;
      }
switchD_1000_216c_caseD_5:
      if (bVar15 < 3) {
        in_CX = MAKEWORD_8(2,uVar14);
        LOCK();
        iVar11 = *(int *)(unaff_BP + -8);
        *(int *)(unaff_BP + -8) = (int)(char)(cVar6 + -0x30);
        UNLOCK();
        if (-1 < iVar11) {
          *(int *)(unaff_BP + -8) = *(int *)(unaff_BP + -8) + iVar11 * 10;
        }
      }
      else {
        if (bVar15 != 4) goto switchD_1000_216c_caseD_13;
        LOCK();
        iVar11 = *(int *)(unaff_BP + -10);
        *(int *)(unaff_BP + -10) = (int)(char)(cVar6 + -0x30);
        UNLOCK();
        if (iVar11 != 0) {
          *(int *)(unaff_BP + -10) = *(int *)(unaff_BP + -10) + iVar11 * 10;
        }
      }
      goto LAB_1000_214e;
    case 10:
      uVar28 = MAKEWORD_8(10,uVar18);
      *(undefined1 *)(unaff_BP + -6) = 1;
      *(char *)(unaff_BP + -5) = cVar6;
      piVar25 = (int *)*(undefined2 *)(unaff_BP + 4);
      iVar11 = *piVar25;
      iVar16 = iVar11 >> 0xf;
      goto LAB_1000_227d;
    case 0xb:
      uVar28 = MAKEWORD_8(8,uVar18);
      goto LAB_1000_2259;
    case 0xc:
      uVar28 = MAKEWORD_8(10,uVar18);
      goto LAB_1000_2259;
    case 0xd:
      uVar28 = MAKEWORD_8(0x10,cVar6 + -0x17);
LAB_1000_2259:
      *(undefined1 *)(unaff_BP + -0xb) = 0;
      *(char *)(unaff_BP + -5) = cVar6;
      iVar16 = 0;
      *(undefined1 *)(unaff_BP + -6) = 0;
      piVar25 = (int *)*(undefined2 *)(unaff_BP + 4);
      iVar11 = *piVar25;
LAB_1000_227d:
      piVar23 = piVar25 + 1;
      *(int *)(unaff_BP + 6) = (int)unaff_SI;
      if ((*(uint *)(unaff_BP + -2) & 0x10) != 0) {
        iVar16 = *piVar23;
        piVar23 = piVar25 + 2;
      }
      *(undefined2 *)(unaff_BP + 4) = piVar23;
      puVar9 = (uint *)(unaff_BP + -0x45);
      if ((iVar11 == 0) && (iVar16 == 0)) {
        if (*(int *)(unaff_BP + -10) != 0) goto LAB_1000_22ae;
        *(char *)puVar9 = '\0';
      }
      else {
        *(uint *)(unaff_BP + -2) = *(uint *)(unaff_BP + -2) | 4;
LAB_1000_22ae:
        __LONGTOA(uVar28,*(undefined1 *)(unaff_BP + -6),(char)((uint)uVar28 >> 8),puVar9);
      }
      iVar11 = *(int *)(unaff_BP + -10);
      if (iVar11 < 0) {
LAB_1000_23be:
        if (((*(uint *)(unaff_BP + -2) & 8) != 0) && (iVar11 = *(int *)(unaff_BP + -8), 0 < iVar11))
        goto LAB_1000_23cc;
      }
      else {
LAB_1000_23cc:
        FUN_1000_20b5();
        if ((char)*puVar9 == '-') {
          in_CX = in_CX - 1;
        }
        if (iVar11 - in_CX != 0 && (int)in_CX <= iVar11) {
          *(int *)(unaff_BP + -0xe) = iVar11 - in_CX;
        }
      }
      if ((char)*puVar9 == '-') {
LAB_1000_23ee:
        if ((0 < *(int *)(unaff_BP + -0xe)) && (in_CX = *(uint *)(unaff_BP + -10), (int)in_CX < 0))
        {
          *(int *)(unaff_BP + -0xe) = *(int *)(unaff_BP + -0xe) + -1;
        }
      }
      else if (*(char *)(unaff_BP + -0xb) != '\0') {
        puVar9 = (uint *)((int)puVar9 + -1);
        *(char *)puVar9 = *(char *)(unaff_BP + -0xb);
        goto LAB_1000_23ee;
      }
      FUN_1000_20b5();
LAB_1000_2401:
      pcVar22 = (char *)*(undefined2 *)(unaff_BP + -4);
      uVar19 = *(uint *)(unaff_BP + -8);
      if ((*(uint *)(unaff_BP + -2) & 5) == 5) {
        cVar6 = *(char *)(unaff_BP + -5);
        if (cVar6 == 'o') {
          if (*(int *)(unaff_BP + -0xe) < 1) {
            *(undefined2 *)(unaff_BP + -0xe) = 1;
          }
        }
        else if ((cVar6 == 'x') || (cVar6 == 'X')) {
          *(uint *)(unaff_BP + -2) = *(uint *)(unaff_BP + -2) | 0x40;
          uVar19 = uVar19 - 2;
          piVar4 = (int *)(unaff_BP + -0xe);
          iVar11 = *piVar4;
          *piVar4 = *piVar4 + -2;
          if (SBORROW2(iVar11,2) != *piVar4 < 0) {
            *(undefined2 *)(unaff_BP + -0xe) = 0;
          }
        }
      }
      in_CX = in_CX + *(int *)(unaff_BP + -0xe);
      if ((*(uint *)(unaff_BP + -2) & 2) == 0) {
        for (; (int)in_CX < (int)uVar19; uVar19 = uVar19 - 1) {
          __OUTC();
        }
      }
      if ((*(uint *)(unaff_BP + -2) & 0x40) != 0) {
        __OUTC();
        __OUTC();
      }
      iVar11 = *(int *)(unaff_BP + -0xe);
      if (0 < iVar11) {
        in_CX = in_CX - iVar11;
        uVar19 = uVar19 - iVar11;
        cVar6 = (char)*puVar9;
        if (((cVar6 == '-') || (cVar6 == ' ')) || (cVar6 == '+')) {
          puVar9 = (uint *)((int)puVar9 + 1);
          __OUTC();
          in_CX = in_CX - 1;
          uVar19 = uVar19 - 1;
        }
        uVar20 = (ulong)uVar19;
        uVar17 = (ulong)in_CX;
        for (; iVar11 != 0; iVar11 = iVar11 + -1) {
          __OUTC();
          uVar19 = (uint)uVar20;
          in_CX = (uint)uVar17;
        }
      }
      if (in_CX != 0) {
        uVar17 = (ulong)(uVar19 - in_CX);
        do {
          puVar3 = puVar9;
          puVar9 = (uint *)((int)puVar9 + 1);
          *pcVar22 = (char)*puVar3;
          pcVar22 = pcVar22 + 1;
          pcVar2 = (char *)(unaff_BP + -0x14);
          cVar6 = *pcVar2;
          *pcVar2 = *pcVar2 + -1;
          if (*pcVar2 == '\0' || SBORROW1(cVar6,'\x01') != *pcVar2 < '\0') {
            __OUTS();
          }
          uVar19 = (uint)uVar17;
          in_CX = in_CX - 1;
        } while (in_CX != 0);
      }
      if (0 < (int)uVar19) {
        do {
          __OUTC();
          uVar19 = uVar19 - 1;
        } while (uVar19 != 0);
      }
LAB_1000_210b:
      unaff_ES = (int)((ulong)*(undefined4 *)(unaff_BP + 6) >> 0x10);
      piVar25 = (int *)(int *)*(undefined4 *)(unaff_BP + 6);
LAB_1000_210e:
      unaff_SI = (int *)((int)piVar25 + 1);
      cVar6 = (char)*piVar25;
      if (cVar6 == '\0') goto LAB_1000_250e;
      if (cVar6 == '%') {
        *(int *)(unaff_BP + -0x10) = (int)unaff_SI;
        piVar4 = unaff_SI;
        unaff_SI = piVar25 + 1;
        cVar6 = (char)*piVar4;
        if (cVar6 != '%') goto code_r0x00012132;
      }
      *pcVar22 = cVar6;
      pcVar22 = pcVar22 + 1;
      pcVar2 = (char *)(unaff_BP + -0x14);
      cVar6 = *pcVar2;
      *pcVar2 = *pcVar2 + -1;
      piVar25 = unaff_SI;
      if (*pcVar2 == '\0' || SBORROW1(cVar6,'\x01') != *pcVar2 < '\0') {
        __OUTS();
      }
      goto LAB_1000_210e;
    case 0xe:
      *(char *)(unaff_BP + -5) = cVar6;
      *(int *)(unaff_BP + 6) = (int)unaff_SI;
      puVar24 = (undefined1 *)(unaff_BP + -0x46);
      iVar11 = *(int *)(unaff_BP + 4);
      *(int *)(unaff_BP + 4) = iVar11 + 2;
      if ((*(uint *)(unaff_BP + -2) & 0x20) != 0) {
        *(int *)(unaff_BP + 4) = iVar11 + 4;
        FUN_1000_2083();
        puVar5 = puVar24;
        puVar24 = (undefined1 *)(unaff_BP + -0x45);
        *puVar5 = 0x3a;
      }
      FUN_1000_2083();
      *puVar24 = 0;
      *(undefined1 *)(unaff_BP + -6) = 0;
      *(uint *)(unaff_BP + -2) = *(uint *)(unaff_BP + -2) & 0xfffb;
      puVar9 = (uint *)(unaff_BP + -0x46);
      in_CX = (int)puVar24 - (int)puVar9;
      goto LAB_1000_23be;
    case 0xf:
      *(int *)(unaff_BP + 6) = (int)unaff_SI;
      *(char *)(unaff_BP + -5) = cVar6;
      in_CX = *(uint *)(unaff_BP + -10);
      if ((int)in_CX < 0) {
        in_CX = 6;
      }
      uVar19 = *(uint *)(unaff_BP + -2);
      if ((*(uint *)(unaff_BP + -2) & 0x100) == 0) {
        *(int *)(unaff_BP + 4) = *(int *)(unaff_BP + 4) + 8;
        uVar28 = 6;
      }
      else {
        uVar28 = 8;
        *(int *)(unaff_BP + 4) = *(int *)(unaff_BP + 4) + 10;
      }
      thunk___realcvt(uVar28,uVar19 & 1,cVar6,unaff_BP + -0x45,unaff_SS);
      puVar9 = (uint *)(unaff_BP + -0x45);
      goto LAB_1000_23be;
    case 0x10:
      *(int *)(unaff_BP + 6) = (int)unaff_SI;
      *(char *)(unaff_BP + -5) = cVar6;
      uVar19 = *(uint *)*(undefined2 *)(unaff_BP + 4);
      *(int *)(unaff_BP + 4) = *(int *)(unaff_BP + 4) + 2;
      puVar9 = (uint *)(unaff_BP + -0x45);
      *puVar9 = uVar19 & 0xff;
      in_CX = 1;
      goto LAB_1000_2401;
    case 0x11:
      *(int *)(unaff_BP + 6) = (int)unaff_SI;
      *(char *)(unaff_BP + -5) = cVar6;
      if ((*(uint *)(unaff_BP + -2) & 0x20) == 0) {
        puVar9 = *(uint **)(undefined4 *)*(undefined2 *)(unaff_BP + 4);
        *(int *)(unaff_BP + 4) = *(int *)(unaff_BP + 4) + 2;
        pcVar26 = ""  /* empty */;
        puVar8 = puVar9;
      }
      else {
        puVar3 = (uint *)*(undefined4 *)*(undefined2 *)(unaff_BP + 4);
        pcVar26 = (char *)((ulong)puVar3 >> 0x10);
        puVar9 = (uint *)puVar3;
        *(int *)(unaff_BP + 4) = *(int *)(unaff_BP + 4) + 4;
        puVar8 = (uint *)((uint)pcVar26 | (uint)puVar9);
      }
      if (puVar8 == (uint *)0x0) {
        pcVar26 = ""  /* empty */;
        puVar9 = (uint *)&DAT_28d3_2244;
      }
      FUN_1000_20b5();
      if (*(uint *)(unaff_BP + -10) < in_CX) {
        in_CX = *(uint *)(unaff_BP + -10);
      }
      goto LAB_1000_2401;
    case 0x12:
      *(int *)(unaff_BP + 6) = (int)unaff_SI;
      if ((*(uint *)(unaff_BP + -2) & 0x20) == 0) {
        piVar25 = *(int **)(undefined4 *)*(undefined2 *)(unaff_BP + 4);
        *(int *)(unaff_BP + 4) = *(int *)(unaff_BP + 4) + 2;
        pcVar26 = ""  /* empty */;
      }
      else {
        piVar4 = (int *)*(undefined4 *)*(undefined2 *)(unaff_BP + 4);
        pcVar26 = (char *)((ulong)piVar4 >> 0x10);
        piVar25 = (int *)piVar4;
        *(int *)(unaff_BP + 4) = *(int *)(unaff_BP + 4) + 4;
      }
      *piVar25 = (uint)(byte)(0x50 - *(char *)(unaff_BP + -0x14)) + *(int *)(unaff_BP + -0x12);
      if ((*(uint *)(unaff_BP + -2) & 0x10) != 0) {
        piVar25[1] = 0;
      }
      pcVar22 = (char *)*(undefined2 *)(unaff_BP + -4);
      goto LAB_1000_210b;
    default:
      goto switchD_1000_216c_caseD_13;
    case 0x16:
      *(uint *)(unaff_BP + -2) = *(uint *)(unaff_BP + -2) & 0xffdf;
      break;
    case 0x17:
      *(uint *)(unaff_BP + -2) = *(uint *)(unaff_BP + -2) | 0x20;
    }
    in_CX = MAKEWORD_8(5,uVar14);
    goto LAB_1000_214e;
  }
code_r0x000156ef:
  puVar3 = puVar9;
  uVar19 = *puVar3;
  *puVar3 = *puVar3 + 1;
  puVar9[1] = puVar9[1] + (uint)(0xfffe < uVar19);
  return *(int *)(unaff_BP + 6);
code_r0x00012132:
  *(undefined2 *)(unaff_BP + -4) = pcVar22;
  in_CX = 0;
  *(undefined2 *)(unaff_BP + -0xe) = 0;
  *(undefined2 *)(unaff_BP + -2) = 0x20;
  *(undefined1 *)(unaff_BP + -0xb) = 0;
  *(undefined2 *)(unaff_BP + -8) = 0xffff;
  *(undefined2 *)(unaff_BP + -10) = 0xffff;
  goto LAB_1000_2150;
switchD_1000_216c_caseD_0:
  if (bVar15 != 0) {
switchD_1000_216c_caseD_13:
    pcVar26 = (char *)*(undefined2 *)(unaff_BP + -0x10);
    uVar28 = *(undefined2 *)(unaff_BP + 8);
    do {
      __OUTC();
      pcVar2 = pcVar26;
      pcVar26 = pcVar26 + 1;
    } while (*pcVar2 != '\0');
LAB_1000_250e:
    if (*(char *)(unaff_BP + -0x14) < 'P') {
      __OUTS();
    }
    if (*(int *)(unaff_BP + -0x16) == 0) {
      iVar11 = *(int *)(unaff_BP + -0x12);
    }
    else {
      iVar11 = -1;
    }
    return iVar11;
  }
  if (*(char *)(unaff_BP + -0xb) != '+') {
    *(char *)(unaff_BP + -0xb) = cVar6;
  }
  goto LAB_1000_214e;
}



/* ────────────────────────────────────────────────────────
 * Function: chdiska
 * Source:   void chdiska(void)
 * Module:   PROJ5.CPP
 * Address:  1928:38cf
 * Size:     1 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * ──────────────────────────────────────────────────────── */

void chdiska(void)

{
  if (path + -0x41 < 2) {
    setdisk(cRam0002b70e + -0x41);
    chdir(0x29de,""  /* empty */);
  }
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: inp_dig
 * Source:   long inp_dig(int xl, int yt, double min, double max, int ax)
 * Module:   PROJ5.CPP
 * Address:  1928:38fa
 * Size:     351 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   3
 *   undefined8 local_a @ Stack[-0xa]:8
 *   undefined1 local_b @ Stack[-0xb]:1
 *   undefined1 local_12 @ Stack[-0x12]:1
 * CallingConv: __cdecl16far
 * Calls: 9 functions
 *   -> bar @ 23f1:1c32
 *   -> msgbox @ 1928:07ab
 *   -> getch @ 1000:18df
 *   -> F_FTOL @ 1000:0f76
 *   -> atof @ 1000:0492
 *   -> setcolor @ 23f1:1d5c
 *   -> kbhit @ 1000:1953
 *   -> setfillstyle @ 23f1:1211
 *   -> outtextxy @ 23f1:1f2a
 * ──────────────────────────────────────────────────────── */

/* WARNING: Type propagation algorithm not settling */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined2 __cdecl16far
inp_dig(int param_1,int param_2,double param_3,double param_4,int param_5)

{
  undefined2 *puVar1;
  double dVar2;
  int iVar3;
  undefined2 uVar4;
  int iVar5;
  undefined2 *puVar6;
  undefined2 unaff_SS;
  longdouble in_ST0;
  longdouble lVar7;
  longdouble in_ST1;
  longdouble in_ST2;
  longdouble in_ST3;
  longdouble in_ST4;
  longdouble in_ST5;
  longdouble in_ST6;
  longdouble in_ST7;
  char local_12 [7];
  char local_b;
  double local_a;
  
  local_12[0] = '_';
  puVar6 = (undefined2 *)((int)local_12 + 1);
  for (iVar5 = 3; iVar5 != 0; iVar5 = iVar5 + -1) {
    puVar1 = puVar6;
    puVar6 = puVar6 + 1;
    *puVar1 = 0;
  }
  iVar5 = 0;
  setcolor(0);
  while( true ) {
    setfillstyle(1,0xf);
    bar(param_1,param_2,param_1 + 0x3a,param_2 + 0xe);
    outtextxy(param_1 + 9,param_2 + 4,local_12);
    lVar7 = in_ST0;
    do {
      iVar3 = kbhit();
    } while (iVar3 == 0);
    local_b = getch();
    iVar3 = iVar5;
    if (((('/' < local_b) && (local_b < ':')) || (local_b == '.')) && (iVar5 < 5)) {
      local_12[iVar5] = local_b;
      iVar3 = iVar5 + 1;
      local_12[iVar5 + 1] = 0x5f;
    }
    iVar5 = iVar3;
    if ((local_b == '\b') && (0 < iVar3)) {
      local_12[iVar3] = '\0';
      iVar5 = iVar3 + -1;
      (&stack0xffed)[iVar3] = 0x5f;
    }
    if (local_b == '\x1b') break;
    in_ST0 = lVar7;
    if (local_b == '\r') {
      in_ST0 = in_ST1;
      in_ST1 = in_ST2;
      in_ST2 = in_ST3;
      in_ST3 = in_ST4;
      in_ST4 = in_ST5;
      in_ST5 = in_ST6;
      in_ST6 = in_ST7;
      atof(local_12);
      local_a = (double)lVar7;
      if ((param_3 <= local_a) && (local_a <= param_4)) {
        dVar2 = local_a;
        if (param_5 != 0) {
          dVar2 = nglas;
          if (param_5 == 1) {
            local_a = (double)(_FUN_28d3_0ff6 * (float)lVar7);
          }
          else if (param_5 == 2) {
            local_a = (double)(100.0f * (float)lVar7);
          }
        }
        nglas = dVar2;
        uVar4 = F_FTOL();
        return uVar4;
      }
      in_ST7 = in_ST6;
      msgbox((char *)s_HCOut_of_range_28d3_1205 + 2,
             ""  /* empty */,0,0);
    }
  }
  return 0xffff;
}



/* ────────────────────────────────────────────────────────
 * Function: glload
 * Source:   void glload(int direct)
 * Module:   PROJ5.CPP
 * Address:  1928:3a59
 * Size:     43 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * Calls: 2 functions
 *   -> msg @ 1928:08a3
 *   -> delay @ 1000:537f
 * ──────────────────────────────────────────────────────── */

void glload(undefined2 param_1,undefined2 param_2)

{
  byte bVar1;
  
  msg(0x104,0x10e,1,(char *)"Please wait",
      ""  /* empty */);
  bVar1 = in(0x30a);
  out(0x30a,bVar1 & 0xfe);
  delay(0x1e);
  move_sen(param_2);
  bVar1 = in(0x30a);
  out(0x30a,bVar1 | 1);
  msg(0x104,0x10e,0,0x1220,""  /* empty */);
  nmb_pbt = 0xff;
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: dlgload
 * Source:   int dlgload(void)
 * Module:   PROJ5.CPP
 * Address:  1928:3aaf
 * Size:     213 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   2
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 * CallingConv: unknown
 * Calls: 5 functions
 *   -> draw_bt @ 1928:4fc9
 *   -> scan_ms @ 1928:5dc0
 *   -> rectangle @ 23f1:119e
 *   -> WndBkgr @ 1928:0948
 *   -> outtextxy @ 23f1:1f2a
 * ──────────────────────────────────────────────────────── */

void dlgload(void)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  
  WndBkgr(0xb4,0xb4,0x1c2,400,3,(char *)"Glass Load",
          ""  /* empty */);
  draw_bt(0x662,""  /* empty */,0x656,
          ""  /* empty */,3);
  rectangle(300,0xe6,0x186,0x14f);
  rectangle(0x136,0x126,0x15e,0x138);
  outtextxy(0x136,0xf0,(code *)FUN_28d3_122c,
                ""  /* empty */);
  outtextxy(0x152,0x104,(code *)FUN_28d3_1236,
                ""  /* empty */);
  outtextxy(0x136,0x118,(code *)FUN_28d3_1239,
                ""  /* empty */);
  outtextxy(0x136,0x140,(code *)FUN_28d3_1243,
                ""  /* empty */);
  do {
    iVar1 = scan_ms(0x662,""  /* empty */,0x656,
                    ""  /* empty */,3,0);
    iVar2 = 4;
    piVar3 = (int *)0x3bb7;
    do {
      if (*piVar3 == iVar1) {
                    /* WARNING: Could not recover jumptable at 0x0001ce00. Too many branches */
                    /* WARNING: Treating indirect jump as call */
        (*(code *)piVar3[4])();
        return;
      }
      piVar3 = piVar3 + 1;
      iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
  } while( true );
}



/* ────────────────────────────────────────────────────────
 * Function: gselect
 * Source:   int gselect(void)
 * Module:   PROJ5.CPP
 * Address:  1928:3bc7
 * Size:     1 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * ──────────────────────────────────────────────────────── */

void gselect(void)

{
  undefined2 uVar1;
  undefined2 in_DX;
  int *piVar2;
  int iVar3;
  undefined1 auStack_3a [16];
  int iStack_2a;
  undefined1 auStack_28 [20];
  undefined2 uStack_14;
  char *pcStack_12;
  undefined8 uStack_10;
  int iStack_8;
  int iStack_4;
  
  pcStack_12 = ""  /* empty */;
  uStack_14 = 0x124d;
  uStack_10 = nglas;
  memset(auStack_28);
  WndBkgr(100,0xaa,0x208,0x19a,2,(char *)"Glass select",
          ""  /* empty */);
  draw_bt(0x69a,""  /* empty */,0x686,
          ""  /* empty */,5);
  rectangle(0x77,0xd6,0xfb,0x155);
  rectangle(0x135,0xd6,0x1b9,0xe9);
  outtextxy(0x82,200,(char *)"Glass  n ",
                ""  /* empty */);
  setfillstyle(1,0x3b);
  bar(0x136,0xd7,0x1b8,0xe8);
  setdisk(cRam0002b70e + -0x41);
  chdir(0x29de,""  /* empty */);
  iStack_4 = rdgls();
  iStack_8 = 1;
  do {
    if (iStack_8 != 0) {
      setcolor(0);
      setfillstyle(1,0x3b);
      bar(0x78,0xd7,0xfa,0x154);
      for (iVar3 = 0; (iVar3 < 0xc && (iVar3 < iStack_4)); iVar3 = iVar3 + 1) {
        memset(auStack_3a);
        uVar1 = strtok(auStack_3a);
        outtextxy(0x82,iVar3 * 10 + 0xdc,uVar1,in_DX);
        uVar1 = strtok(0,uStack_14,pcStack_12);
        outtextxy(0xc2,iVar3 * 10 + 0xdc,uVar1,in_DX);
      }
      iStack_8 = 0;
    }
    iStack_2a = scan_ms(0x69a,""  /* empty */,0x686,
                        ""  /* empty */,5,0);
    iVar3 = 6;
    piVar2 = (int *)0x3ef6;
    do {
      if (*piVar2 == iStack_2a) {
                    /* WARNING: Could not recover jumptable at 0x0001cffc. Too many branches */
                    /* WARNING: Treating indirect jump as call */
        (*(code *)piVar2[6])();
        return;
      }
      piVar2 = piVar2 + 1;
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
  } while( true );
}



/* ────────────────────────────────────────────────────────
 * Function: dlgstart
 * Source:   int dlgstart(void)
 * Module:   PROJ5.CPP
 * Address:  1928:3f0e
 * Size:     1 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * ──────────────────────────────────────────────────────── */

void dlgstart(void)

{
  long lVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  undefined1 auStack_c [10];
  
  lVar1 = lastn;
  WndBkgr(100,100,0x208,400,3,(char *)"Start",
          ""  /* empty */);
  draw_bt(0x70a,""  /* empty */,0x6d6,
          ""  /* empty */,0xe);
  line();
  line();
  outtextxy();
  rectangle();
  rectangle();
  do {
    sw_ctl(2,0,0x78,0x82,3);
    sw_ctl(2,1,0x78,0x96,3);
    sw_ctl(2,2,0x78,0xaa,3);
    sw_ctl(2,3,0x78,0xbe,3);
    sw_ctl(f_ptr,1,0x78,0xe1,3);
    sw_ctl(d_check,1,0x78,0xf5,3);
    sw_ctl(f_noise,2,0x87,300,3);
    sw_ctl(f_noise,1,0x87,0x140,3);
    sw_ctl(f_noise,0,0x87,0x154,3);
    setcolor(0);
    setfillstyle(1,0x3b);
    ltoa(lVar1 + 1,auStack_c);
    bar();
    outtextxy();
    iVar2 = scan_ms(0x70a,""  /* empty */,0x6d6,
                    ""  /* empty */,0xe,0);
    iVar3 = 0xf;
    piVar4 = (int *)0x4359;
    do {
      if (*piVar4 == iVar2) {
                    /* WARNING: Could not recover jumptable at 0x0001d357. Too many branches */
                    /* WARNING: Treating indirect jump as call */
        (*(code *)piVar4[0xf])();
        return;
      }
      piVar4 = piVar4 + 1;
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
  } while( true );
}



/* ────────────────────────────────────────────────────────
 * Function: ClearRpt
 * Source:   void ClearRpt(void)
 * Module:   PROJ5.CPP
 * Address:  1928:4395
 * Size:     23 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * ──────────────────────────────────────────────────────── */

void __cdecl16far ClearRpt(void)

{
  int iVar1;
  
  iVar1 = 0;
  do {
    ((undefined2 *)&nmrpt)[iVar1] = 0;
    iVar1 = iVar1 + 1;
  } while (iVar1 < 10);
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: mainscr
 * Source:   void mainscr(int all)
 * Module:   PROJ5.CPP
 * Address:  1928:43ac
 * Size:     1147 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   8
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 *   undefined2 local_8 @ Stack[-0x8]:2
 *   undefined2 local_a @ Stack[-0xa]:2
 *   undefined2 local_c @ Stack[-0xc]:2
 *   undefined2 local_e @ Stack[-0xe]:2
 *   undefined local_28 @ Stack[-0x28]:1
 *   undefined8 local_3a @ Stack[-0x3a]:8
 * CallingConv: __cdecl16far
 * Calls: 15 functions
 *   -> draw_bt @ 1928:4fc9
 *   -> glaspos @ 1928:4979
 *   -> gcvt @ 1000:04ab
 *   -> drawfl @ 1928:4a4a
 *   -> setcolor @ 23f1:1d5c
 *   -> setfillpattern @ 23f1:125e
 *   -> draw @ 1928:4acf
 *   -> bar @ 23f1:1c32
 *   -> rectangle @ 23f1:119e
 *   -> show_reit @ 1928:4827
 *   -> htime @ 1928:60ae
 *   -> ctlbt @ 1928:06d5
 *   -> setfillstyle @ 23f1:1211
 *   -> outtextxy @ 23f1:1f2a
 *   -> ltoa @ 1000:40a5
 * ──────────────────────────────────────────────────────── */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __cdecl16far mainscr(int param_1)

{
  uint uVar1;
  int iVar2;
  undefined1 local_28 [26];
  int local_e;
  int local_c;
  int local_a;
  int local_8;
  undefined2 local_6;
  undefined2 local_4;
  
  if (param_1 == 0) {
    local_4 = 0x90;
    local_6 = 0x1d0;
  }
  else {
    local_4 = 0;
    local_6 = 0x27f;
  }
  for (uVar1 = (uint)(param_1 == 0); (int)uVar1 < 0x14; uVar1 = uVar1 + 1) {
    setfillpattern(uVar1 * 8 + 0x992,""  /* empty */,1);
    bar();
  }
  iVar2 = 0;
  do {
    setfillpattern((0x13 - iVar2) * 8 + 0x992,""  /* empty */,1
                 );
    bar();
    iVar2 = iVar2 + 1;
  } while (iVar2 < 10);
  setcolor(1);
  outtextxy();
  outtextxy();
  if (param_1 != 0) {
    setfillstyle(1,1);
    iVar2 = 0;
    do {
      local_a = iVar2 * 0xc;
      local_c = local_a + 0xb8;
      local_e = local_a + 0xb6;
      bar();
      iVar2 = iVar2 + 1;
    } while (iVar2 < 7);
    drawfl();
    draw_bt();
    htime(local_28);
    setcolor(9);
    outtextxy();
    setcolor(0x3b);
    if (tout != 0) {
      outtextxy();
    }
    ctlbt();
    ctlbt();
    ctlbt();
    setfillstyle(1,0x3c);
    if (gl_nmb == 0) {
      bar();
    }
    else {
      bar();
      glaspos(0x1e,0x55,glpos9);
    }
    if (d_check != 0) {
      bar();
    }
    outtextxy();
    outtextxy();
    outtextxy();
    ltoa();
    outtextxy();
    outtextxy();
    outtextxy();
    outtextxy();
    gcvt(nglas,4,local_28);
    outtextxy();
    outtextxy();
    local_8 = xsize;
    gcvt((double)((float)xsize / _FUN_28d3_0ff6),4,local_28);
    outtextxy();
    outtextxy();
    local_8 = ysize;
    gcvt((double)((float)ysize / _FUN_28d3_0ff6),4,local_28);
    outtextxy();
    outtextxy();
    local_8 = zsize;
    gcvt((double)((float)zsize / _FUN_28d3_0ff6),4,local_28);
    outtextxy();
    rectangle();
    if (f_demo != 0) {
      setcolor(0x3c);
      outtextxy();
    }
    setcolor(0);
    setfillstyle(1,0x3b);
    bar();
    ltoa();
    outtextxy();
  }
  setcolor(0x3b);
  outtextxy();
  outtextxy();
  show_reit(0);
  if (f_data != 0) {
    draw(0x23f1,f_xyz,1);
  }
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: show_reit
 * Source:   void show_reit(int mode)
 * Module:   PROJ5.CPP
 * Address:  1928:4827
 * Size:     338 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   5
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 *   undefined local_c @ Stack[-0xc]:1
 *   undefined2 local_e @ Stack[-0xe]:2
 *   undefined2 local_10 @ Stack[-0x10]:2
 * CallingConv: __cdecl16far
 * Calls: 6 functions
 *   -> bar @ 23f1:1c32
 *   -> rectangle @ 23f1:119e
 *   -> setcolor @ 23f1:1d5c
 *   -> setfillstyle @ 23f1:1211
 *   -> itoa @ 1000:4055
 *   -> outtextxy @ 23f1:1f2a
 * ──────────────────────────────────────────────────────── */

void __cdecl16far show_reit(int param_1)

{
  int iVar1;
  int iVar2;
  undefined1 local_c [6];
  uint local_6;
  undefined2 local_4;
  
  setcolor(0x3b);
  setfillstyle(1,0);
  if (gl_nmb == 0) {
    rectangle(0x14,0x194,0x3c,0x1a2);
    bar(0x15,0x195,0x3b,0x1a1);
    itoa(nmrpt_9,local_c);
    outtextxy(0x18,0x198,local_c);
  }
  else {
    local_6 = 1;
    iVar1 = 0;
    do {
      iVar2 = 0;
      do {
        rectangle(iVar2 * 0x2a + 10,iVar1 * 0x10 + 0x194,iVar2 * 0x2a + 0x32,
                      iVar1 * 0x10 + 0x1a2);
        if (param_1 != 0) {
          if ((errnmb & local_6) == 0) {
            local_4 = 0;
          }
          else {
            local_4 = 0x3c;
          }
          setfillstyle(1,local_4);
        }
        bar(iVar2 * 0x2a + 0xb,iVar1 * 0x10 + 0x195,iVar2 * 0x2a + 0x31,
                      iVar1 * 0x10 + 0x1a1);
        if ((glpos9 & local_6) != 0) {
          itoa(((undefined2 *)&nmrpt)[iVar1 * 3 + iVar2],local_c);
          outtextxy(iVar2 * 0x2a + 0xe,iVar1 * 0x10 + 0x198,local_c);
        }
        local_6 = local_6 << 1;
        iVar2 = iVar2 + 1;
      } while (iVar2 < 3);
      iVar1 = iVar1 + 1;
    } while (iVar1 < 3);
  }
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: glaspos
 * Source:   void glaspos(int xl, int yt, int cw)
 * Module:   PROJ5.CPP
 * Address:  1928:4979
 * Size:     209 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   2
 *   undefined local_4 @ Stack[-0x4]:1
 *   undefined2 local_6 @ Stack[-0x6]:2
 * CallingConv: __cdecl16far
 * Calls: 4 functions
 *   -> bar @ 23f1:1c32
 *   -> rectangle @ 23f1:119e
 *   -> itoa @ 1000:4055
 *   -> outtextxy @ 23f1:1f2a
 * ──────────────────────────────────────────────────────── */

void __cdecl16far glaspos(int param_1,int param_2,uint param_3)

{
  int iVar1;
  int iVar2;
  uint local_6;
  undefined1 local_4 [2];
  
  local_6 = 1;
  iVar1 = 0;
  do {
    iVar2 = 0;
    do {
      rectangle(iVar2 * 0x10 + param_1,iVar1 * 0x10 + param_2,iVar2 * 0x10 + param_1 + 0xe,
                    iVar1 * 0x10 + param_2 + 0xe);
      if ((param_3 & local_6) != 0) {
        bar(iVar2 * 0x10 + param_1 + 1,iVar1 * 0x10 + param_2 + 1,
                      iVar2 * 0x10 + param_1 + 0xd,iVar1 * 0x10 + param_2 + 0xd);
      }
      local_6 = local_6 << 1;
      itoa(iVar1 * 3 + iVar2 + 1,local_4);
      outtextxy(iVar2 * 0x10 + param_1 + 4,iVar1 * 0x10 + param_2 + 4,local_4);
      iVar2 = iVar2 + 1;
    } while (iVar2 < 3);
    iVar1 = iVar1 + 1;
  } while (iVar1 < 3);
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: drawfl
 * Source:   void drawfl(void)
 * Module:   PROJ5.CPP
 * Address:  1928:4a4a
 * Size:     133 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   5
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 *   undefined2 local_8 @ Stack[-0x8]:2
 *   undefined2 local_a @ Stack[-0xa]:2
 *   undefined2 local_c @ Stack[-0xc]:2
 * CallingConv: __cdecl16far
 * Calls: 1 functions
 *   -> putpixel @ 23f1:2046
 * ──────────────────────────────────────────────────────── */

void __cdecl16far drawfl(void)

{
  int iVar1;
  int iVar2;
  undefined2 local_a;
  undefined2 local_8;
  undefined2 local_6;
  undefined2 local_4;
  
  local_4 = 0;
  local_8 = 2;
  while (0 < local_8) {
    local_8 = local_8 + -1;
    iVar1 = 0;
    do {
      iVar2 = 0;
      do {
        local_a = 0x80;
        local_6 = 0;
        do {
          if ((local_a & *(byte *)(iVar1 * 0xf + iVar2 + 0xa32)) == 0) {
            putpixel(iVar2 * 8 + local_6 + local_8 * 3 + 500,local_8 * 3 + (0x32 - iVar1),
                          local_4);
          }
          local_a = (int)local_a >> 1;
          local_6 = local_6 + 1;
        } while (local_6 < 8);
        iVar2 = iVar2 + 1;
      } while (iVar2 < 0xf);
      iVar1 = iVar1 + 1;
    } while (iVar1 < 0x22);
    local_4 = 9;
  }
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: draw
 * Source:   void draw(int flag, int all)
 * Module:   PROJ5.CPP
 * Address:  1928:4acf
 * Size:     1061 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   10
 *   undefined4 local_6 @ Stack[-0x6]:4
 *   undefined2 local_8 @ Stack[-0x8]:2
 *   undefined2 local_a @ Stack[-0xa]:2
 *   undefined2 local_c @ Stack[-0xc]:2
 *   undefined2 local_e @ Stack[-0xe]:2
 *   undefined2 local_10 @ Stack[-0x10]:2
 *   undefined2 local_12 @ Stack[-0x12]:2
 *   undefined2 local_14 @ Stack[-0x14]:2
 *   undefined8 local_1c @ Stack[-0x1c]:8
 *   undefined2 local_1e @ Stack[-0x1e]:2
 * CallingConv: __cdecl16near
 * Calls: 9 functions
 *   -> DrawPix @ 1928:4f92
 *   -> bar @ 23f1:1c32
 *   -> LXMUL @ 1000:3eb2
 *   -> F_FTOL @ 1000:0f76
 *   -> rectangle @ 23f1:119e
 *   -> setcolor @ 23f1:1d5c
 *   -> setfillstyle @ 23f1:1211
 *   -> setvbuf @ 1000:3492
 *   -> outtextxy @ 23f1:1f2a
 * ──────────────────────────────────────────────────────── */

/* WARNING (jumptable): Unable to track spacebase fully for stack */
/* WARNING: Instruction at (ram,0x000156ec) overlaps instruction at (ram,0x000156ea)
    */
/* WARNING: Removing unreachable block (ram,0x0001b8c9) */
/* WARNING: Removing unreachable block (ram,0x0001b926) */
/* WARNING: Removing unreachable block (ram,0x0001cd06) */
/* WARNING: Removing unreachable block (ram,0x000156c5) */
/* WARNING: Removing unreachable block (ram,0x000156ca) */
/* WARNING: Removing unreachable block (ram,0x000156e9) */
/* WARNING: Removing unreachable block (ram,0x00011ab4) */
/* WARNING: Removing unreachable block (ram,0x00015306) */
/* WARNING: Removing unreachable block (ram,0x0001531e) */
/* WARNING: Removing unreachable block (ram,0x00015324) */
/* WARNING: Removing unreachable block (ram,0x0001ba73) */
/* WARNING: Removing unreachable block (ram,0x0001ba81) */
/* WARNING: Removing unreachable block (ram,0x0001ba7c) */
/* WARNING: Removing unreachable block (ram,0x0001ba84) */
/* WARNING: Removing unreachable block (ram,0x0001ba99) */
/* WARNING: Removing unreachable block (ram,0x0001ba90) */
/* WARNING: Removing unreachable block (ram,0x0001baa1) */
/* WARNING: Removing unreachable block (ram,0x0001bac8) */
/* WARNING: Removing unreachable block (ram,0x0001bae3) */
/* WARNING: Recovered jumptable eliminated as dead code */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

byte * __cdecl16near
draw(uint *param_1,byte *param_2,undefined2 param_3,undefined2 param_4,undefined2 param_5)

{
  char *pcVar1;
  byte *pbVar2;
  uint *puVar3;
  byte bVar4;
  code *pcVar5;
  char cVar6;
  byte bVar7;
  char cVar8;
  uint uVar9;
  uint *puVar10;
  uint *puVar11;
  uint uVar12;
  uint uVar13;
  undefined1 uVar14;
  byte bVar16;
  int iVar15;
  uint uVar17;
  int iVar18;
  ulong uVar19;
  long in_EDX;
  undefined1 uVar20;
  ulong uVar21;
  byte *pbVar22;
  byte *unaff_SI;
  byte *pbVar23;
  int *piVar24;
  char *pcVar25;
  int unaff_ES;
  undefined2 uVar26;
  char *unaff_SS;
  bool bVar27;
  undefined1 uStack_48;
  uint auStack_47 [11];
  int iStack_30;
  undefined2 uStack_2e;
  undefined4 uStack_2c;
  int local_1e;
  undefined8 local_1c;
  byte *local_14;
  byte *local_12;
  int local_10;
  undefined2 local_e;
  uint local_c;
  uint local_a;
  undefined2 local_8;
  undefined4 local_6;
  
  setcolor();
  uStack_2c._2_2_ = (undefined2 *)0x96;
  uStack_2c._0_2_ = 0x23f1;
  uStack_2e = 0xdd6c;
  cVar8 = outtextxy();
  uVar12 = f_xyz;
  if (3 < f_xyz) {
    iVar15 = ysize;
    if (ysize < xsize) {
      iVar15 = xsize;
    }
    if (zsize < iVar15) {
      iVar15 = (int)(3000 / (long)iVar15);
    }
    else {
      iVar15 = (int)(3000 / (long)zsize);
    }
    local_8 = (iVar15 * local_10) / 10;
    uStack_2c._2_2_ = (undefined2 *)0xa0;
    uStack_2c._0_2_ = 0x23f1;
    uStack_2e = 0xde8f;
    rectangle();
    if (param_2._2_2_ == 0) {
      if ((byte *)param_2 == (byte *)0x0) {
        iVar18 = 0;
        uVar12 = LXMUL();
        iVar18 = *(int *)(uVar12 + iTabl);
        LXMUL();
      }
      else if ((byte *)param_2 == (byte *)((int)(undefined2 *)&DAT_28d3_0000 + 1)) {
        iVar18 = 0;
        uVar12 = LXMUL();
        uVar13 = uVar12 + 1;
        iVar18 = *(int *)(uVar13 * 2 + iTabl);
        LXMUL();
      }
      else {
        LXMUL();
        iVar18 = 0;
        uVar12 = LXMUL();
        pbVar23 = (byte *)param_2 + uVar12 + -2;
        iVar18 = *(int *)((int)pbVar23 * 2 + iTabl);
        F_FTOL();
      }
      local_c = (iVar18 * iVar15) / 100;
      uStack_2c._2_2_ = (undefined2 *)local_8;
      uStack_2c._0_2_ = local_c;
      uStack_2e = 0x1000;
      iStack_30 = 0xe203;
      uVar12 = DrawPix();
      local_6 = (byte *)(ulong)uVar12;
    }
    else {
      uStack_2c._2_2_ = (undefined2 *)0xdea3;
      setfillstyle();
      uStack_2c._2_2_ = (undefined2 *)0xa1;
      uStack_2c._0_2_ = 0x23f1;
      uStack_2e = 0xdec0;
      bar();
      for (local_6 = (byte *)0x0; (long)local_6 < nmax; local_6 = local_6 + 1) {
        if ((byte *)param_2 == (byte *)0x0) {
          iVar18 = 0;
          uVar12 = LXMUL();
          iVar18 = *(int *)(uVar12 + iTabl);
          LXMUL();
        }
        else if ((byte *)param_2 == (byte *)((int)(undefined2 *)&DAT_28d3_0000 + 1)) {
          iVar18 = 0;
          uVar12 = LXMUL();
          uVar13 = uVar12 + 1;
          iVar18 = *(int *)(uVar13 * 2 + iTabl);
          LXMUL();
        }
        else {
          LXMUL();
          F_FTOL();
          iVar18 = 0;
          uVar12 = LXMUL();
          pbVar23 = (byte *)param_2 + uVar12 + -2;
          iVar18 = *(int *)((int)pbVar23 * 2 + iTabl);
        }
        local_c = (iVar18 * iVar15) / 100;
        uStack_2c._2_2_ = (undefined2 *)local_8;
        uStack_2c._0_2_ = local_c;
        uStack_2e = 0x1000;
        iStack_30 = 0xe064;
        DrawPix();
      }
    }
    return (byte *)local_6;
  }
  iVar15 = f_xyz * 2;
  uVar26 = 0x1000;
  switch(f_xyz) {
  case 0:
    uStack_2c._2_2_ = &local_8;
    uStack_2c._0_2_ = 0x1000;
    uStack_2e = 0x576e;
    uVar26 = param_2._2_2_;
    FUN_1000_599f();
    local_6 = (byte *)MAKELONG(uStack_2c._2_2_[2],(byte *)local_6);
    puVar11 = (uint *)FUN_1000_5c87();
    puVar3 = puVar11;
    uVar12 = *puVar3;
    *puVar3 = *puVar3 + 1;
    puVar11[1] = puVar11[1] + (uint)(0xfffe < uVar12);
    uStack_2c._2_2_ = (undefined2 *)&lastf;
    uStack_2c._0_2_ = 0x1000;
    uStack_2e = 0x579c;
    pbVar23 = (byte *)FUN_1000_6bc3();
    return pbVar23;
  case 1:
switchD_1000_dd7c_caseD_1:
    iStack_30 = 0xbd7d;
    uStack_2e = uVar26;
    gcvt();
    uStack_2c._2_2_ = (undefined2 *)0xbd91;
    bar();
    uStack_2c._2_2_ = (undefined2 *)0xbda4;
    outtextxy();
    uStack_2e = 0x23f1;
    iStack_30 = -0x4232;
    gcvt();
    uStack_2c._2_2_ = (undefined2 *)0xbde2;
    bar();
    uStack_2c._2_2_ = (undefined2 *)0xbdf5;
    outtextxy();
    while( true ) {
      if (local_1c._6_2_ == 0) {
        uVar26 = 0xf;
      }
      else {
        uVar26 = 0;
      }
      local_6 = (byte *)MAKELONG(uVar26,(byte *)local_6);
      if (local_1c._6_2_ == 0) {
        puVar11 = (uint *)0x0;
      }
      else {
        puVar11 = (uint *)((int)(undefined2 *)&DAT_28d3_0002 + 1);
      }
      setfillstyle();
      uVar12 = 0x23f1;
      uStack_2c._2_2_ = (undefined2 *)0xbe3a;
      bar();
      for (uStack_2c = 0; uStack_2c < nmax; uStack_2c = uStack_2c + 1) {
        if ((local_14 == (byte *)0x0) || (local_8 != 0)) {
          iVar15 = 0;
          uVar12 = LXMUL();
          uVar13 = uVar12 + local_8;
          iVar15 = *(int *)(uVar13 * 2 + iTabl) + local_1c._4_2_;
        }
        else {
          iVar15 = 0;
          uVar12 = LXMUL();
          uVar13 = uVar12 + local_8;
          iVar15 = ((int)local_1c * 10 - *(int *)(uVar13 * 2 + iTabl)) - local_1c._4_2_;
        }
        puVar11 = (uint *)(uint *)(((long)iVar15 * (long)local_10) / 100);
        if ((local_14 == (byte *)0x0) ||
           (local_12 != (byte *)((int)(undefined2 *)&DAT_28d3_0000 + 1))) {
          iVar15 = 0;
          uVar12 = LXMUL();
          uVar13 = uVar12 + local_a;
          unaff_SI = (byte *)(uVar13 * 2 + iTabl);
          unaff_ES = (((iVar15 + ((int)local_a >> 0xf) + (uint)CARRY2(uVar12,local_a)) * 2 |
                      (uint)CARRY2(uVar13,uVar13)) + (uint)CARRY2(uVar13 * 2,iTabl)) *
                     0x1000 + iTabl_seg;
          iVar15 = *(int *)unaff_SI + local_1c._2_2_;
        }
        else {
          iVar15 = 0;
          uVar12 = LXMUL();
          uVar13 = uVar12 + local_a;
          unaff_SI = (byte *)(uVar13 * 2 + iTabl);
          unaff_ES = (((iVar15 + ((int)local_a >> 0xf) + (uint)CARRY2(uVar12,local_a)) * 2 |
                      (uint)CARRY2(uVar13,uVar13)) + (uint)CARRY2(uVar13 * 2,iTabl)) *
                     0x1000 + iTabl_seg;
          iVar15 = (local_1e * 10 - *(int *)unaff_SI) - local_1c._2_2_;
        }
        uVar12 = 0x1000;
        in_EDX = ((long)iVar15 * (long)local_10) % 100;
        pbVar23 = (byte *)(byte *)(((long)iVar15 * (long)local_10) / 100);
        local_6 = (byte *)MAKELONG(local_6._2_2_,pbVar23);
        if ((((0 < (int)puVar11) && ((int)puVar11 < (int)local_c)) && (0 < (int)pbVar23)) &&
           ((int)pbVar23 < local_e)) {
          uVar12 = 0x23f1;
          putpixel();
        }
      }
      uStack_2c._2_2_ = (undefined2 *)0x4e2;
      uStack_2e = 0xbfd5;
      uStack_2c._0_2_ = uVar12;
      iStack_30 = scan_ms();
      local_6 = (byte *)MAKELONG(iStack_30,(byte *)local_6);
      iVar15 = 0x20;
      piVar24 = (int *)0x383f;
      do {
        if (*piVar24 == iStack_30) {
                    /* WARNING: Could not recover jumptable at 0x0001bff7. Too many branches */
                    /* WARNING: Treating indirect jump as call */
          pbVar23 = (byte *)(*(code *)piVar24[0x20])();
          return pbVar23;
        }
        piVar24 = piVar24 + 1;
        iVar15 = iVar15 + -1;
      } while (iVar15 != 0);
      if (local_12 < (byte *)s_NULL_CHECK_28d3_0004) break;
      if (f_data != 0) goto code_r0x0001bc9c;
    }
    bVar27 = CARRY2((uint)local_12,(uint)local_12);
    puVar10 = (uint *)((int)local_12 * 2);
    uVar12 = 0;
    switch(local_12) {
    case (byte *)0x0:
      puVar3 = puVar10;
      uVar12 = *puVar3;
      *puVar3 = *puVar3 + 1;
      puVar10[1] = puVar10[1] + (uint)(0xfffe < uVar12);
      return (byte *)param_2;
    case (byte *)0x1:
      uStack_2c._2_2_ = (undefined2 *)0x1000;
      uStack_2c._0_2_ = 0x1e68;
      pbVar23 = (byte *)setvbuf();
      return pbVar23;
    case (byte *)0x2:
      local_6._2_2_ = puVar10[0x1157];
      local_6._0_2_ = (byte *)puVar10[0x1156];
      if (((byte *)param_2 != (byte *)0x0 || param_2._2_2_ != 0) && (*param_2 != 0)) {
        uStack_2c._2_2_ = (undefined2 *)0x2feb;
        fputs();
        uStack_2c._2_2_ = (undefined2 *)0x2ffd;
        fputs();
      }
      uStack_2c._2_2_ = (undefined2 *)0x3010;
      fputs();
      uStack_2c._2_2_ = (undefined2 *)0x3022;
      pbVar23 = (byte *)fputs();
      return pbVar23;
    }
switchD_1000_bc5e_caseD_3:
    cVar8 = (&stack0xfffe)[(int)puVar11];
    pcVar1 = (char *)((int)puVar10 + (int)puVar11 + 6);
    *pcVar1 = *pcVar1 >> 0x17;
    uVar12 = MAKEWORD_8(3,(char)uVar12 + cVar8 + bVar27 +
                        *(char *)((int)puVar10 + (int)puVar11 + -0x7ba));
    uVar13 = local_c;
    uVar9 = local_a;
LAB_1000_214e:
    local_a = uVar9;
    local_c = uVar13;
    pbVar2 = unaff_SI;
    unaff_SI = unaff_SI + 1;
    bVar7 = *pbVar2;
LAB_1000_2150:
    puVar11 = param_1;
    uVar26 = param_2._2_2_;
    if (0x5f < (byte)(bVar7 - 0x20)) goto switchD_1000_216c_caseD_13;
    bVar4 = *(byte *)((byte)(bVar7 - 0x20) + 0x224b);
    if (0x17 < bVar4) goto switchD_1000_216c_caseD_13;
    puVar10 = (uint *)((uint)bVar4 * 2);
    uVar14 = (uchar)uVar12;
    bVar16 = (byte)(uVar12 >> 8);
    uVar20 = SUB21(puVar10,0);
    pcVar25 = unaff_SS;
    uVar13 = local_c;
    uVar9 = local_a;
    switch(bVar4) {
    case 0:
      goto switchD_1000_216c_caseD_0;
    case 1:
      if (bVar16 != 0) goto switchD_1000_216c_caseD_13;
      local_6 = (byte *)((ulong)local_6 | 0x10000);
      goto LAB_1000_214e;
    case 2:
      uVar13 = *param_1;
      param_1 = param_1 + 1;
      if (1 < bVar16) {
        if (bVar16 != 4) goto switchD_1000_216c_caseD_13;
        uVar12 = MAKEWORD_8(5,uVar14);
        goto LAB_1000_214e;
      }
      local_a = uVar13;
      if ((int)uVar13 < 0) {
        local_a = -uVar13;
        local_6 = (byte *)((ulong)local_6 | 0x20000);
      }
      bVar27 = false;
      goto switchD_1000_bc5e_caseD_3;
    case 3:
      if (bVar16 != 0) goto switchD_1000_216c_caseD_13;
      local_6 = (byte *)((ulong)local_6 | 0x20000);
      goto LAB_1000_214e;
    case 4:
      if (3 < bVar16) goto switchD_1000_216c_caseD_13;
      uVar12 = MAKEWORD_8(4,uVar14);
      uVar13 = local_c + 1;
      goto LAB_1000_214e;
    case 5:
      goto switchD_1000_216c_caseD_5;
    case 6:
      local_6 = (byte *)((ulong)local_6 | 0x100000);
      break;
    case 7:
      local_6 = (byte *)((ulong)local_6 | 0x1000000);
    case 8:
      local_6 = (byte *)((ulong)local_6 & 0xffefffff);
      break;
    case 9:
      if (bVar16 == 0) {
        if (((ulong)local_6 & 0x20000) == 0) {
          local_6 = (byte *)((ulong)local_6 | 0x80000);
          uVar12 = MAKEWORD_8(1,uVar14);
        }
        goto LAB_1000_214e;
      }
switchD_1000_216c_caseD_5:
      uVar17 = (uint)(char)(bVar7 - 0x30);
      if (bVar16 < 3) {
        uVar12 = MAKEWORD_8(2,uVar14);
        LOCK();
        UNLOCK();
        uVar9 = uVar17;
        if (-1 < (int)local_a) {
          uVar9 = uVar17 + local_a * 10;
        }
      }
      else {
        if (bVar16 != 4) goto switchD_1000_216c_caseD_13;
        LOCK();
        UNLOCK();
        uVar13 = uVar17;
        if (local_c != 0) {
          uVar13 = uVar17 + local_c * 10;
        }
      }
      goto LAB_1000_214e;
    case 10:
      uVar13 = MAKEWORD_8(10,uVar20);
      local_8 = MAKEWORD_8(bVar7,1);
      uVar9 = *param_1;
      uVar17 = (int)uVar9 >> 0xf;
      goto LAB_1000_227d;
    case 0xb:
      uVar13 = MAKEWORD_8(8,uVar20);
      goto LAB_1000_2259;
    case 0xc:
      uVar13 = MAKEWORD_8(10,uVar20);
      goto LAB_1000_2259;
    case 0xd:
      uVar13 = MAKEWORD_8(0x10,bVar7 - 0x17);
LAB_1000_2259:
      local_e._1_1_ = 0;
      uVar17 = 0;
      local_8 = (uint)bVar7 << 8;
      uVar9 = *param_1;
LAB_1000_227d:
      puVar11 = param_1 + 1;
      param_2 = (byte *)MAKELONG(param_2._2_2_,unaff_SI);
      if (((ulong)local_6 & 0x100000) != 0) {
        uVar17 = *puVar11;
        puVar11 = param_1 + 2;
      }
      param_1 = puVar11;
      puVar11 = auStack_47;
      if ((uVar9 == 0) && (uVar17 == 0)) {
        if (local_c != 0) goto LAB_1000_22ae;
        auStack_47[0] = auStack_47[0] & 0xff00;
      }
      else {
        local_6 = (byte *)((ulong)local_6 | 0x40000);
LAB_1000_22ae:
        uStack_2c._2_2_ = (undefined2 *)(local_8 & 0xff);
        uStack_2e = 0x22be;
        uStack_2c._0_2_ = uVar13;
        __LONGTOA();
      }
      uVar13 = local_c;
      if ((int)local_c < 0) {
LAB_1000_23be:
        if ((((ulong)local_6 & 0x80000) != 0) && (uVar13 = local_a, 0 < (int)local_a))
        goto LAB_1000_23cc;
      }
      else {
LAB_1000_23cc:
        FUN_1000_20b5();
        if ((byte)*puVar11 == 0x2d) {
          uVar12 = uVar12 - 1;
        }
        if (uVar13 - uVar12 != 0 && (int)uVar12 <= (int)uVar13) {
          local_10 = uVar13 - uVar12;
        }
      }
      if ((byte)*puVar11 == 0x2d) {
LAB_1000_23ee:
        if ((0 < local_10) && (uVar12 = local_c, (int)local_c < 0)) {
          local_10 = local_10 + -1;
        }
      }
      else if (local_e._1_1_ != 0) {
        puVar11 = (uint *)((int)puVar11 + -1);
        *(byte *)puVar11 = local_e._1_1_;
        goto LAB_1000_23ee;
      }
      FUN_1000_20b5();
LAB_1000_2401:
      pbVar23 = (byte *)local_6;
      if ((local_6._2_2_ & 5) == 5) {
        if (local_8._1_1_ == 'o') {
          if (local_10 < 1) {
            local_10 = 1;
          }
        }
        else if ((local_8._1_1_ == 'x') || (local_8._1_1_ == 'X')) {
          local_6 = (byte *)((ulong)local_6 | 0x400000);
          local_a = local_a - 2;
          bVar27 = local_10 < 2;
          local_10 = local_10 + -2;
          if (bVar27) {
            local_10 = 0;
          }
        }
      }
      uVar12 = uVar12 + local_10;
      if (((ulong)local_6 & 0x20000) == 0) {
        for (; (int)uVar12 < (int)local_a; local_a = local_a - 1) {
          __OUTC();
        }
      }
      if (((ulong)local_6 & 0x400000) != 0) {
        __OUTC();
        __OUTC();
      }
      if (0 < local_10) {
        uVar12 = uVar12 - local_10;
        local_a = local_a - local_10;
        bVar7 = (byte)*puVar11;
        if (((bVar7 == 0x2d) || (bVar7 == 0x20)) || (bVar7 == 0x2b)) {
          puVar11 = (uint *)((int)puVar11 + 1);
          __OUTC();
          uVar12 = uVar12 - 1;
          local_a = local_a - 1;
        }
        uVar21 = (ulong)local_a;
        uVar19 = (ulong)uVar12;
        for (; local_10 != 0; local_10 = local_10 + -1) {
          __OUTC();
          local_a = (uint)uVar21;
          uVar12 = (uint)uVar19;
        }
      }
      if (uVar12 != 0) {
        uVar19 = (ulong)(local_a - uVar12);
        do {
          puVar3 = puVar11;
          puVar11 = (uint *)((int)puVar11 + 1);
          *pbVar23 = (byte)*puVar3;
          pbVar23 = pbVar23 + 1;
          cVar6 = local_1c._6_1_;
          cVar8 = local_1c._6_1_ + -1;
          local_1c._0_7_ = CONCAT16(cVar8,(undefined6)local_1c);
          local_1c = (qword)(uint7)local_1c;
          if (cVar8 == '\0' || cVar6 < '\x01') {
            __OUTS();
          }
          local_a = (uint)uVar19;
          uVar12 = uVar12 - 1;
        } while (uVar12 != 0);
      }
      if (0 < (int)local_a) {
        do {
          __OUTC();
          local_a = local_a - 1;
        } while (local_a != 0);
      }
LAB_1000_210b:
      unaff_ES = (int)((ulong)param_2 >> 0x10);
      pbVar22 = (byte *)param_2;
LAB_1000_210e:
      local_12 = pbVar22 + 1;
      bVar7 = *pbVar22;
      if (bVar7 == 0) goto LAB_1000_250e;
      unaff_SI = local_12;
      if (bVar7 == 0x25) {
        unaff_SI = pbVar22 + 2;
        bVar7 = *local_12;
        if (bVar7 != 0x25) goto code_r0x00012132;
      }
      *pbVar23 = bVar7;
      pbVar23 = pbVar23 + 1;
      cVar6 = local_1c._6_1_;
      cVar8 = local_1c._6_1_ + -1;
      local_1c._0_7_ = CONCAT16(cVar8,(undefined6)local_1c);
      local_1c = (qword)(uint7)local_1c;
      pbVar22 = unaff_SI;
      if (cVar8 == '\0' || cVar6 < '\x01') {
        __OUTS();
      }
      goto LAB_1000_210e;
    case 0xe:
      param_2 = (byte *)MAKELONG(param_2._2_2_,unaff_SI);
      puVar10 = (uint *)&uStack_48;
      puVar11 = param_1 + 1;
      local_8._1_1_ = bVar7;
      if (((ulong)local_6 & 0x200000) != 0) {
        param_1 = param_1 + 2;
        FUN_1000_2083();
        puVar10 = auStack_47;
        uStack_48 = 0x3a;
        puVar11 = param_1;
      }
      param_1 = puVar11;
      FUN_1000_2083();
      *(undefined1 *)puVar10 = 0;
      local_8 = (uint)local_8._1_1_ << 8;
      local_6 = (byte *)((ulong)local_6 & 0xfffbffff);
      puVar11 = (uint *)&uStack_48;
      uVar12 = (int)puVar10 - (int)puVar11;
      goto LAB_1000_23be;
    case 0xf:
      param_2 = (byte *)MAKELONG(param_2._2_2_,unaff_SI);
      local_8 = MAKEWORD_8(bVar7,(uchar)local_8);
      uVar12 = local_c;
      if ((int)local_c < 0) {
        uVar12 = 6;
      }
      uStack_2c._0_2_ = local_6._2_2_ & 1;
      if (((ulong)local_6 & 0x1000000) == 0) {
        param_1 = param_1 + 4;
        uStack_2e = 6;
      }
      else {
        uStack_2e = 8;
        param_1 = param_1 + 5;
      }
      iStack_30 = 0x23b9;
      uStack_2c._2_2_ = (undefined2 *)(uint)bVar7;
      thunk___realcvt();
      puVar11 = auStack_47;
      goto LAB_1000_23be;
    case 0x10:
      param_2 = (byte *)MAKELONG(param_2._2_2_,unaff_SI);
      local_8 = MAKEWORD_8(bVar7,(uchar)local_8);
      puVar3 = param_1;
      param_1 = param_1 + 1;
      puVar11 = auStack_47;
      auStack_47[0] = *puVar3 & 0xff;
      uVar12 = 1;
      goto LAB_1000_2401;
    case 0x11:
      param_2 = (byte *)MAKELONG(param_2._2_2_,unaff_SI);
      local_8 = MAKEWORD_8(bVar7,(uchar)local_8);
      if (((ulong)local_6 & 0x200000) == 0) {
        puVar11 = (uint *)*param_1;
        param_1 = param_1 + 1;
        pcVar25 = ""  /* empty */;
        puVar10 = puVar11;
      }
      else {
        pcVar25 = (char *)((ulong)*(uint **)param_1 >> 0x10);
        puVar11 = (uint *)*(uint **)param_1;
        param_1 = param_1 + 2;
        puVar10 = (uint *)((uint)pcVar25 | (uint)puVar11);
      }
      if (puVar10 == (uint *)0x0) {
        pcVar25 = ""  /* empty */;
        puVar11 = (uint *)&DAT_28d3_2244;
      }
      FUN_1000_20b5();
      if (local_c < uVar12) {
        uVar12 = local_c;
      }
      goto LAB_1000_2401;
    case 0x12:
      param_2 = (byte *)MAKELONG(param_2._2_2_,unaff_SI);
      if (((ulong)local_6 & 0x200000) == 0) {
        piVar24 = (int *)*param_1;
        param_1 = param_1 + 1;
        pcVar25 = ""  /* empty */;
      }
      else {
        pcVar25 = (char *)((ulong)*(int **)param_1 >> 0x10);
        piVar24 = (int *)*(int **)param_1;
        param_1 = param_1 + 2;
      }
      *piVar24 = (int)(local_14 + (byte)(0x50 - local_1c._6_1_));
      pbVar23 = (byte *)local_6;
      if (((ulong)local_6 & 0x100000) != 0) {
        piVar24[1] = 0;
      }
      goto LAB_1000_210b;
    default:
      goto switchD_1000_216c_caseD_13;
    case 0x16:
      local_6 = (byte *)((ulong)local_6 & 0xffdfffff);
      break;
    case 0x17:
      local_6 = (byte *)((ulong)local_6 | 0x200000);
    }
    uVar12 = MAKEWORD_8(5,uVar14);
    goto LAB_1000_214e;
  case 3:
    pcVar5 = (code *)swi(1);
    pbVar23 = (byte *)(*pcVar5)();
    return pbVar23;
  }
  pbVar2 = unaff_SI + iVar15 + 0x61fa;
  *pbVar2 = *pbVar2 | cVar8 + 0xb9U;
  if (*pbVar2 == 0) {
    uVar13 = 0x902;
    *(undefined2 *)((int)&local_6 + iVar15 + 2) = 0x80;
    *(undefined2 *)((int)&local_6 + iVar15) = 2;
    cVar8 = **(char **)(&param_4 + uVar12);
    (&param_4)[uVar12] = (&param_4)[uVar12] + 1;
    if ((cVar8 == '+') ||
       ((**(char **)(&param_4 + uVar12) == '+' && ((cVar8 == 't' || (cVar8 == 'b')))))) {
      if (cVar8 == '+') {
        cVar8 = **(char **)(&param_4 + uVar12);
      }
      uVar13 = 0x904;
      *(undefined2 *)((int)&local_6 + iVar15 + 2) = 0x180;
      *(undefined2 *)((int)&local_6 + iVar15) = 3;
    }
    if (cVar8 == 't') {
      uVar13 = uVar13 | 0x4000;
    }
    else {
      if (cVar8 == 'b') {
        uVar13 = uVar13 | 0x8000;
      }
      else {
        if ((cVar8 != '+') && (cVar8 != '\0')) goto LAB_1000_2946;
        uVar13 = uVar13 | DAT_28d3_21da & 0xc000;
        if ((DAT_28d3_21da & 0x8000) == 0) goto LAB_1000_295d;
      }
      *(uint *)((int)&local_6 + iVar15) = *(uint *)((int)&local_6 + iVar15) | 0x40;
    }
LAB_1000_295d:
    DAT_28d3_2716 = 0x1000;
    DAT_28d3_2714 = 0x3721;
    *(uint *)*(undefined4 *)((int)&param_2 + iVar15 + 2) = uVar13;
                    /* WARNING: Load size is inaccurate */
    *(&param_1)[uVar12] = *(undefined2 *)((int)&local_6 + iVar15 + 2);
    pbVar23 = (byte *)*(undefined2 *)((int)&local_6 + iVar15);
  }
  else {
LAB_1000_2946:
    pbVar23 = (byte *)0x0;
  }
  return pbVar23;
code_r0x00012132:
  uVar12 = 0;
  local_10 = 0;
  local_6 = (byte *)MAKELONG(0x20,pbVar23);
  local_e = 0;
  local_a = 0xffff;
  local_c = 0xffff;
  goto LAB_1000_2150;
switchD_1000_216c_caseD_0:
  if (bVar16 != 0) {
switchD_1000_216c_caseD_13:
    do {
      __OUTC();
      pbVar2 = local_12;
      local_12 = local_12 + 1;
    } while (*pbVar2 != 0);
LAB_1000_250e:
    if (local_1c._6_1_ < 'P') {
      __OUTS();
    }
    if (local_1c._4_2_ != 0) {
      local_14 = (byte *)0xffff;
    }
    return local_14;
  }
  if (local_e._1_1_ != 0x2b) {
    local_e = (uint)bVar7 << 8;
  }
  goto LAB_1000_214e;
code_r0x0001bc9c:
  setfillstyle();
  uStack_2e = 0x23f1;
  iStack_30 = 0xbcd5;
  gcvt();
  uStack_2c._2_2_ = (undefined2 *)0xbce9;
  bar();
  uStack_2c._2_2_ = (undefined2 *)0xbcfc;
  outtextxy();
  uStack_2e = 0x23f1;
  iStack_30 = 0xbd26;
  gcvt();
  uStack_2c._2_2_ = (undefined2 *)0xbd3a;
  bar();
  uVar26 = 0x23f1;
  uStack_2c._2_2_ = (undefined2 *)0xbd4d;
  outtextxy();
  goto switchD_1000_dd7c_caseD_1;
}



/* ────────────────────────────────────────────────────────
 * Function: DrawPix
 * Source:   void DrawPix(int hp, int hs, int vp, int vs, int color)
 * Module:   PROJ5.CPP
 * Address:  1928:4f92
 * Size:     55 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * Calls: 1 functions
 *   -> putpixel @ 23f1:2046
 * ──────────────────────────────────────────────────────── */

void __cdecl16far DrawPix(int param_1,int param_2,int param_3,int param_4,undefined2 param_5)

{
  if ((((0 < param_1) && (param_1 < param_2)) && (0 < param_3)) && (param_3 < param_4)) {
    putpixel(param_1 + 0xa0,0x1c2 - param_3,param_5);
  }
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: draw_bt
 * Source:   int draw_bt(int btc[], char *bnam[], int nmb)
 * Module:   PROJ5.CPP
 * Address:  1928:4fc9
 * Size:     148 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   1
 *   undefined2 local_4 @ Stack[-0x4]:2
 * CallingConv: __cdecl16far
 * Calls: 2 functions
 *   -> button @ 1928:0436
 *   -> ctlbt @ 1928:06d5
 * ──────────────────────────────────────────────────────── */

undefined2 __cdecl16far draw_bt(undefined4 param_1,undefined4 param_2,int param_3)

{
  int iVar1;
  undefined2 *puVar2;
  int iVar3;
  undefined2 uVar4;
  undefined2 uVar5;
  
  for (iVar3 = 0; iVar3 < param_3; iVar3 = iVar3 + 1) {
    uVar4 = (uint)((ulong)param_1 >> 0x10);
    iVar1 = (int)param_1;
    uVar5 = (uint)((ulong)param_2 >> 0x10);
    if (*(int *)(iVar1 + iVar3 * 0xc) == 1) {
      puVar2 = (undefined2 *)((int)param_2 + iVar3 * 4);
      button(iVar1,uVar4,iVar3,*puVar2,puVar2[1]);
    }
    else if (*(int *)(iVar1 + iVar3 * 0xc) == 3) {
      puVar2 = (undefined2 *)((int)param_2 + iVar3 * 4);
      ctlbt(*(undefined2 *)(iVar1 + (iVar3 * 6 + 2) * 2),
            *(undefined2 *)(iVar1 + (iVar3 * 6 + 3) * 2),0,*puVar2,puVar2[1]);
    }
  }
  return 1;
}



/* ────────────────────────────────────────────────────────
 * Function: dlgsort
 * Source:   int dlgsort(void)
 * Module:   PROJ5.CPP
 * Address:  1928:505d
 * Size:     463 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   3
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 *   undefined local_16 @ Stack[-0x16]:1
 * CallingConv: unknown
 * Calls: 12 functions
 *   -> bar @ 23f1:1c32
 *   -> draw_bt @ 1928:4fc9
 *   -> scan_ms @ 1928:5dc0
 *   -> rectangle @ 23f1:119e
 *   -> setcolor @ 23f1:1d5c
 *   -> htime @ 1928:60ae
 *   -> WndBkgr @ 1928:0948
 *   -> sw_ctl @ 1928:1906
 *   -> setfillstyle @ 23f1:1211
 *   -> itoa @ 1000:4055
 *   -> outtextxy @ 23f1:1f2a
 *   -> ltoa @ 1000:40a5
 * ──────────────────────────────────────────────────────── */

void dlgsort(void)

{
  int iVar1;
  int *piVar2;
  undefined1 local_16 [16];
  int local_6;
  int local_4;
  
  WndBkgr(0x6e,0xb4,0x19a,400,2,(char *)"Sorting",
          ""  /* empty */);
  draw_bt(0x806,""  /* empty */,0x7e2,
          ""  /* empty */,9);
  rectangle();
  rectangle();
  outtextxy();
  outtextxy();
  outtextxy();
  htime(local_16);
  setcolor(0);
  outtextxy();
  do {
    sw_ctl(f_sort,0,0x82,0xd2,2);
    sw_ctl(f_sort,1,0x82,0xe6,2);
    sw_ctl(f_sort,2,0x82,0xfa,2);
    setcolor(0);
    setfillstyle(1,0x3b);
    bar();
    itoa();
    outtextxy();
    bar();
    itoa();
    outtextxy();
    ltoa(nmax,local_16);
    outtextxy();
    local_6 = scan_ms(0x806,""  /* empty */,0x7e2,
                      ""  /* empty */,9,0);
    iVar1 = 10;
    piVar2 = (int *)0x5323;
    do {
      local_4 = local_6;
      if (*piVar2 == local_6) {
                    /* WARNING: Could not recover jumptable at 0x0001e4a8. Too many branches */
                    /* WARNING: Treating indirect jump as call */
        (*(code *)piVar2[10])();
        return;
      }
      piVar2 = piVar2 + 1;
      iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
  } while( true );
}



/* ────────────────────────────────────────────────────────
 * Function: sort
 * Source:   int sort(void)
 * Module:   PROJ5.CPP
 * Address:  1928:534b
 * Size:     1 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * ──────────────────────────────────────────────────────── */

undefined2 sort(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined2 uVar4;
  long lVar5;
  long lVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  long lStack_36;
  long lStack_1e;
  uint uStack_1a;
  int iStack_18;
  uint uStack_16;
  int iStack_14;
  uint uStack_12;
  int iStack_10;
  long lStack_e;
  long lStack_a;
  long lStack_6;
  
  if (nmax == 0) {
code_r0x0001ea39:
    uVar4 = 0;
  }
  else {
    getimage();
    progbar(nmax,0,0,1,0xa0,0x1d0);
    for (lStack_6 = 0; lStack_6 < nmax + -1; lStack_6 = lStack_6 + 1) {
      iVar7 = 0;
      uVar9 = LXMUL();
      uVar8 = uVar9 + 2;
      uVar9 = *(uint *)(uVar8 * 2 + iTabl);
      lStack_36 = 0;
      lStack_a = lStack_6;
      while (lStack_a = lStack_a + 1, lStack_a < nmax) {
        lVar5 = lStack_a * 3 + 2;
        iStack_14 = (int)((ulong)lVar5 >> 0x10);
        uStack_16 = (uint)lVar5;
        if (*(uint *)(uStack_16 * 2 + iTabl) < uVar9) {
          uVar9 = *(uint *)(uStack_16 * 2 + iTabl);
          lStack_36 = lStack_a;
        }
      }
      uVar4 = (uint)((ulong)lStack_6 >> 0x10);
      if (lStack_36 != 0) {
        swap((int)lStack_6,uVar4,lStack_36);
      }
      progbar(nmax,(int)lStack_6,uVar4,0,0xa0,0x1d0);
      iVar7 = kbhit();
      if ((iVar7 != 0) && (iVar7 = getch(), iVar7 == 0x1b)) {
        putimage(0xa0,0x1d0,0x2a56,""  /* empty */,0);
        goto code_r0x0001ea39;
      }
    }
    putimage(0xa0,0x1d0,0x2a56,""  /* empty */,0);
    progbar(nmax,0,0,1,0xa0,0x1d0);
    iVar7 = *(int *)(iTabl + 4);
    lStack_1e = 0;
    for (lStack_6 = 1; lStack_6 <= nmax; lStack_6 = lStack_6 + 1) {
      lVar5 = lStack_6 * 3 + 2;
      iStack_10 = (int)((ulong)lVar5 >> 0x10);
      uStack_12 = (uint)lVar5;
      if ((iVar7 + 0x31U < *(uint *)(uStack_12 * 2 + iTabl)) || (lStack_6 == nmax))
      {
        iVar7 = *(int *)(uStack_12 * 2 + iTabl);
        for (lStack_a = lStack_1e; lStack_a <= lStack_6 + -1; lStack_a = lStack_a + 1) {
          lVar5 = lStack_a * 3;
          iStack_14 = (int)((ulong)lVar5 >> 0x10);
          uStack_16 = (uint)lVar5;
          uVar9 = (uint)(lVar5 + 3);
          uVar9 = *(int *)(uVar9 * 2 + iTabl) - *(int *)(uStack_16 * 2 + iTabl);
          uVar8 = (int)uVar9 >> 0xf;
          iVar1 = (uVar9 ^ uVar8) - uVar8;
          uVar9 = (uint)(lVar5 + 4);
          uVar8 = (uint)(lVar5 + 1);
          uVar9 = *(int *)(uVar9 * 2 + iTabl) - *(int *)(uVar8 * 2 + iTabl);
          uVar8 = (int)uVar9 >> 0xf;
          iVar2 = (uVar9 ^ uVar8) - uVar8;
          if (iVar2 < iVar1) {
            iVar2 = iVar1;
          }
          lStack_36 = 0;
          for (lStack_e = lStack_a + 2; lStack_e <= lStack_6 + -1; lStack_e = lStack_e + 1) {
            lVar6 = lStack_e * 3;
            iStack_18 = (int)((ulong)lVar6 >> 0x10);
            uStack_1a = (uint)lVar6;
            uVar9 = *(int *)(uStack_1a * 2 + iTabl) -
                    *(int *)(uStack_16 * 2 + iTabl);
            uVar8 = (int)uVar9 >> 0xf;
            iVar3 = (uVar9 ^ uVar8) - uVar8;
            uVar9 = (uint)(lVar6 + 1);
            uVar8 = (uint)(lVar5 + 1);
            uVar9 = *(int *)(uVar9 * 2 + iTabl) - *(int *)(uVar8 * 2 + iTabl);
            uVar8 = (int)uVar9 >> 0xf;
            iVar1 = (uVar9 ^ uVar8) - uVar8;
            if (iVar1 < iVar3) {
              iVar1 = iVar3;
            }
            if (iVar1 < iVar2) {
              lStack_36 = lStack_e;
              iVar2 = iVar1;
            }
          }
          if (lStack_36 != 0) {
            swap(lStack_a + 1,lStack_36);
          }
          progbar(nmax,(int)lStack_a,(int)((ulong)lStack_a >> 0x10),0,0xa0,0x1d0);
          iVar2 = kbhit();
          if ((iVar2 != 0) && (iVar2 = getch(), iVar2 == 0x1b)) {
            putimage(0xa0,0x1d0,0x2a56,""  /* empty */,0)
            ;
            goto code_r0x0001ea39;
          }
        }
        lStack_1e = lStack_6 + -1;
      }
    }
    putimage(0xa0,0x1d0,0x2a56,""  /* empty */,0);
    uVar4 = 1;
  }
  return uVar4;
}



/* ────────────────────────────────────────────────────────
 * Function: sort2
 * Source:   int sort2(void)
 * Module:   PROJ5.CPP
 * Address:  1928:5802
 * Size:     561 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   6
 *   undefined4 local_6 @ Stack[-0x6]:4
 *   undefined4 local_a @ Stack[-0xa]:4
 *   undefined4 local_e @ Stack[-0xe]:4
 *   undefined4 local_12 @ Stack[-0x12]:4
 *   undefined4 local_16 @ Stack[-0x16]:4
 *   undefined2 local_18 @ Stack[-0x18]:2
 * CallingConv: __cdecl16far
 * Calls: 8 functions
 *   -> LXMUL @ 1000:3eb2
 *   -> putimage @ 23f1:1526
 *   -> getimage @ 23f1:2066
 *   -> swap @ 1928:6bc5
 *   -> cros @ 1928:6a64
 *   -> kbhit @ 1000:1953
 *   -> progbar @ 1928:5f6b
 *   -> getch @ 1000:18df
 * ──────────────────────────────────────────────────────── */

undefined2 __cdecl16far sort2(void)

{
  uint uVar1;
  uint uVar2;
  undefined2 uVar3;
  int iVar4;
  int in_DX;
  int iVar5;
  undefined2 uVar6;
  undefined2 uVar7;
  undefined4 local_16;
  undefined4 local_12;
  long local_e;
  long local_a;
  long local_6;
  
  if (nmax == 0) {
    return 0;
  }
  getimage();
  progbar(nmax,0,0,1,0xa0,0x1d0);
  local_6 = 1;
  while( true ) {
    if (nmax <= local_6) {
      putimage(0xa0,0x1d0,0x2a56,""  /* empty */,0);
      progbar(nmax,0,0,1,0xa0,0x1d0);
      local_6 = 0;
      while( true ) {
        if (nmax + -2 <= local_6) {
          putimage(0xa0,0x1d0,0x2a56,""  /* empty */,0);
          return 1;
        }
        uVar6 = (uint)local_6;
        uVar7 = (uint)((ulong)local_6 >> 0x10);
        uVar3 = cros(uVar6,uVar7,local_6 + 1);
        local_16 = MAKELONG(in_DX,uVar3);
        local_e = local_6 + 1;
        for (local_a = local_6 + 2; local_a < nmax; local_a = local_a + 1) {
          uVar3 = cros(uVar6,uVar7,local_a);
          local_12 = MAKELONG(in_DX,uVar3);
          if (local_12 < local_16) {
            local_16 = local_12;
            local_e = local_a;
          }
        }
        swap((int)local_e,(int)((ulong)local_e >> 0x10),local_6 + 1);
        progbar(nmax + -2,uVar6,uVar7,0,0xa0,0x1d0);
        iVar4 = kbhit();
        if ((iVar4 != 0) && (iVar4 = getch(), iVar4 == 0x1b)) break;
        local_6 = local_6 + 1;
      }
      putimage(0xa0,0x1d0,0x2a56,""  /* empty */,0);
      return 0;
    }
    iVar4 = *(int *)(iTabl + 4);
    iVar5 = 0;
    uVar1 = LXMUL();
    uVar2 = uVar1 + 2;
    in_DX = (((iVar5 + (uint)(0xfffd < uVar1)) * 2 | (uint)CARRY2(uVar2,uVar2)) +
            (uint)CARRY2(uVar2 * 2,iTabl)) * 0x1000 + iTabl_seg;
    if (*(int *)(uVar2 * 2 + iTabl) < iVar4) {
      swap(0,0,local_6);
    }
    progbar(nmax,(int)local_6,(int)((ulong)local_6 >> 0x10),0,0xa0,0x1d0);
    iVar4 = kbhit();
    if ((iVar4 != 0) && (iVar4 = getch(), iVar4 == 0x1b)) break;
    local_6 = local_6 + 1;
  }
  putimage(0xa0,0x1d0,0x2a56,""  /* empty */,0);
  return 0;
}



/* ────────────────────────────────────────────────────────
 * Function: minmax
 * Source:   int minmax(void)
 * Module:   PROJ5.CPP
 * Address:  1928:5a33
 * Size:     909 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   2
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined4 local_8 @ Stack[-0x8]:4
 * CallingConv: __cdecl16far
 * Calls: 2 functions
 *   -> LXMUL @ 1000:3eb2
 *   -> F_FTOL @ 1000:0f76
 * ──────────────────────────────────────────────────────── */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined2 __cdecl16far minmax(void)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  long lVar4;
  
  xmin = *_iTabl;
  ymin = iTabl[1];
  zmin = iTabl[2];
  xmax = xmin;
  ymax = ymin;
  zmax = zmin;
  for (lVar4 = 1; lVar4 < nmax; lVar4 = lVar4 + 1) {
    iVar3 = 0;
    uVar1 = LXMUL();
    if (*(int *)(uVar1 + (int)iTabl) < xmin) {
      iVar3 = 0;
      uVar1 = LXMUL();
      xmin = *(int *)(uVar1 + (int)iTabl);
    }
    iVar3 = 0;
    uVar1 = LXMUL();
    if (xmax < *(int *)(uVar1 + (int)iTabl)) {
      iVar3 = 0;
      uVar1 = LXMUL();
      xmax = *(int *)(uVar1 + (int)iTabl);
    }
    iVar3 = 0;
    uVar1 = LXMUL();
    uVar2 = uVar1 + 1;
    if (iTabl[uVar2] < ymin) {
      iVar3 = 0;
      uVar1 = LXMUL();
      uVar2 = uVar1 + 1;
      ymin = iTabl[uVar2];
    }
    iVar3 = 0;
    uVar1 = LXMUL();
    uVar2 = uVar1 + 1;
    if (ymax < iTabl[uVar2]) {
      iVar3 = 0;
      uVar1 = LXMUL();
      uVar2 = uVar1 + 1;
      ymax = iTabl[uVar2];
    }
    iVar3 = 0;
    uVar1 = LXMUL();
    uVar2 = uVar1 + 2;
    if (iTabl[uVar2] < zmin) {
      iVar3 = 0;
      uVar1 = LXMUL();
      uVar2 = uVar1 + 2;
      zmin = iTabl[uVar2];
    }
    iVar3 = 0;
    uVar1 = LXMUL();
    uVar2 = uVar1 + 2;
    if (zmax < iTabl[uVar2]) {
      iVar3 = 0;
      uVar1 = LXMUL();
      uVar2 = uVar1 + 2;
      zmax = iTabl[uVar2];
    }
  }
  zmin = F_FTOL(lVar4,zmin);
  zmax = F_FTOL(lVar4,zmax);
  if ((((9 < xptr + xmin) && (xptr + xmax < 0x5bcd)) &&
      (9 < yptr + ymin)) &&
     (((yptr + ymax < 0x5bcd && (9 < zptr + zmin)) &&
      (zptr + zmax < 0x2ee1)))) {
    if (((-1 < xmin) && (xmax <= xsize * 10)) &&
       ((-1 < ymin &&
        (((ymax <= ysize * 10 && (-1 < zmin)) &&
         (zmax <= zsize * 10)))))) {
      return 1;
    }
    return 0xffff;
  }
  return 0;
}



/* ────────────────────────────────────────────────────────
 * Function: scan_ms
 * Source:   unsigned int scan_ms(int btc[], char *bnam[], int nbt, int f_beep)
 * Module:   PROJ5.CPP
 * Address:  1928:5dc0
 * Size:     427 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   1
 *   undefined2 local_4 @ Stack[-0x4]:2
 * CallingConv: __cdecl16far
 * Calls: 4 functions
 *   -> button @ 1928:0436
 *   -> ms_key_cmd @ 23c2:012f
 *   -> buttonp @ 1928:05bb
 *   -> pressbt @ 1928:0715
 * ──────────────────────────────────────────────────────── */

int __cdecl16far scan_ms(undefined4 param_1,undefined4 param_2,int param_3,undefined2 param_4)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined2 *puVar6;
  undefined2 uVar7;
  int iVar5;
  undefined2 uVar8;
  
  pkey = 0;
  do {
    while( true ) {
      iVar2 = ms_key_cmd(param_4);
      iVar4 = (int)param_1;
      uVar7 = (uint)((ulong)param_1 >> 0x10);
      iVar5 = (int)param_2;
      uVar8 = (uint)((ulong)param_2 >> 0x10);
      if (iVar2 == 0) break;
      if (iVar2 != 1) {
        pkey = iVar2;
        return 0xff;
      }
      for (iVar2 = 0; iVar2 < param_3; iVar2 = iVar2 + 1) {
        iVar3 = pressbt(iVar4,uVar7,iVar2);
        if (iVar3 != 0) {
          if (*(int *)(iVar4 + iVar2 * 0xc) == 1) {
            puVar6 = (undefined2 *)(iVar5 + nmb_pbt * 4);
            button(iVar4,uVar7,nmb_pbt,*puVar6,puVar6[1]);
          }
          nmb_pbt = 0xff;
          if (*(int *)(iVar4 + (iVar2 * 6 + 1) * 2) == 1) {
            nmb_pbt = 0xff;
            return iVar2;
          }
        }
      }
    }
    bVar1 = false;
    if ((nmb_pbt == 0xff) || (iVar2 = pressbt(iVar4,uVar7,nmb_pbt), iVar2 == 0)) {
      for (iVar2 = 0; iVar2 < param_3; iVar2 = iVar2 + 1) {
        iVar3 = pressbt(iVar4,uVar7,iVar2);
        if (iVar3 != 0) {
          if (*(int *)(iVar4 + iVar2 * 0xc) == 1) {
            puVar6 = (undefined2 *)(iVar5 + iVar2 * 4);
            buttonp(iVar4,uVar7,iVar2,*puVar6,puVar6[1]);
          }
          if (*(int *)(iVar4 + (iVar2 * 6 + 1) * 2) == 0) {
            nmb_pbt = iVar2;
            return iVar2;
          }
          bVar1 = true;
          nmb_pbt = iVar2;
        }
      }
    }
    else {
      if (*(int *)(iVar4 + (nmb_pbt * 6 + 1) * 2) == 0) {
        return nmb_pbt;
      }
      if (*(int *)(iVar4 + (nmb_pbt * 6 + 1) * 2) == 1) {
        bVar1 = true;
      }
    }
    if ((!bVar1) && (nmb_pbt != 0xff)) {
      if (*(int *)(iVar4 + nmb_pbt * 0xc) == 1) {
        puVar6 = (undefined2 *)(iVar5 + nmb_pbt * 4);
        button(iVar4,uVar7,nmb_pbt,*puVar6,puVar6[1]);
      }
      nmb_pbt = 0xff;
    }
  } while( true );
}



/* ────────────────────────────────────────────────────────
 * Function: progbar
 * Source:   void progbar(long nmb_max, long nmb, int set, int xl, int yt)
 * Module:   PROJ5.CPP
 * Address:  1928:5f6b
 * Size:     323 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   4
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 *   undefined local_a @ Stack[-0xa]:1
 *   undefined2 local_c @ Stack[-0xc]:2
 * CallingConv: __cdecl16far
 * Calls: 7 functions
 *   -> bar @ 23f1:1c32
 *   -> putimage @ 23f1:1526
 *   -> setcolor @ 23f1:1d5c
 *   -> getimage @ 23f1:2066
 *   -> setfillstyle @ 23f1:1211
 *   -> itoa @ 1000:4055
 *   -> outtextxy @ 23f1:1f2a
 * ──────────────────────────────────────────────────────── */

void __cdecl16far progbar(long param_1,long param_2,int param_3,int param_4,int param_5)

{
  undefined2 uVar1;
  long lVar2;
  uint uVar3;
  undefined2 uVar4;
  ulong uVar5;
  undefined1 local_a [4];
  uint local_6;
  uint local_4;
  
  lVar2 = (param_2 + 1) * 100;
  uVar5 = lVar2 % param_1;
  local_6 = (uint)(lVar2 / param_1);
  local_4 = local_6 >> 1;
  if (param_3 != 0) {
    k_old = 0;
    p_old = 0xffff;
    setfillstyle(1,7);
    bar(param_4,param_5,param_4 + 0xfe,param_5 + 10);
    getimage(param_4 + 0x109,param_5 + 2,param_4 + 0x121,param_5 + 10,0x4996,
                  ""  /* empty */);
    setcolor(0xc);
    outtextxy(param_4 + 0x122,param_5 + 2,0x1369,
                  ""  /* empty */);
  }
  uVar4 = (uint)uVar5;
  if ((k_old != local_4) && (k_old = local_4, local_4 != 0)) {
    setfillstyle(1,1);
    local_4 = 0;
    while( true ) {
      uVar4 = (uint)uVar5;
      if (k_old <= local_4) break;
      uVar3 = local_4 * 5;
      uVar5 = (ulong)uVar3;
      bar(param_4 + 3 + uVar3,param_5 + 2,param_4 + 6 + uVar3,param_5 + 8);
      local_4 = local_4 + 1;
    }
  }
  if (p_old != local_6) {
    p_old = local_6;
    setcolor(0xc);
    putimage(param_4 + 0x109,param_5 + 2,0x4996,
                  ""  /* empty */,0);
    uVar1 = itoa(local_6,local_a);
    outtextxy(param_4 + 0x109,param_5 + 2,uVar1,uVar4);
  }
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: htime
 * Source:   void htime(char tmpstr[])
 * Module:   PROJ5.CPP
 * Address:  1928:60ae
 * Size:     670 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   10
 *   undefined4 local_6 @ Stack[-0x6]:4
 *   undefined4 local_a @ Stack[-0xa]:4
 *   undefined4 local_e @ Stack[-0xe]:4
 *   undefined2 local_10 @ Stack[-0x10]:2
 *   undefined2 local_12 @ Stack[-0x12]:2
 *   undefined2 local_14 @ Stack[-0x14]:2
 *   undefined local_18 @ Stack[-0x18]:1
 *   undefined2 local_1a @ Stack[-0x1a]:2
 *   undefined2 local_1c @ Stack[-0x1c]:2
 *   undefined2 local_1e @ Stack[-0x1e]:2
 * CallingConv: __cdecl16far
 * Calls: 7 functions
 *   -> putimage @ 23f1:1526
 *   -> memset @ 1000:1bec
 *   -> strcat @ 1000:1b7d
 *   -> getimage @ 23f1:2066
 *   -> seg_time @ 215c:0b84
 *   -> itoa @ 1000:4055
 *   -> progbar @ 1928:5f6b
 * ──────────────────────────────────────────────────────── */

void __cdecl16far htime(void)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  undefined4 local_6;
  
  if (nmax != 0) {
    getimage();
    progbar(nmax,0,1,0xa0,0x1d0);
    for (local_6 = 0; local_6 < nmax + -1; local_6 = local_6 + 1) {
      uVar3 = (uint)local_6 + 3;
      uVar3 = *(int *)(uVar3 * 2 + iTabl) - *(int *)((uint)local_6 * 2 + iTabl);
      uVar1 = (int)uVar3 >> 0xf;
      uVar4 = (uint)local_6 + 4;
      uVar5 = (uint)local_6 + 1;
      uVar4 = *(int *)(uVar4 * 2 + iTabl) - *(int *)(uVar5 * 2 + iTabl);
      uVar2 = (int)uVar4 >> 0xf;
      uVar5 = (uint)local_6 + 5;
      uVar6 = (uint)local_6 + 2;
      uVar5 = *(int *)(uVar5 * 2 + iTabl) - *(int *)(uVar6 * 2 + iTabl);
      uVar6 = (int)uVar5 >> 0xf;
      seg_time((uVar3 ^ uVar1) - uVar1,(uVar4 ^ uVar2) - uVar2,(uVar5 ^ uVar6) - uVar6);
      progbar(nmax,local_6,0,0xa0,0x1d0);
    }
    putimage(0xa0,0x1d0,0x2a56,""  /* empty */,0);
  }
  memset();
  itoa();
  strcat();
  strcat();
  itoa();
  strcat();
  strcat();
  itoa();
  strcat();
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: dlgdim
 * Source:   int dlgdim(void)
 * Module:   PROJ5.CPP
 * Address:  1928:634c
 * Size:     686 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   3
 *   undefined local_a @ Stack[-0xa]:1
 *   undefined2 local_1a @ Stack[-0x1a]:2
 *   undefined2 local_1c @ Stack[-0x1c]:2
 * CallingConv: unknown
 * Calls: 11 functions
 *   -> bar @ 23f1:1c32
 *   -> draw_bt @ 1928:4fc9
 *   -> scan_ms @ 1928:5dc0
 *   -> rectangle @ 23f1:119e
 *   -> WndBkgr @ 1928:0948
 *   -> line @ 23f1:1bcf
 *   -> sw_ctl @ 1928:1906
 *   -> setfillstyle @ 23f1:1211
 *   -> itoa @ 1000:4055
 *   -> outtextxy @ 23f1:1f2a
 *   -> ltoa @ 1000:40a5
 * ──────────────────────────────────────────────────────── */

void dlgdim(void)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  undefined1 local_a [8];
  
  WndBkgr(0x6e,0xb4,0x19a,400,2,(char *)"Dimensions Modification",
          ""  /* empty */);
  draw_bt(0x8aa,""  /* empty */,0x872,
          ""  /* empty */,0xe);
  rectangle();
  rectangle();
  rectangle();
  rectangle();
  outtextxy();
  outtextxy();
  outtextxy();
  outtextxy();
  outtextxy();
  line();
  line();
  line();
  do {
    sw_ctl(fcdim,0,0x82,0x131,2);
    sw_ctl(fcdim,1,0x82,0x145,2);
    sw_ctl(feqk,1,0x82,0xe1,2);
    sw_ctl(feqk,0,0x82,0x109,2);
    setfillstyle(1,0x3b);
    bar();
    itoa();
    outtextxy();
    bar();
    itoa();
    outtextxy();
    bar();
    itoa();
    outtextxy();
    bar();
    itoa();
    outtextxy();
    ltoa(nmax,local_a);
    outtextxy();
    iVar1 = scan_ms(0x8aa,""  /* empty */,0x872,
                    ""  /* empty */,0xe,0);
    iVar2 = 0xf;
    piVar3 = (int *)0x6a28;
    do {
      if (*piVar3 == iVar1) {
                    /* WARNING: Could not recover jumptable at 0x0001f876. Too many branches */
                    /* WARNING: Treating indirect jump as call */
        (*(code *)piVar3[0xf])();
        return;
      }
      piVar3 = piVar3 + 1;
      iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
  } while( true );
}



/* ────────────────────────────────────────────────────────
 * Function: cros
 * Source:   long cros(unsigned long k1, unsigned long k2)
 * Module:   PROJ5.CPP
 * Address:  1928:6a64
 * Size:     353 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   7
 *   undefined4 local_6 @ Stack[-0x6]:4
 *   undefined4 local_a @ Stack[-0xa]:4
 *   undefined4 local_e @ Stack[-0xe]:4
 *   undefined4 local_12 @ Stack[-0x12]:4
 *   undefined2 local_14 @ Stack[-0x14]:2
 *   undefined2 local_16 @ Stack[-0x16]:2
 *   undefined2 local_18 @ Stack[-0x18]:2
 * CallingConv: __cdecl16far
 * ──────────────────────────────────────────────────────── */

int __cdecl16far cros(long param_1,long param_2)

{
  uint uVar1;
  int iVar2;
  long lVar3;
  long lVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  int local_e;
  
  lVar3 = param_1 * 3;
  lVar4 = param_2 * 3;
  param_2._2_2_ = (int)((ulong)lVar4 >> 0x10);
  param_2._0_2_ = (uint)lVar4;
  param_1._2_2_ = (int)((ulong)lVar3 >> 0x10);
  param_1._0_2_ = (uint)lVar3;
  uVar1 = *(int *)((uint)param_2 * 2 + iTabl) - *(int *)((uint)param_1 * 2 + iTabl);
  uVar5 = (int)uVar1 >> 0xf;
  uVar5 = (uVar1 ^ uVar5) - uVar5;
  uVar1 = (uint)(lVar4 + 1);
  uVar6 = (uint)(lVar3 + 1);
  uVar6 = *(int *)(uVar1 * 2 + iTabl) - *(int *)(uVar6 * 2 + iTabl);
  uVar1 = (int)uVar6 >> 0xf;
  uVar1 = (uVar6 ^ uVar1) - uVar1;
  uVar6 = (uint)(lVar4 + 2);
  uVar7 = (uint)(lVar3 + 2);
  lVar3 = (long)(*(int *)(uVar6 * 2 + iTabl) - *(int *)(uVar7 * 2 + iTabl));
  if (uVar1 < uVar5) {
    uVar1 = uVar5;
  }
  iVar2 = sK2;
  if (0 < lVar3) {
    iVar2 = sK1;
  }
  local_e = uVar1 + (int)((iVar2 * lVar3) / 10);
  return local_e;
}



/* ────────────────────────────────────────────────────────
 * Function: swap
 * Source:   void swap(unsigned long k1, unsigned long k2)
 * Module:   PROJ5.CPP
 * Address:  1928:6bc5
 * Size:     451 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * ──────────────────────────────────────────────────────── */

void __cdecl16far swap(long param_1,long param_2)

{
  undefined2 uVar1;
  long lVar2;
  long lVar3;
  uint uVar4;
  uint uVar5;
  
  lVar2 = param_1 * 3;
  lVar3 = param_2 * 3;
  param_1._2_2_ = (int)((ulong)lVar2 >> 0x10);
  param_1._0_2_ = (uint)lVar2;
  uVar1 = *(undefined2 *)((uint)param_1 * 2 + iTabl);
  param_2._2_2_ = (int)((ulong)lVar3 >> 0x10);
  param_2._0_2_ = (uint)lVar3;
  *(undefined2 *)((uint)param_1 * 2 + iTabl) =
       *(undefined2 *)((uint)param_2 * 2 + iTabl);
  *(undefined2 *)((uint)param_2 * 2 + iTabl) = uVar1;
  uVar4 = (uint)(lVar2 + 1);
  uVar1 = *(undefined2 *)(uVar4 * 2 + iTabl);
  uVar4 = (uint)(lVar3 + 1);
  uVar5 = (uint)(lVar2 + 1);
  *(undefined2 *)(uVar5 * 2 + iTabl) = *(undefined2 *)(uVar4 * 2 + iTabl);
  uVar4 = (uint)(lVar3 + 1);
  *(undefined2 *)(uVar4 * 2 + iTabl) = uVar1;
  uVar4 = (uint)(lVar2 + 2);
  uVar1 = *(undefined2 *)(uVar4 * 2 + iTabl);
  uVar4 = (uint)(lVar3 + 2);
  uVar5 = (uint)(lVar2 + 2);
  *(undefined2 *)(uVar5 * 2 + iTabl) = *(undefined2 *)(uVar4 * 2 + iTabl);
  uVar4 = (uint)(lVar3 + 2);
  *(undefined2 *)(uVar4 * 2 + iTabl) = uVar1;
  return;
}



/***********************************************************
 * SEGMENT 215c — PIC.CPP
 * 11 functions
 ***********************************************************/

/* ────────────────────────────────────────────────────────
 * Function: pi_ini
 * Source:   int pi_ini(void)
 * Module:   PIC.CPP
 * Address:  215c:0002
 * Size:     166 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * Calls: 1 functions
 *   -> program_pt2 @ 215c:01eb
 * ──────────────────────────────────────────────────────── */

undefined2 __cdecl16far pi_ini(void)

{
  char cVar1;
  
  ctlw = 7;
  out(0x30c,7);
  out(0x31c,0);
  out(0x30b,0x82);
  out(0x308,0x96);
  out(0x30a,0xfd);
  out(0x30a,0xff);
  out(0x30a,0xfc);
  out(0x313,0x91);
  out(0x311,0xff);
  out(0x313,9);
  out(0x313,0xb);
  out(0x313,0xd);
  out(0x303,0x34);
  out(0x303,0x78);
  out(0x303,0xb4);
  out(0x307,0x34);
  out(0x307,0x78);
  out(0x307,0xb8);
  out(0x317,0x34);
  out(0x317,0x7a);
  out(0x317,0xb8);
  program_pt2(l_period,1);
  cVar1 = in(0x308);
  if (cVar1 != -0x6a) {
    return 0;
  }
  return 1;
}



/* ────────────────────────────────────────────────────────
 * Function: lpuls
 * Source:   int lpuls(int flag)
 * Module:   PIC.CPP
 * Address:  215c:00a8
 * Size:     323 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   5
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 *   undefined2 local_8 @ Stack[-0x8]:2
 *   undefined2 local_a @ Stack[-0xa]:2
 *   undefined2 local_c @ Stack[-0xc]:2
 * CallingConv: __cdecl16far
 * Calls: 7 functions
 *   -> read_pt2 @ 215c:0221
 *   -> program_pt2 @ 215c:01eb
 *   -> show_reit @ 1928:4827
 *   -> delay @ 1000:537f
 *   -> sh_open @ 215c:0241
 *   -> kbhit @ 1000:1953
 *   -> getch @ 1000:18df
 * ──────────────────────────────────────────────────────── */

undefined2 __cdecl16far lpuls(int param_1)

{
  uint uVar1;
  byte bVar2;
  byte bVar3;
  uint uVar4;
  int iVar5;
  undefined2 uVar6;
  uint uVar7;
  uint uVar8;
  uint local_c;
  uint local_a;
  uint local_4;
  
  if (f_demo == 0) {
    local_c = errnmb;
    uVar4 = glpos9;
    if (gl_nmb == 0) {
      uVar4 = 0x200;
    }
    uVar7 = uVar4;
    if ((d_check != 0) && (errnmb != 0)) {
      uVar7 = errnmb & uVar4;
    }
    if (param_1 != 0) {
      sh_open(uVar7);
    }
    uVar8 = 0;
    do {
      iVar5 = kbhit();
      if ((iVar5 != 0) && (iVar5 = getch(), uVar1 = errnmb, iVar5 == 0x1b)) break;
      do {
        iVar5 = read_pt2();
      } while ((iVar5 - 2U & 0xffe0) != 0);
      program_pt2(l_period,(uchar)gate_delay);
      ulFlash = ulFlash + 1;
      delay(1);
      program_pt2(l_period,1);
      if (d_check == 0) goto LAB_215c_0194;
      bVar2 = in(0x310);
      bVar3 = in(0x312);
      uVar7 = uVar7 - ((uint)bVar2 + (uint)bVar3 * 0x100 & 0x3ff & uVar7);
      if (uVar7 == 0) {
        if ((uVar8 != 0) || (errnmb != 0)) {
          sh_open(uVar4);
        }
        errnmb = 0;
        goto LAB_215c_0194;
      }
      if (uVar8 != 10) {
        local_a = 1;
        local_4 = 0;
        do {
          if ((local_a & uVar7) != 0) {
            ((undefined2 *)&nmrpt)[local_4] = ((undefined2 *)&nmrpt)[local_4] + 1;
          }
          local_a = local_a << 1;
          local_4 = local_4 + 1;
        } while (local_4 < 10);
        show_reit(0);
        if (uVar7 != local_c) {
          sh_open(uVar7);
          local_c = uVar7;
        }
      }
      uVar8 = uVar8 + 1;
      uVar1 = uVar7;
    } while (uVar8 < 0xb);
    errnmb = uVar1;
    uVar6 = 0;
  }
  else {
    ulFlash = ulFlash + 1;
LAB_215c_0194:
    uVar6 = 1;
  }
  return uVar6;
}



/* ────────────────────────────────────────────────────────
 * Function: program_pt2
 * Source:   void program_pt2(int period, unsigned char gate)
 * Module:   PIC.CPP
 * Address:  215c:01eb
 * Size:     54 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * ──────────────────────────────────────────────────────── */

uint __cdecl16far program_pt2(int param_1,undefined1 param_2)

{
  uint uVar1;
  
  out(0x314,(char)((param_1 * 100) % 0x100));
  uVar1 = (param_1 * 100) / 0x100;
  out(0x314,(char)uVar1);
  out(0x315,param_2);
  out(0x315,0);
  return uVar1 & 0xff00;
}



/* ────────────────────────────────────────────────────────
 * Function: read_pt2
 * Source:   unsigned int read_pt2(void)
 * Module:   PIC.CPP
 * Address:  215c:0221
 * Size:     32 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * ──────────────────────────────────────────────────────── */

int __cdecl16far read_pt2(void)

{
  byte bVar1;
  byte bVar2;
  
  out(0x317,0);
  bVar1 = in(0x314);
  bVar2 = in(0x314);
  return (uint)bVar1 + (uint)bVar2 * 0x100;
}



/* ────────────────────────────────────────────────────────
 * Function: sh_open
 * Source:   void sh_open(unsigned int pos)
 * Module:   PIC.CPP
 * Address:  215c:0241
 * Size:     78 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * Calls: 1 functions
 *   -> delay @ 1000:537f
 * ──────────────────────────────────────────────────────── */

undefined1 __cdecl16far sh_open(uint param_1)

{
  undefined1 uVar1;
  
  out(0x311,(byte)param_1 ^ 0xff);
  if ((param_1 & 0x100) == 0) {
    uVar1 = 9;
  }
  else {
    uVar1 = 8;
  }
  out(0x313,uVar1);
  if ((param_1 & 0x200) == 0) {
    uVar1 = 0xb;
  }
  else {
    uVar1 = 10;
  }
  out(0x313,uVar1);
  out(0x313,0xc);
  delay(sh_delay);
  out(0x313,0xd);
  return 0xd;
}



/* ────────────────────────────────────────────────────────
 * Function: sh_close
 * Source:   void sh_close(void)
 * Module:   PIC.CPP
 * Address:  215c:028f
 * Size:     29 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * ──────────────────────────────────────────────────────── */

undefined1 __cdecl16far sh_close(void)

{
  out(0x311,0xff);
  out(0x313,9);
  out(0x313,0xb);
  out(0x313,0xd);
  return 0xd;
}



/* ────────────────────────────────────────────────────────
 * Function: process
 * Source:   int process(void)
 * Module:   PIC.CPP
 * Address:  215c:02ac
 * Size:     1 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * ──────────────────────────────────────────────────────── */

undefined2 process(void)

{
  byte bVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  undefined2 uVar5;
  undefined2 uVar6;
  undefined1 auStack_22 [20];
  int iStack_e;
  undefined2 uStack_c;
  int iStack_a;
  int iStack_8;
  long lStack_6;
  
  msg(0xa0,0x50,1,(char *)"For STOP, press ESC",
      ""  /* empty */);
  if ((f_ptr != 0) || (do_ptr == 0)) {
    move_sen(0);
  }
  bVar1 = in(0x30a);
  out(0x30a,bVar1 & 0x7f);
  uVar5 = 1;
  progbar((int)nmax,(int)((ulong)nmax >> 0x10),(int)start_nmb,
          (int)((ulong)start_nmb >> 0x10),1,0xa0,0x1d0);
  lStack_6 = start_nmb;
  do {
    if (nmax <= lStack_6) {
      bVar1 = in(0x30a);
      out(0x30a,bVar1 | 0x80);
      sh_close();
      msg(0xa0,0x50,0,(char *)"For STOP, press ESC" + 0x15,
          ""  /* empty */);
      msgbox((char *)"Ok! TABLE END",""  /* empty */
             ,0,1);
      lastn = 0;
      return 1;
    }
    iVar4 = 0;
    uVar2 = LXMUL();
    iStack_8 = (0x5bcc - xptr) - *(int *)(uVar2 + iTabl);
    iVar4 = 0;
    uVar2 = LXMUL();
    uVar3 = uVar2 + 1;
    iStack_a = *(int *)(uVar3 * 2 + iTabl) + yptr;
    LXMUL();
    iStack_e = 11000 - zptr;
    uVar6 = 0x1000;
    uStack_c = F_FTOL();
    iVar4 = move(iStack_8,iStack_a,uStack_c);
    if (iVar4 == 0) {
      bVar1 = in(0x30a);
      out(0x30a,bVar1 | 0x80);
      sh_close();
      msg(0xa0,0x50,0,0x13c6,""  /* empty */);
      msgbox((char *)"KPU End sens error",
             ""  /* empty */,0,1);
      return 0;
    }
    do {
      iVar4 = lpuls(uVar5);
      if (iVar4 != 0) {
        uVar5 = 0;
        goto code_r0x00021a60;
      }
      bVar1 = in(0x30a);
      out(0x30a,bVar1 | 0x80);
      sh_close();
      msg(0xa0,0x50,0,0x13da,""  /* empty */);
      show_reit(1);
      iVar4 = msgbox((char *)"Check laser! Retry? Ok",
                     ""  /* empty */,1,1);
      if (iVar4 == 0) {
        return 0;
      }
      uVar6 = 0x1928;
      msg(0xa0,0x50,1,(char *)"For STOP, press ESC",
          ""  /* empty */);
      uVar5 = 1;
    } while (iVar4 == 1);
    errnmb = 0;
code_r0x00021a60:
    out(0x319,0);
    draw(uVar6,f_xyz,0);
    lastn = lStack_6 + 1;
    setcolor(0);
    setfillstyle(1,0x3b);
    bar(0x1f,0xce,0x56,0xde);
    ltoa((int)lastn,(int)((ulong)lastn >> 0x10),auStack_22);
    outtextxy(0x28,0xd3,auStack_22);
    progbar((int)nmax,(int)((ulong)nmax >> 0x10),(int)lStack_6,
            (int)((ulong)lStack_6 >> 0x10),0,0xa0,0x1d0);
    iVar4 = kbhit();
    if ((iVar4 != 0) && (iVar4 = getch(), iVar4 == 0x1b)) {
      bVar1 = in(0x30a);
      out(0x30a,bVar1 | 0x80);
      sh_close();
      msg(0xa0,0x50,0,(char *)"For STOP, press ESC" + 0x14,
          ""  /* empty */);
      return 0;
    }
    lStack_6 = lStack_6 + 1;
  } while( true );
}



/* ────────────────────────────────────────────────────────
 * Function: move_sen
 * Source:   int move_sen(int dir)
 * Module:   PIC.CPP
 * Address:  215c:05ad
 * Size:     419 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   1
 *   undefined1 local_3 @ Stack[-0x3]:1
 * CallingConv: __cdecl16far
 * ──────────────────────────────────────────────────────── */

undefined2 __cdecl16far move_sen(int param_1)

{
  bool bVar1;
  bool bVar2;
  byte bVar3;
  byte bVar4;
  
  out(0x300,100);
  out(0x300,0);
  out(0x301,0);
  out(0x301,0x70);
  out(0x304,100);
  out(0x304,0);
  out(0x305,0);
  out(0x305,0x70);
  out(0x302,100);
  out(0x302,0);
  out(0x306,0);
  out(0x306,0x40);
  if (param_1 == 0) {
    ctlw = 0x39;
    bVar3 = 1;
  }
  else {
    ctlw = 0x3b;
    bVar3 = 3;
  }
  out(0x30c,ctlw);
  if (f_demo == 0) {
    while (ctlw != bVar3) {
      bVar4 = in(0x309);
      if ((bVar4 & 3) != 3) {
        ctlw = ctlw & 0xf7;
      }
      if ((bVar4 & 0xc) != 0xc) {
        ctlw = ctlw & 0xef;
      }
      if ((bVar4 & 0x30) != 0x30) {
        ctlw = ctlw & 0xdf;
      }
      out(0x30c,ctlw);
    }
  }
  out(0x300,200);
  out(0x300,0);
  out(0x301,200);
  out(0x301,0);
  out(0x304,200);
  out(0x304,0);
  out(0x305,200);
  out(0x305,0);
  out(0x302,200);
  out(0x302,0);
  out(0x306,200);
  out(0x306,0);
  if (param_1 == 0) {
    ctlw = 0x3e;
  }
  else {
    ctlw = 0x3c;
  }
  out(0x30c,ctlw);
  bVar1 = true;
  bVar2 = true;
  if (f_demo == 0) {
    while (bVar1 || bVar2) {
      bVar3 = in(0x309);
      if ((bVar3 & 0x80) != 0) {
        ctlw = ctlw & 0xe7;
        bVar1 = false;
      }
      if ((bVar3 & 0x40) != 0) {
        ctlw = ctlw & 0xdf;
        bVar2 = false;
      }
      out(0x30c,ctlw);
    }
  }
  out(0x30c,0x80);
  if (param_1 == 0) {
    xcur = 0x5b04;
    ycur = 200;
    zcur = 200;
  }
  do_ptr = (uint)(param_1 == 0);
  return 1;
}



/* ────────────────────────────────────────────────────────
 * Function: move
 * Source:   int move(int x, int y, int z)
 * Module:   PIC.CPP
 * Address:  215c:0750
 * Size:     1076 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   12
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 *   undefined2 local_8 @ Stack[-0x8]:2
 *   undefined2 local_a @ Stack[-0xa]:2
 *   undefined1 local_b @ Stack[-0xb]:1
 *   undefined4 local_10 @ Stack[-0x10]:4
 *   undefined2 local_12 @ Stack[-0x12]:2
 *   undefined2 local_14 @ Stack[-0x14]:2
 *   undefined2 local_16 @ Stack[-0x16]:2
 *   undefined2 local_18 @ Stack[-0x18]:2
 *   undefined2 local_1a @ Stack[-0x1a]:2
 *   undefined2 local_1c @ Stack[-0x1c]:2
 * CallingConv: __cdecl16far
 * Calls: 4 functions
 *   -> move_sen @ 215c:05ad
 *   -> delay @ 1000:537f
 *   -> seg_time @ 215c:0b84
 *   -> calc_k2 @ 215c:0c45
 * ──────────────────────────────────────────────────────── */

undefined2 __cdecl16far move(int param_1,int param_2,int param_3)

{
  bool bVar1;
  bool bVar2;
  byte bVar3;
  byte bVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  undefined2 uVar8;
  undefined2 uVar9;
  undefined2 uVar10;
  uint uVar11;
  undefined4 in_EDX;
  undefined4 local_10;
  
  bVar1 = false;
  bVar2 = false;
  while( true ) {
    uVar10 = (uint)in_EDX;
    uVar5 = param_1 - xcur;
    uVar6 = param_2 - ycur;
    uVar7 = param_3 - zcur;
    uVar8 = seg_time(uVar5,uVar6,uVar7);
    if (uVar5 == 0) {
      ctlw = ctlw & 0xf7;
    }
    else {
      uVar9 = calc_k2(uVar5,uVar8);
      local_10 = MAKELONG(uVar10,uVar9);
      out(0x300,(char)(local_10 % 0x100));
      out(0x300,(char)(local_10 / 0x100));
      uVar11 = (int)uVar5 >> 0xf;
      out(0x301,(char)((int)((uVar5 ^ uVar11) - uVar11) % 0x100));
      uVar10 = 0x301;
      out(0x301,(char)((int)((uVar5 ^ uVar11) - uVar11) / 0x100));
      if ((int)uVar5 < 1) {
        ctlw = ctlw & 0xfe | 8;
      }
      else {
        ctlw = ctlw | 9;
      }
      bVar1 = true;
    }
    if (uVar6 == 0) {
      ctlw = ctlw & 0xef;
    }
    else {
      uVar9 = calc_k2(uVar6,uVar8);
      local_10 = MAKELONG(uVar10,uVar9);
      out(0x304,(char)(local_10 % 0x100));
      out(0x304,(char)(local_10 / 0x100));
      uVar11 = (int)uVar6 >> 0xf;
      out(0x305,(char)((int)((uVar6 ^ uVar11) - uVar11) % 0x100));
      uVar10 = 0x305;
      out(0x305,(char)((int)((uVar6 ^ uVar11) - uVar11) / 0x100));
      if ((int)uVar6 < 1) {
        ctlw = ctlw & 0xfd | 0x10;
      }
      else {
        ctlw = ctlw | 0x12;
      }
      bVar1 = true;
    }
    if (uVar7 == 0) {
      ctlw = ctlw & 0xdf;
    }
    else {
      uVar8 = calc_k2(uVar7,uVar8);
      local_10 = MAKELONG(uVar10,uVar8);
      out(0x302,(char)(local_10 % 0x100));
      out(0x302,(char)(local_10 / 0x100));
      uVar11 = (int)uVar7 >> 0xf;
      out(0x306,(char)((int)((uVar7 ^ uVar11) - uVar11) % 0x100));
      out(0x306,(char)((int)((uVar7 ^ uVar11) - uVar11) / 0x100));
      if ((int)uVar7 < 1) {
        ctlw = ctlw & 0xfb | 0x20;
      }
      else {
        ctlw = ctlw | 0x24;
      }
      bVar2 = true;
    }
    ctlw = ctlw & 0x7f;
    out(0x30c,ctlw);
    if ((((uVar5 == 0) && (uVar6 == 0)) && (uVar7 == 0)) || (f_demo != 0)) break;
    do {
      do {
        if (!bVar1 && !bVar2) goto LAB_215c_0a1c;
        bVar3 = in(0x309);
        if ((bVar1) && ((bVar3 & 0x80) == 0x80)) {
          ctlw = ctlw & 0xe7;
          bVar1 = false;
        }
        if ((bVar2) && ((bVar3 & 0x40) == 0x40)) {
          ctlw = ctlw & 0xdf;
          bVar2 = false;
        }
        out(0x30c,ctlw);
      } while ((bVar3 & 0x3f) == 0x3f);
      delay();
      in_EDX = 0x309;
      bVar3 = in(0x309);
      if (((bVar3 & 0x3f) != 0x3f) || (f_noise == 2)) {
        bVar4 = ctlw & 199;
        out(0x30c,bVar4);
        bVar1 = false;
        bVar2 = false;
        if ((bVar3 & 3) != 3) {
          out(0x300,200);
          out(0x300,0);
          out(0x301,200);
          out(0x301,0);
          if ((int)uVar5 < 0) {
            bVar4 = bVar4 | 9;
          }
          else {
            bVar4 = ctlw & 0xc6 | 8;
          }
          bVar1 = true;
        }
        ctlw = bVar4;
        if ((bVar3 & 0xc) != 0xc) {
          out(0x304,200);
          out(0x304,0);
          out(0x305,200);
          out(0x305,0);
          if ((int)uVar6 < 0) {
            ctlw = ctlw | 0x12;
          }
          else {
            ctlw = ctlw & 0xfd | 0x10;
          }
          bVar1 = true;
        }
        if ((bVar3 & 0x30) != 0x30) {
          out(0x302,200);
          out(0x302,0);
          out(0x306,200);
          out(0x306,0);
          if ((int)uVar7 < 0) {
            ctlw = ctlw | 0x24;
          }
          else {
            ctlw = ctlw & 0xfb | 0x20;
          }
          bVar2 = true;
        }
        ctlw = ctlw & 0x7f;
        while (out(0x30c,ctlw), bVar1 || bVar2) {
          bVar3 = in(0x309);
          if ((bVar1) && ((bVar3 & 0x80) == 0x80)) {
            ctlw = ctlw & 0xe7;
            bVar1 = false;
          }
          if ((bVar2) && ((bVar3 & 0x40) == 0x40)) {
            ctlw = ctlw & 0xdf;
            bVar2 = false;
          }
        }
        out(0x30c,ctlw & 199);
        do_ptr = 0;
        ctlw = ctlw & 199;
        return 0;
      }
    } while (f_noise != 1);
    move_sen();
  }
LAB_215c_0a1c:
  if (f_demo != 0) {
    delay();
  }
  zcur = param_3;
  ycur = param_2;
  xcur = param_1;
  return 1;
}



/* ────────────────────────────────────────────────────────
 * Function: seg_time
 * Source:   int seg_time(int dx, int dy, int dz)
 * Module:   PIC.CPP
 * Address:  215c:0b84
 * Size:     193 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   9
 *   undefined4 local_6 @ Stack[-0x6]:4
 *   undefined4 local_a @ Stack[-0xa]:4
 *   undefined2 local_c @ Stack[-0xc]:2
 *   undefined2 local_e @ Stack[-0xe]:2
 *   undefined2 local_10 @ Stack[-0x10]:2
 *   undefined2 local_12 @ Stack[-0x12]:2
 *   undefined2 local_14 @ Stack[-0x14]:2
 *   undefined2 local_16 @ Stack[-0x16]:2
 *   undefined4 local_1a @ Stack[-0x1a]:4
 * CallingConv: __cdecl16far
 * ──────────────────────────────────────────────────────── */

int __cdecl16far seg_time(uint param_1,uint param_2,uint param_3)

{
  int iVar1;
  long lVar3;
  uint uVar4;
  int iVar2;
  
  if ((int)((param_2 ^ (int)param_2 >> 0xf) - ((int)param_2 >> 0xf)) <
      (int)((param_1 ^ (int)param_1 >> 0xf) - ((int)param_1 >> 0xf))) {
    param_2 = param_1;
  }
  lVar3 = (long)(int)((param_2 ^ (int)param_2 >> 0xf) - ((int)param_2 >> 0xf));
  uVar4 = (int)param_3 >> 0xf;
  if (lVar3 <= (int)((param_3 ^ uVar4) - uVar4)) {
    lVar3 = (long)(int)((param_3 ^ uVar4) - uVar4);
  }
  lVar3 = (lVar3 * 1000) / (long)step_freq;
  iVar2 = (int)(lVar3 / (long)l_period);
  iVar1 = iVar2 + 1;
  if ((long)(l_period - dT) < lVar3 % (long)l_period) {
    iVar1 = iVar2 + 2;
  }
  return iVar1;
}



/* ────────────────────────────────────────────────────────
 * Function: calc_k2
 * Source:   int calc_k2(int dstep, int k)
 * Module:   PIC.CPP
 * Address:  215c:0c45
 * Size:     151 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   4
 *   undefined4 local_6 @ Stack[-0x6]:4
 *   undefined4 local_a @ Stack[-0xa]:4
 *   undefined4 local_e @ Stack[-0xe]:4
 *   undefined2 local_10 @ Stack[-0x10]:2
 * CallingConv: __cdecl16far
 * ──────────────────────────────────────────────────────── */

undefined2 __cdecl16far calc_k2(uint param_1,int param_2)

{
  long lVar1;
  undefined4 local_6;
  
  local_6 = (long)(100000 / (sqword)(long)step_freq);
  if (f_const == 0) {
    lVar1 = (((long)param_2 * (long)l_period - (long)dT) * 100) /
            (long)(int)((param_1 ^ (int)param_1 >> 0xf) - ((int)param_1 >> 0xf));
    if (lVar1 < local_6) {
      lVar1 = local_6;
    }
    local_6 = lVar1;
    if (0xffdc < local_6) {
      local_6 = 0xffdc;
    }
  }
  return (uint)local_6;
}



/***********************************************************
 * SEGMENT 2229 — RDWRF.CPP
 * 17 functions
 ***********************************************************/

/* ────────────────────────────────────────────────────────
 * Function: rdfile
 * Source:   int rdfile(char filename[], char masname[], unsigned int nmb)
 * Module:   RDWRF.CPP
 * Address:  2229:000c
 * Size:     96 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   2
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 * CallingConv: __cdecl16far
 * Calls: 4 functions
 *   -> msgbox @ 1928:07ab
 *   -> fopen @ 1000:2aa3
 *   -> fclose @ 1000:258a
 *   -> fread @ 1000:2c70
 * ──────────────────────────────────────────────────────── */

undefined2 __cdecl16far
rdfile(undefined2 param_1,undefined2 param_2,undefined2 param_3,undefined2 param_4,
      undefined2 param_5)

{
  int iVar1;
  int in_DX;
  
  iVar1 = fopen(param_1,param_2,(code *)FUN_28d3_1428,
                        ""  /* empty */);
  if (iVar1 == 0 && in_DX == 0) {
    msgbox((char *)"File open error",""  /* empty */
           ,0,0);
    return 1;
  }
  fread(param_3,param_4,1,param_5,iVar1,in_DX);
  fclose(iVar1,in_DX);
  return 0;
}



/* ────────────────────────────────────────────────────────
 * Function: wrfile
 * Source:   int wrfile(char filename[], char masname[], unsigned int nmb)
 * Module:   RDWRF.CPP
 * Address:  2229:006c
 * Size:     110 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   2
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 * CallingConv: __cdecl16far
 * Calls: 5 functions
 *   -> msgbox @ 1928:07ab
 *   -> fwrite @ 1000:2efb
 *   -> clearerr @ 1000:1ce3
 *   -> fopen @ 1000:2aa3
 *   -> fclose @ 1000:258a
 * ──────────────────────────────────────────────────────── */

undefined2 __cdecl16far
wrfile(undefined2 param_1,undefined2 param_2,undefined2 param_3,undefined2 param_4,
      undefined2 param_5)

{
  int iVar1;
  int in_DX;
  
  iVar1 = fopen(param_1,param_2,(code *)FUN_28d3_142b,
                        ""  /* empty */);
  if (iVar1 == 0 && in_DX == 0) {
    msgbox((char *)"File open error",""  /* empty */
           ,0,0);
    return 1;
  }
  clearerr(iVar1,in_DX);
  fwrite(param_3,param_4,1,param_5,iVar1,in_DX);
  fclose(iVar1,in_DX);
  return 0;
}



/* ────────────────────────────────────────────────────────
 * Function: RdCfg
 * Source:   void RdCfg(int gl_nmber)
 * Module:   RDWRF.CPP
 * Address:  2229:00da
 * Size:     588 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   15
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 *   undefined4 local_a @ Stack[-0xa]:4
 *   undefined4 local_e @ Stack[-0xe]:4
 *   undefined4 local_12 @ Stack[-0x12]:4
 *   undefined4 local_16 @ Stack[-0x16]:4
 *   undefined4 local_1a @ Stack[-0x1a]:4
 *   undefined4 local_1e @ Stack[-0x1e]:4
 *   undefined4 local_22 @ Stack[-0x22]:4
 *   undefined4 local_26 @ Stack[-0x26]:4
 *   undefined4 local_2a @ Stack[-0x2a]:4
 *   undefined4 local_2e @ Stack[-0x2e]:4
 *   undefined4 local_32 @ Stack[-0x32]:4
 *   undefined4 local_36 @ Stack[-0x36]:4
 *   undefined local_68 @ Stack[-0x68]:1
 * CallingConv: __cdecl16far
 * Calls: 3 functions
 *   -> strtok @ 1000:19a6
 *   -> atoi @ 1000:40d1
 *   -> rdfile @ 2229:000c
 * ──────────────────────────────────────────────────────── */

void __cdecl16far RdCfg(int param_1)

{
  undefined2 uVar1;
  undefined2 in_DX;
  code *pcVar2;
  undefined1 local_68 [50];
  undefined4 local_36;
  undefined4 local_32;
  undefined4 local_2e;
  undefined4 local_2a;
  undefined4 local_26;
  undefined4 local_22;
  undefined4 local_1e;
  undefined4 local_1a;
  undefined4 local_16;
  undefined4 local_12;
  undefined4 local_e;
  undefined4 local_a;
  undefined2 local_6;
  char *local_4;
  
  local_4 = ""  /* empty */;
  local_6 = 0x142e;
  if (param_1 == 0) {
    pcVar2 = (code *)"flint1.cfg";
  }
  else {
    pcVar2 = (code *)FUN_28d3_1430;
  }
  rdfile(pcVar2,(char *)MAKELONG(local_68,""  /* empty */));
  uVar1 = strtok(local_68);
  local_a = MAKELONG(in_DX,uVar1);
  local_e = local_a;
  xptr = atoi(uVar1,in_DX);
  uVar1 = strtok(0,local_6,local_4);
  local_a = MAKELONG(in_DX,uVar1);
  local_12 = local_a;
  yptr = atoi(uVar1,in_DX);
  uVar1 = strtok(0,local_6,local_4);
  local_a = MAKELONG(in_DX,uVar1);
  local_16 = local_a;
  zptr = atoi(uVar1,in_DX);
  uVar1 = strtok(0,local_6,local_4);
  local_a = MAKELONG(in_DX,uVar1);
  local_1a = local_a;
  step = atoi(uVar1,in_DX);
  uVar1 = strtok(0,local_6,local_4);
  local_a = MAKELONG(in_DX,uVar1);
  local_1e = local_a;
  l_period = atoi(uVar1,in_DX);
  uVar1 = strtok(0,local_6,local_4);
  local_a = MAKELONG(in_DX,uVar1);
  local_22 = local_a;
  gate_delay = atoi(uVar1,in_DX);
  uVar1 = strtok(0,local_6,local_4);
  local_a = MAKELONG(in_DX,uVar1);
  local_26 = local_a;
  step_freq = atoi(uVar1,in_DX);
  uVar1 = strtok(0,local_6,local_4);
  local_a = MAKELONG(in_DX,uVar1);
  local_2a = local_a;
  f_const = atoi(uVar1,in_DX);
  uVar1 = strtok(0,local_6,local_4);
  local_a = MAKELONG(in_DX,uVar1);
  local_2e = local_a;
  dT = atoi(uVar1,in_DX);
  uVar1 = strtok(0,local_6,local_4);
  local_a = MAKELONG(in_DX,uVar1);
  local_32 = local_a;
  sh_delay = atoi(uVar1,in_DX);
  if (param_1 != 0) {
    uVar1 = strtok(0,local_6,local_4);
    local_a = MAKELONG(in_DX,uVar1);
    local_36 = local_a;
    glpos9 = atoi(uVar1,in_DX);
  }
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: FlashRd
 * Source:   void FlashRd(void)
 * Module:   RDWRF.CPP
 * Address:  2229:0326
 * Size:     222 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   11
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 *   undefined1 local_7 @ Stack[-0x7]:1
 *   undefined1 local_8 @ Stack[-0x8]:1
 *   undefined1 local_9 @ Stack[-0x9]:1
 *   undefined1 local_a @ Stack[-0xa]:1
 *   undefined1 local_b @ Stack[-0xb]:1
 *   undefined1 local_c @ Stack[-0xc]:1
 *   undefined1 local_d @ Stack[-0xd]:1
 *   undefined local_e @ Stack[-0xe]:1
 *   undefined local_50 @ Stack[-0x50]:1
 * CallingConv: __cdecl16far
 * Calls: 7 functions
 *   -> CurDir @ 2229:04e4
 *   -> chdir @ 1000:1f49
 *   -> msgbox @ 1928:07ab
 *   -> memset @ 1000:1bec
 *   -> fopen @ 1000:2aa3
 *   -> fclose @ 1000:258a
 *   -> fread @ 1000:2c70
 * ──────────────────────────────────────────────────────── */

void __cdecl16far FlashRd(void)

{
  int in_DX;
  undefined1 local_50 [66];
  byte local_e;
  byte local_d;
  byte local_c;
  byte local_b;
  byte local_a;
  byte local_9;
  byte local_8;
  byte local_7;
  int local_6;
  int local_4;
  
  CurDir();
  memset(local_50);
  chdir(0x29de,""  /* empty */);
  local_6 = fopen((char *)"flash.dat",
                          ""  /* empty */,
                          (code *)FUN_28d3_1450,
                          ""  /* empty */);
  local_4 = in_DX;
  if (local_6 == 0 && in_DX == 0) {
    msgbox((char *)"File open error",""  /* empty */
           ,0,0);
  }
  fread(&local_e);
  fclose(local_6,local_4);
  ulFlash =
       (ulong)local_e * 0x1000000 + (ulong)local_d * 0x10000 + (ulong)local_c * 0x100 +
       (ulong)local_b;
  ulService =
       (ulong)local_a * 0x1000000 + (ulong)local_9 * 0x10000 + (ulong)local_8 * 0x100 +
       (ulong)local_7;
  chdir(local_50);
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: FlashWr
 * Source:   void FlashWr(void)
 * Module:   RDWRF.CPP
 * Address:  2229:0404
 * Size:     1 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * ──────────────────────────────────────────────────────── */

void FlashWr(void)

{
  int in_DX;
  undefined1 auStack_58 [66];
  ulong uStack_16;
  ulong uStack_12;
  undefined1 uStack_e;
  undefined1 uStack_d;
  undefined1 uStack_c;
  undefined1 uStack_b;
  undefined1 uStack_a;
  undefined1 uStack_9;
  undefined1 uStack_8;
  undefined1 uStack_7;
  int iStack_6;
  int iStack_4;
  
  uStack_12 = ulFlash >> 0x10;
  uStack_e = (uchar)(ulFlash >> 0x18);
  uStack_d = (uchar)(ulFlash >> 0x10);
  uStack_c = (uchar)(ulFlash >> 8);
  uStack_b = (uchar)ulFlash;
  uStack_16 = ulService >> 0x10;
  uStack_a = (uchar)(ulService >> 0x18);
  uStack_9 = (uchar)(ulService >> 0x10);
  uStack_8 = (uchar)(ulService >> 8);
  uStack_7 = (uchar)ulService;
  CurDir();
  memset(auStack_58);
  chdir(0x29de,""  /* empty */);
  iStack_6 = fopen((char *)"flash.dat",
                           ""  /* empty */,
                           (code *)FUN_28d3_145d,
                           ""  /* empty */);
  iStack_4 = in_DX;
  if (iStack_6 == 0 && in_DX == 0) {
    msgbox((char *)"File open error",""  /* empty */
           ,0,0);
  }
  fwrite(&uStack_e);
  fclose(iStack_6,iStack_4);
  chdir(auStack_58);
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: CurDir
 * Source:   void CurDir(void)
 * Module:   RDWRF.CPP
 * Address:  2229:04e4
 * Size:     45 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * Calls: 3 functions
 *   -> memset @ 1000:1bec
 *   -> getcurdir @ 1000:1f65
 *   -> getdisk @ 1000:1d24
 * ──────────────────────────────────────────────────────── */

void __cdecl16far CurDir(void)

{
  char cVar1;
  
  memset((undefined1 *)&path,""  /* empty */,
                0x1460,""  /* empty */);
  cVar1 = getdisk();
  path = cVar1 + 'A';
  getcurdir(0,0x5799,""  /* empty */);
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: rddir
 * Source:   int rddir(char f_namext[])
 * Module:   RDWRF.CPP
 * Address:  2229:0511
 * Size:     1 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * ──────────────────────────────────────────────────────── */

undefined2 rddir(undefined2 param_1,undefined2 param_2,undefined2 param_3)

{
  undefined2 uVar1;
  int iVar2;
  int iVar3;
  undefined2 unaff_SS;
  undefined1 auStack_30 [30];
  char acStack_12 [14];
  int iStack_4;
  
  lastf = 0;
  iVar2 = 0;
  do {
    iVar3 = 0;
    do {
      ((undefined1 *)&flist)[iVar2 * 0xd + iVar3] = 0;
      iVar3 = iVar3 + 1;
    } while (iVar3 < 0xd);
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0x3c);
  iVar2 = 0;
  do {
    iVar3 = 0;
    do {
      ((undefined1 *)&dlist)[iVar2 * 0xd + iVar3] = 0;
      iVar3 = iVar3 + 1;
    } while (iVar3 < 10);
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0x1e);
  CurDir();
  iVar2 = 0;
  iStack_4 = findfirst(0x1464,""  /* empty */,auStack_30);
  if (acStack_12[0] != '.') goto code_r0x00022846;
  if (acStack_12[1] == '.') goto code_r0x00022846;
  do {
    iStack_4 = findnext(0x1000,auStack_30);
code_r0x00022846:
    while( true ) {
      iVar3 = iVar2;
      if (iStack_4 != 0) {
        sort_dnm();
        iStack_4 = findfirst(param_2,param_3,auStack_30);
        iVar2 = 0;
        if (iStack_4 == 0) {
          while (iVar3 = iVar2, iStack_4 == 0) {
            iVar2 = 0;
            do {
              ((undefined1 *)&flist)[iVar3 * 0xd + iVar2] = acStack_12[iVar2];
              iVar2 = iVar2 + 1;
            } while (iVar2 < 0xd);
            iVar2 = iVar3 + 1;
            lastf = iVar3;
            if (iVar2 == 0x62) {
              iStack_4 = 1;
            }
            else {
              iStack_4 = findnext(0x1000,auStack_30);
            }
          }
          sort_fnm();
          uVar1 = 1;
        }
        else {
          uVar1 = 0;
        }
        return uVar1;
      }
      iVar2 = 0;
      do {
        ((undefined1 *)&dlist)[iVar3 * 0xd + iVar2] = acStack_12[iVar2];
        iVar2 = iVar2 + 1;
      } while (iVar2 < 0xd);
      iVar2 = iVar3 + 1;
      lastd = iVar3;
      if (iVar2 != 0x30) break;
      iStack_4 = 1;
    }
  } while( true );
}



/* ────────────────────────────────────────────────────────
 * Function: sort_fnm
 * Source:   void sort_fnm(void)
 * Module:   RDWRF.CPP
 * Address:  2229:062c
 * Size:     156 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   3
 *   undefined1 local_3 @ Stack[-0x3]:1
 *   undefined2 local_6 @ Stack[-0x6]:2
 *   undefined2 local_8 @ Stack[-0x8]:2
 * CallingConv: __cdecl16far
 * ──────────────────────────────────────────────────────── */

void __cdecl16far sort_fnm(void)

{
  undefined1 uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  for (iVar2 = 0; iVar5 = iVar2, iVar2 < lastf; iVar2 = iVar2 + 1) {
    while (iVar5 = iVar5 + 1, iVar5 <= lastf) {
      iVar3 = 0;
      do {
        if ((char)((undefined1 *)&flist)[iVar5 * 0xd + iVar3] <
            (char)((undefined1 *)&flist)[iVar2 * 0xd + iVar3]) {
          iVar3 = 0;
          do {
            uVar1 = ((undefined1 *)&flist)[iVar5 * 0xd + iVar3];
            iVar4 = iVar2 * 0xd + iVar3;
            ((undefined1 *)&flist)[iVar5 * 0xd + iVar3] =
                 ((undefined1 *)&flist)[iVar4];
            ((undefined1 *)&flist)[iVar4] = uVar1;
            iVar3 = iVar3 + 1;
          } while (iVar3 < 0xd);
          iVar3 = 8;
        }
        if ((char)((undefined1 *)&flist)[iVar2 * 0xd + iVar3] <
            (char)((undefined1 *)&flist)[iVar5 * 0xd + iVar3]) {
          iVar3 = 8;
        }
        iVar3 = iVar3 + 1;
      } while (iVar3 < 8);
    }
  }
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: sort_dnm
 * Source:   void sort_dnm(void)
 * Module:   RDWRF.CPP
 * Address:  2229:06c8
 * Size:     181 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   3
 *   undefined1 local_3 @ Stack[-0x3]:1
 *   undefined2 local_6 @ Stack[-0x6]:2
 *   undefined2 local_8 @ Stack[-0x8]:2
 * CallingConv: __cdecl16far
 * ──────────────────────────────────────────────────────── */

void __cdecl16far sort_dnm(void)

{
  undefined1 uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  if ((dlist == '.') && (DAT_28d3_550d == '.')) {
    iVar3 = 1;
  }
  else {
    iVar3 = 0;
  }
  for (; iVar4 = iVar3, iVar3 < lastd; iVar3 = iVar3 + 1) {
    while (iVar4 = iVar4 + 1, iVar4 <= lastd) {
      iVar2 = 0;
      do {
        if ((char)((undefined1 *)&dlist)[iVar4 * 0xd + iVar2] <
            (char)((undefined1 *)&dlist)[iVar3 * 0xd + iVar2]) {
          iVar2 = 0;
          do {
            uVar1 = ((undefined1 *)&dlist)[iVar4 * 0xd + iVar2];
            iVar5 = iVar3 * 0xd + iVar2;
            ((undefined1 *)&dlist)[iVar4 * 0xd + iVar2] =
                 ((undefined1 *)&dlist)[iVar5];
            ((undefined1 *)&dlist)[iVar5] = uVar1;
            iVar2 = iVar2 + 1;
          } while (iVar2 < 0xd);
          iVar2 = 8;
        }
        if ((char)((undefined1 *)&dlist)[iVar3 * 0xd + iVar2] <
            (char)((undefined1 *)&dlist)[iVar4 * 0xd + iVar2]) {
          iVar2 = 8;
        }
        iVar2 = iVar2 + 1;
      } while (iVar2 < 8);
    }
  }
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: rdcft_t
 * Source:   long rdcft_t(char filename[])
 * Module:   RDWRF.CPP
 * Address:  2229:077d
 * Size:     1 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * ──────────────────────────────────────────────────────── */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 rdcft_t(undefined2 param_1,undefined2 param_2,undefined2 param_3)

{
  undefined4 uVar1;
  undefined2 uVar2;
  int iVar3;
  uint uVar4;
  int in_DX;
  uint uVar5;
  undefined2 *puVar6;
  uint uVar7;
  longdouble in_ST0;
  longdouble lVar8;
  longdouble in_ST1;
  undefined1 auStack_3e [32];
  undefined4 uStack_1e;
  double dStack_1a;
  undefined4 uStack_12;
  int iStack_e;
  int iStack_c;
  undefined2 uStack_a;
  char *pcStack_8;
  undefined4 uStack_6;
  
  pcStack_8 = ""  /* empty */;
  uStack_a = 0x1466;
  uStack_12 = 0;
  iStack_e = fopen(param_2,param_3,(code *)FUN_28d3_1469,
                           ""  /* empty */);
  if (iStack_e == 0 && in_DX == 0) {
    msgbox((char *)"File open error",""  /* empty */
           ,0,0);
  }
  else {
    iStack_c = in_DX;
    fgets(auStack_3e);
    uVar2 = strtok(auStack_3e);
    uStack_6 = MAKELONG(in_DX,uVar2);
    iVar3 = strcmp(uVar2,in_DX,(char *)"flinttab",
                          ""  /* empty */);
    if (iVar3 == 0) {
      fgets(auStack_3e);
      uVar2 = strtok(auStack_3e);
      uStack_6 = MAKELONG(in_DX,uVar2);
      uVar2 = strtok(0,uStack_a,pcStack_8);
      uStack_6 = MAKELONG(in_DX,uVar2);
      atof(uVar2,in_DX);
      nglas = (double)in_ST0;
      fgets(auStack_3e);
      uVar2 = strtok(auStack_3e);
      uStack_6 = MAKELONG(in_DX,uVar2);
      uVar2 = strtok(0,uStack_a,pcStack_8);
      uStack_6 = MAKELONG(in_DX,uVar2);
      atof(uVar2,in_DX);
      dStack_1a = (double)(in_ST1 * (longdouble)_FUN_28d3_1474);
      lVar8 = (longdouble)dStack_1a;
      xsize = F_FTOL();
      fgets(auStack_3e);
      uVar2 = strtok(auStack_3e);
      uStack_6 = MAKELONG(in_DX,uVar2);
      uVar2 = strtok(0,uStack_a,pcStack_8);
      uStack_6 = MAKELONG(in_DX,uVar2);
      atof(uVar2,in_DX);
      dStack_1a = (double)(lVar8 * (longdouble)_FUN_28d3_1474);
      lVar8 = (longdouble)dStack_1a;
      ysize = F_FTOL();
      fgets(auStack_3e);
      uVar2 = strtok(auStack_3e);
      uStack_6 = MAKELONG(in_DX,uVar2);
      uVar2 = strtok(0,uStack_a,pcStack_8);
      uStack_6 = MAKELONG(in_DX,uVar2);
      atof(uVar2,in_DX);
      dStack_1a = (double)(lVar8 * (longdouble)_FUN_28d3_1474);
      zsize = F_FTOL();
      while( true ) {
        iVar3 = fgets(auStack_3e);
        if (iVar3 == 0 && in_DX == 0) break;
        uVar2 = strtok(auStack_3e);
        uStack_6 = MAKELONG(in_DX,uVar2);
        uVar7 = 0;
        do {
          uVar2 = strtok(0,uStack_a,pcStack_8);
          uStack_6 = MAKELONG(in_DX,uVar2);
          iVar3 = 0;
          uVar4 = LXMUL();
          in_DX = (int)uVar7 >> 0xf;
          uVar5 = uVar4 + uVar7;
          puVar6 = (undefined2 *)(uVar5 * 2 + iTabl);
          iVar3 = (((iVar3 + in_DX + (uint)CARRY2(uVar4,uVar7)) * 2 | (uint)CARRY2(uVar5,uVar5)) +
                  (uint)CARRY2(uVar5 * 2,iTabl)) * 0x1000 + iTabl_seg;
          uStack_1e = uStack_6;
          uVar1 = uStack_1e;
          uStack_1e._0_2_ = (uint)uStack_6;
          uVar2 = (uint)uStack_1e;
          uStack_1e = uVar1;
          uVar2 = atoi(uVar2,(int)((ulong)uStack_6 >> 0x10));
          *puVar6 = uVar2;
          uVar7 = uVar7 + 1;
        } while ((int)uVar7 < 3);
        if (uStack_12 == ulMax) {
          fclose(iStack_e,iStack_c);
          uStack_12._2_2_ = 0xffff;
          uStack_12._0_2_ = 0xffff;
          goto code_r0x00022d17;
        }
        uStack_12 = uStack_12 + 1;
      }
      fclose(iStack_e,iStack_c);
      goto code_r0x00022d17;
    }
    fclose(iStack_e,iStack_c);
  }
  uStack_12._2_2_ = 0;
  uStack_12._0_2_ = 0;
code_r0x00022d17:
  return MAKELONG(uStack_12._2_2_,(uint)uStack_12);
}



/* ────────────────────────────────────────────────────────
 * Function: rdgls
 * Source:   int rdgls(void)
 * Module:   RDWRF.CPP
 * Address:  2229:0a8b
 * Size:     151 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   3
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 *   undefined local_16 @ Stack[-0x16]:1
 * CallingConv: __cdecl16far
 * Calls: 5 functions
 *   -> msgbox @ 1928:07ab
 *   -> memset @ 1000:1bec
 *   -> fgets @ 1000:2726
 *   -> fopen @ 1000:2aa3
 *   -> fclose @ 1000:258a
 * ──────────────────────────────────────────────────────── */

int __cdecl16far rdgls(void)

{
  int in_DX;
  int iVar1;
  int iVar2;
  undefined1 local_16 [16];
  int local_6;
  int local_4;
  
  iVar1 = 0;
  do {
    iVar2 = 0;
    do {
      ((undefined1 *)&gtype)[iVar1 * 0x10 + iVar2] = 0;
      iVar2 = iVar2 + 1;
    } while (iVar2 < 0x10);
    iVar1 = iVar1 + 1;
  } while (iVar1 < 0x32);
  local_6 = fopen((char *)"A:\\flint.gls" + 2,
                          ""  /* empty */,
                          (code *)FUN_28d3_1482,
                          ""  /* empty */);
  if (local_6 == 0 && in_DX == 0) {
    msgbox((char *)"File open error",""  /* empty */
           ,0,0);
    iVar1 = 0;
  }
  else {
    iVar1 = 0;
    local_4 = in_DX;
    while( true ) {
      iVar2 = fgets(local_16);
      if (iVar2 == 0 && in_DX == 0) break;
      memset((undefined1 *)&gtype + iVar1 * 0x10,
                    ""  /* empty */,local_16);
      iVar1 = iVar1 + 1;
    }
    fclose(local_6,local_4);
  }
  return iVar1;
}



/* ────────────────────────────────────────────────────────
 * Function: rdasc_t
 * Source:   int rdasc_t(char filename[])
 * Module:   RDWRF.CPP
 * Address:  2229:0b22
 * Size:     1 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * ──────────────────────────────────────────────────────── */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined2 rdasc_t(undefined2 param_1,undefined2 param_2,undefined2 param_3)

{
  uint uVar1;
  uint uVar2;
  undefined2 *puVar3;
  undefined2 uVar4;
  int iVar5;
  int in_DX;
  undefined2 unaff_SS;
  longdouble in_ST0;
  undefined1 *puVar6;
  undefined1 auStack_66 [64];
  code *pcStack_26;
  char *pcStack_24;
  code *pcStack_22;
  char *pcStack_20;
  undefined2 uStack_1e;
  char *pcStack_1c;
  undefined2 uStack_1a;
  char *pcStack_18;
  double dStack_16;
  int iStack_e;
  int iStack_c;
  undefined4 uStack_a;
  long lStack_6;
  
  lStack_6 = 0;
  pcStack_18 = ""  /* empty */;
  uStack_1a = 0x1484;
  pcStack_1c = ""  /* empty */;
  uStack_1e = 0x1486;
  pcStack_20 = ""  /* empty */;
  pcStack_22 = (code *)FUN_28d3_1489;
  pcStack_24 = ""  /* empty */;
  pcStack_26 = (code *)FUN_28d3_148c;
  iStack_e = fopen(param_2,param_3,(code *)FUN_28d3_148f,
                           ""  /* empty */);
  iStack_c = in_DX;
  if (iStack_e == 0 && in_DX == 0) {
    msgbox((char *)"File open error",""  /* empty */
           ,0,0);
    return 0xffff;
  }
  do {
    do {
      iVar5 = fgets(auStack_66);
      if (iVar5 == 0 && in_DX == 0) {
        fclose(iStack_e,iStack_c);
        nmax = lStack_6;
        return 0;
      }
      iVar5 = strstr(auStack_66);
    } while (iVar5 == 0 && in_DX == 0);
    puVar6 = (undefined1 *)MAKELONG(unaff_SS,auStack_66);
    while( true ) {
      uVar4 = strtok(puVar6,uStack_1a,pcStack_18);
      uStack_a = MAKELONG(in_DX,uVar4);
      if (uStack_a == 0) break;
      iVar5 = stricmp(uVar4,in_DX,uStack_1e,pcStack_1c);
      if (iVar5 == 0) {
        uVar4 = strtok(0,uStack_1a,pcStack_18);
        uStack_a = MAKELONG(in_DX,uVar4);
        atof(uVar4,in_DX);
        dStack_16 = (double)(in_ST0 * (longdouble)_FUN_28d3_1474);
        iVar5 = 0;
        uVar1 = LXMUL();
code_r0x00022f6e:
        puVar3 = (undefined2 *)(uVar1 * 2 + iTabl);
        in_DX = ((iVar5 << 1 | (uint)CARRY2(uVar1,uVar1)) + (uint)CARRY2(uVar1 * 2,iTabl)) *
                0x1000 + iTabl_seg;
        in_ST0 = (longdouble)dStack_16 / (longdouble)1;
code_r0x00022f8c:
        iVar5 = in_DX;
        uVar4 = F_FTOL();
        *puVar3 = uVar4;
      }
      else {
        iVar5 = stricmp((uint)uStack_a,(int)((ulong)uStack_a >> 0x10),pcStack_22,
                              pcStack_20);
        if (iVar5 == 0) {
          uVar4 = strtok(0,uStack_1a,pcStack_18);
          uStack_a = MAKELONG(in_DX,uVar4);
          atof(uVar4,in_DX);
          dStack_16 = (double)(in_ST0 * (longdouble)_FUN_28d3_1474);
          iVar5 = 0;
          uVar2 = LXMUL();
          uVar1 = uVar2 + 1;
          puVar3 = (undefined2 *)(uVar1 * 2 + iTabl);
          in_DX = (((iVar5 + (uint)(0xfffe < uVar2)) * 2 | (uint)CARRY2(uVar1,uVar1)) +
                  (uint)CARRY2(uVar1 * 2,iTabl)) * 0x1000 + iTabl_seg;
          in_ST0 = (longdouble)dStack_16 / (longdouble)_FUN_28d3_1491;
          goto code_r0x00022f8c;
        }
        iVar5 = stricmp((uint)uStack_a,(int)((ulong)uStack_a >> 0x10),pcStack_26,
                              pcStack_24);
        if (iVar5 == 0) {
          uVar4 = strtok(0,uStack_1a,pcStack_18);
          uStack_a = MAKELONG(in_DX,uVar4);
          atof(uVar4,in_DX);
          dStack_16 = (double)(in_ST0 * (longdouble)_FUN_28d3_1474);
          iVar5 = 0;
          uVar2 = LXMUL();
          uVar1 = uVar2 + 2;
          iVar5 = iVar5 + (uint)(0xfffd < uVar2);
          goto code_r0x00022f6e;
        }
      }
      puVar6 = (undefined1 *)0x0;
    }
    lStack_6 = lStack_6 + 1;
    if (lStack_6 == ulMax) {
      fclose(iStack_e,iStack_c);
      nmax = 0;
      return 1;
    }
  } while( true );
}



/* ────────────────────────────────────────────────────────
 * Function: wrasc
 * Source:   int wrasc(char filename[])
 * Module:   RDWRF.CPP
 * Address:  2229:0d88
 * Size:     1 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * ──────────────────────────────────────────────────────── */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined2 wrasc(undefined2 param_1,undefined4 param_2)

{
  uint uVar1;
  int in_DX;
  int iVar2;
  uint uVar3;
  undefined2 uVar4;
  undefined2 unaff_SS;
  long lStack_14;
  undefined1 auStack_10 [8];
  undefined1 uStack_8;
  int iStack_6;
  int iStack_4;
  
  uVar3 = 0;
  do {
    uVar4 = (uint)((ulong)param_2 >> 0x10);
    if (*(char *)((int)param_2 + uVar3 + 6) == '.') {
      auStack_10[uVar3] = 0;
    }
    else {
      auStack_10[uVar3] = *(undefined1 *)((int)param_2 + uVar3 + 6);
    }
    uVar3 = uVar3 + 1;
  } while (uVar3 < 8);
  uStack_8 = 0;
  iStack_6 = fopen();
  if (iStack_6 == 0 && in_DX == 0) {
    msgbox();
    uVar4 = 1;
  }
  else {
    iStack_4 = in_DX;
    memset();
    strcat();
    fputs();
    memset();
    strcat();
    strcat();
    fputs();
    memset();
    ltoa();
    strcat();
    strcat();
    fputs();
    for (lStack_14 = 0; lStack_14 < nmax; lStack_14 = lStack_14 + 1) {
      ltoa();
      memset();
      strcat();
      strcat();
      iVar2 = 0;
      uVar3 = LXMUL();
      gcvt((double)((float)*(int *)(uVar3 + iTabl) / _FUN_28d3_1474),6,auStack_10);
      strcat();
      strcat();
      iVar2 = 0;
      uVar3 = LXMUL();
      uVar1 = uVar3 + 1;
      gcvt((double)((float)-*(int *)(uVar1 * 2 + iTabl) / _FUN_28d3_1474),6,
                    auStack_10);
      strcat();
      strcat();
      iVar2 = 0;
      uVar3 = LXMUL();
      uVar1 = uVar3 + 2;
      gcvt((double)((float)*(int *)(uVar1 * 2 + iTabl) / _FUN_28d3_1474),6,
                    auStack_10);
      strcat();
      strcat();
      fputs();
    }
    fclose(iStack_6,iStack_4);
    uVar4 = 0;
  }
  return uVar4;
}



/* ────────────────────────────────────────────────────────
 * Function: wrt_cft
 * Source:   int wrt_cft(char filename[])
 * Module:   RDWRF.CPP
 * Address:  2229:10ce
 * Size:     1 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * ──────────────────────────────────────────────────────── */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined2 wrt_cft(void)

{
  int in_DX;
  undefined1 auStack_1c [10];
  double dStack_12;
  int iStack_a;
  int iStack_8;
  long lStack_6;
  
  iStack_a = fopen();
  if (iStack_a == 0 && in_DX == 0) {
    msgbox();
    return 0xffff;
  }
  iStack_8 = in_DX;
  memset();
  strcat();
  fputs();
  memset();
  strcat();
  gcvt(nglas,4,auStack_1c);
  strcat();
  strcat();
  fputs();
  memset();
  strcat();
  dStack_12 = (double)((float)xsize / _FUN_28d3_1474);
  gcvt(dStack_12,4,auStack_1c);
  strcat();
  strcat();
  fputs();
  memset();
  strcat();
  dStack_12 = (double)((float)ysize / _FUN_28d3_1474);
  gcvt(dStack_12,4,auStack_1c);
  strcat();
  strcat();
  fputs();
  memset();
  strcat();
  dStack_12 = (double)((float)zsize / _FUN_28d3_1474);
  gcvt(dStack_12,4,auStack_1c);
  strcat();
  strcat();
  fputs();
  for (lStack_6 = 0; lStack_6 < nmax; lStack_6 = lStack_6 + 1) {
    ltoa();
    strcat();
    LXMUL(auStack_1c);
    itoa();
    strcat();
    strcat();
    LXMUL(auStack_1c);
    itoa();
    strcat();
    strcat();
    LXMUL(auStack_1c);
    itoa();
    strcat();
    strcat();
    fputs();
  }
  fclose(iStack_a,iStack_8);
  return 0;
}



/* ────────────────────────────────────────────────────────
 * Function: wrt_bft
 * Source:   int wrt_bft(char filename[])
 * Module:   RDWRF.CPP
 * Address:  2229:1502
 * Size:     246 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   9
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 *   undefined2 local_8 @ Stack[-0x8]:2
 *   undefined2 local_a @ Stack[-0xa]:2
 *   undefined2 local_c @ Stack[-0xc]:2
 *   undefined2 local_e @ Stack[-0xe]:2
 *   undefined2 local_10 @ Stack[-0x10]:2
 *   undefined2 local_12 @ Stack[-0x12]:2
 *   undefined2 local_14 @ Stack[-0x14]:2
 * CallingConv: __cdecl16far
 * Calls: 6 functions
 *   -> msgbox @ 1928:07ab
 *   -> fwrite @ 1000:2efb
 *   -> F_FTOL @ 1000:0f76
 *   -> clearerr @ 1000:1ce3
 *   -> fopen @ 1000:2aa3
 *   -> fclose @ 1000:258a
 * ──────────────────────────────────────────────────────── */

undefined2 __cdecl16far wrt_bft(undefined2 param_1,undefined2 param_2)

{
  int iVar1;
  undefined2 local_14;
  undefined2 local_12;
  undefined2 local_10;
  undefined2 local_e;
  undefined2 local_c;
  undefined2 local_a;
  int local_8;
  int local_6;
  int local_4;
  
  local_14 = 0x6662;
  local_12 = F_FTOL();
  local_10 = xsize;
  local_e = ysize;
  local_c = zsize;
  local_a = (uint)(nmax / 0x10000);
  iVar1 = (int)(nmax % 0x10000);
  local_8 = iVar1;
  local_6 = fopen(param_1,param_2,(code *)FUN_28d3_1577,
                          ""  /* empty */);
  local_4 = iVar1;
  if (local_6 == 0 && iVar1 == 0) {
    msgbox((char *)"File open error",""  /* empty */
           ,0,0);
    return 1;
  }
  clearerr(local_6,iVar1);
  fwrite(&local_14);
  fwrite(iTabl,iTabl_seg,0xc,(int)(nmax / 2) + (int)(nmax % 2),
                local_6,local_4);
  fclose(local_6,local_4);
  return 0;
}



/* ────────────────────────────────────────────────────────
 * Function: rdbft_t
 * Source:   long rdbft_t(char filename[])
 * Module:   RDWRF.CPP
 * Address:  2229:15f8
 * Size:     266 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   11
 *   undefined2 local_4 @ Stack[-0x4]:2
 *   undefined2 local_6 @ Stack[-0x6]:2
 *   undefined4 local_a @ Stack[-0xa]:4
 *   undefined4 local_e @ Stack[-0xe]:4
 *   undefined2 local_10 @ Stack[-0x10]:2
 *   undefined2 local_12 @ Stack[-0x12]:2
 *   undefined2 local_14 @ Stack[-0x14]:2
 *   undefined2 local_16 @ Stack[-0x16]:2
 *   undefined2 local_18 @ Stack[-0x18]:2
 *   undefined2 local_1a @ Stack[-0x1a]:2
 *   undefined2 local_1c @ Stack[-0x1c]:2
 * CallingConv: __cdecl16far
 * Calls: 4 functions
 *   -> msgbox @ 1928:07ab
 *   -> fopen @ 1000:2aa3
 *   -> fclose @ 1000:258a
 *   -> fread @ 1000:2c70
 * ──────────────────────────────────────────────────────── */

undefined2 __cdecl16far rdbft_t(undefined2 param_1,undefined2 param_2)

{
  int in_DX;
  int local_1c;
  uint local_1a;
  undefined2 local_18;
  undefined2 local_16;
  undefined2 local_14;
  undefined2 local_12;
  uint local_10;
  ulong local_e;
  ulong local_a;
  int local_6;
  int local_4;
  
  local_6 = fopen(param_1,param_2,(code *)FUN_28d3_157a,
                          ""  /* empty */);
  if (local_6 == 0 && in_DX == 0) {
    msgbox((char *)"File open error",""  /* empty */
           ,0,0);
    return 1;
  }
  local_4 = in_DX;
  fread(&local_1c);
  if (local_1c != 0x6662) {
    fclose(local_6,local_4);
    return 0;
  }
  local_e = (ulong)local_1a;
  nglas = (double)((float)local_e / 1000.0f);
  xsize = local_18;
  ysize = local_16;
  zsize = local_14;
  local_a = MAKELONG(local_12,local_10);
  if (ulMax < local_a) {
    fclose(local_6,local_4);
    return 0xffff;
  }
  fread(iTabl,iTabl_seg,0xc,(int)(local_a >> 1) + (local_10 & 1),local_6,local_4
               );
  fclose(local_6,local_4);
  return (uint)local_a;
}



/* ────────────────────────────────────────────────────────
 * Function: rdbmp
 * Source:   long rdbmp(char filename[])
 * Module:   RDWRF.CPP
 * Address:  2229:1702
 * Size:     1 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: unknown
 * ──────────────────────────────────────────────────────── */

undefined2 rdbmp(undefined2 param_1,undefined2 param_2,undefined2 param_3)

{
  undefined2 uVar1;
  uint uVar2;
  uint uVar3;
  int in_DX;
  int iVar4;
  uint uVar5;
  uint uVar6;
  undefined2 unaff_SS;
  byte abStack_156 [256];
  int iStack_56;
  undefined2 uStack_54;
  undefined2 uStack_52;
  uint uStack_44;
  uint uStack_40;
  byte bStack_18;
  byte bStack_17;
  long lStack_16;
  long lStack_12;
  uint uStack_e;
  uint uStack_c;
  uint uStack_a;
  uint uStack_8;
  int iStack_6;
  int iStack_4;
  
  iStack_6 = fopen(param_2,param_3,(code *)FUN_28d3_157d,
                           ""  /* empty */);
  if (iStack_6 == 0 && in_DX == 0) {
    msgbox((char *)"File open error",""  /* empty */
           ,0,0);
    uVar1 = 1;
  }
  else {
    iStack_4 = in_DX;
    fread(&iStack_56);
    if (iStack_56 == 0x4d42) {
      uStack_8 = uStack_44;
      uStack_a = uStack_40;
      uStack_e = (uint)((uStack_44 & 7) != 0) + (uStack_44 >> 3);
      if ((uStack_e & 3) != 0) {
        uStack_e = ((uStack_e >> 2) + 1) * 4;
      }
      if ((ulong)uStack_e * (ulong)uStack_40 + 0x3e == MAKELONG(uStack_52,uStack_54)) {
        lStack_12 = 0;
        lStack_16 = ulMax;
        uStack_c = 0;
        do {
          if (uStack_a <= uStack_c) {
            fclose(iStack_6,iStack_4);
            lStack_16._0_2_ = (uint)((long)((ulong)uStack_8 * (ulong)dx) / 10);
            xsize = (uint)lStack_16;
            lStack_16._0_2_ = (uint)((long)((ulong)uStack_a * (ulong)dy) / 10);
            ysize = (uint)lStack_16;
            zsize = 100;
            return (uint)lStack_12;
          }
          fread(abStack_156);
          for (uVar5 = 0; uVar5 < uStack_e; uVar5 = uVar5 + 1) {
            bStack_17 = abStack_156[uVar5];
            bStack_18 = 0x80;
            uVar6 = 0;
            do {
              if ((uVar5 * 8 + uVar6 < uStack_8) && ((bStack_17 & bStack_18) == 0)) {
                iVar4 = 0;
                uVar2 = LXMUL();
                *(int *)(uVar2 + iTabl) = (uVar5 * 8 + uVar6) * dx;
                iVar4 = 0;
                uVar2 = LXMUL();
                uVar3 = uVar2 + 1;
                *(int *)(uVar3 * 2 + iTabl) = uStack_c * dy;
                iVar4 = 0;
                uVar2 = LXMUL();
                uVar3 = uVar2 + 2;
                uVar1 = dz;
                if ((uVar6 & 1) == (uStack_c & 1)) {
                  uVar1 = 0;
                }
                *(undefined2 *)(uVar3 * 2 + iTabl) = uVar1;
                lStack_12 = lStack_12 + 1;
                if (lStack_16 < lStack_12) {
                  fclose(iStack_6,iStack_4);
                  return 0xffff;
                }
              }
              bStack_18 = bStack_18 >> 1;
              uVar6 = uVar6 + 1;
            } while (uVar6 < 8);
          }
          uStack_c = uStack_c + 1;
        } while( true );
      }
    }
    fclose(iStack_6,iStack_4);
    uVar1 = 0;
  }
  return uVar1;
}



/***********************************************************
 * SEGMENT 23c2 — MSKEYC.CPP
 * 7 functions
 ***********************************************************/

/* ────────────────────────────────────────────────────────
 * Function: set_gr_cursor
 * Source:   void set_gr_cursor(int hx, int hy, unsigned int far *masks)
 * Module:   MSKEYC.CPP
 * Address:  23c2:0001
 * Size:     57 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * Calls: 1 functions
 *   -> FUN_1000_5290 @ 1000:5290
 * ──────────────────────────────────────────────────────── */

void __cdecl16far
set_gr_cursor(undefined2 param_1,undefined2 param_2,undefined2 param_3,undefined2 param_4)

{
  r_ax = 9;
  r_bx = param_2;
  r_cx = param_1;
  DAT_28d3_57fc = param_4;
  r_dx = param_3;
  FUN_1000_5290(0x33,(undefined2 *)&r_ax,
                ""  /* empty */,(undefined2 *)&r_ax,
                ""  /* empty */,(undefined2 *)&DAT_28d3_57fc,
                ""  /* empty */);
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: ms_init
 * Source:   void ms_init(void)
 * Module:   MSKEYC.CPP
 * Address:  23c2:003a
 * Size:     56 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * Calls: 3 functions
 *   -> puts @ 1000:3431
 *   -> exit @ 1000:4d6e
 *   -> int86 @ 1000:525b
 * ──────────────────────────────────────────────────────── */

void __cdecl16far ms_init(void)

{
  r_ax = 0;
  int86(0x33,(undefined2 *)&r_ax,
                ""  /* empty */,(undefined2 *)&r_ax,
                ""  /* empty */);
  if (r_ax == 0) {
    puts((char *)"no mouse !",
                  ""  /* empty */);
    exit(0xffff);
  }
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: ms_state
 * Source:   void ms_state(MOUSE_STATE *m)
 * Module:   MSKEYC.CPP
 * Address:  23c2:0072
 * Size:     58 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * Calls: 1 functions
 *   -> int86 @ 1000:525b
 * ──────────────────────────────────────────────────────── */

void __cdecl16far ms_state(undefined1 *param_1)

{
  undefined2 uVar1;
  
  r_ax = 3;
  int86(0x33,(undefined2 *)&r_ax,
                ""  /* empty */,(undefined2 *)&r_ax,
                ""  /* empty */);
  *param_1 = (uchar)r_bx;
  uVar1 = (uint)((ulong)param_1 >> 0x10);
  *(undefined2 *)((undefined1 *)param_1 + 1) = r_cx;
  *(undefined2 *)((undefined1 *)param_1 + 3) = r_dx;
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: ms_move
 * Source:   void ms_move(int x, int y)
 * Module:   MSKEYC.CPP
 * Address:  23c2:00ac
 * Size:     41 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * Calls: 1 functions
 *   -> int86 @ 1000:525b
 * ──────────────────────────────────────────────────────── */

void __cdecl16far ms_move(undefined2 param_1,undefined2 param_2)

{
  r_ax = 4;
  r_cx = param_1;
  r_dx = param_2;
  int86(0x33,(undefined2 *)&r_ax,
                ""  /* empty */,(undefined2 *)&r_ax,
                ""  /* empty */);
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: ms_release
 * Source:   int ms_release(MOUSE_STATE *m)
 * Module:   MSKEYC.CPP
 * Address:  23c2:00d5
 * Size:     62 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * Calls: 1 functions
 *   -> int86 @ 1000:525b
 * ──────────────────────────────────────────────────────── */

int __cdecl16far ms_release(char *param_1)

{
  undefined2 uVar1;
  
  r_ax = 6;
  r_bx = (int)*param_1;
  int86(0x33,(undefined2 *)&r_ax,
                ""  /* empty */,(undefined2 *)&r_ax,
                ""  /* empty */);
  uVar1 = (uint)((ulong)param_1 >> 0x10);
  *(undefined2 *)((char *)param_1 + 1) = r_cx;
  *(undefined2 *)((char *)param_1 + 3) = r_dx;
  return r_bx;
}



/* ────────────────────────────────────────────────────────
 * Function: beep
 * Source:   void beep(int tone, int duration)
 * Module:   MSKEYC.CPP
 * Address:  23c2:0113
 * Size:     28 bytes
 * Return:   undefined
 * Params:   0
 * CallingConv: __cdecl16far
 * Calls: 3 functions
 *   -> nosound @ 1000:4cbf
 *   -> delay @ 1000:537f
 *   -> sound @ 1000:4c8f
 * ──────────────────────────────────────────────────────── */

void __cdecl16far beep(undefined2 param_1,undefined2 param_2)

{
  sound(param_1);
  delay(param_2);
  nosound();
  return;
}



/* ────────────────────────────────────────────────────────
 * Function: ms_key_cmd
 * Source:   int ms_key_cmd(int f_beep)
 * Module:   MSKEYC.CPP
 * Address:  23c2:012f
 * Size:     448 bytes
 * Return:   undefined
 * Params:   0
 * Locals:   4
 *   undefined2 local_5 @ Stack[-0x5]:2
 *   undefined2 local_7 @ Stack[-0x7]:2
 *   undefined1 local_8 @ Stack[-0x8]:1
 *   undefined2 local_a @ Stack[-0xa]:2
 * CallingConv: __cdecl16far
 * Calls: 6 functions
 *   -> bioskey @ 1000:0fe0
 *   -> ms_release @ 23c2:00d5
 *   -> delay @ 1000:537f
 *   -> beep @ 23c2:0113
 *   -> ms_state @ 23c2:0072
 *   -> ms_move @ 23c2:00ac
 * ──────────────────────────────────────────────────────── */

int __cdecl16far ms_key_cmd(int param_1)

{
  code *pcVar1;
  int iVar2;
  int iVar3;
  undefined2 uVar4;
  char cVar5;
  char local_8;
  int local_7;
  int local_5;
  
  pcVar1 = (code *)swi(0x33);
  (*pcVar1)();
  do {
    if (param_1 != 0) {
      beep(0x834,0x46);
      beep(3000,0x46);
    }
    local_8 = '\0';
    iVar2 = ms_release(&local_8);
    if (iVar2 != 0) {
LAB_23c2_01bc:
      sts_old = 0;
      nmb_rpt = 0;
      pcVar1 = (code *)swi(0x33);
      (*pcVar1)();
      return 1;
    }
    ms_state(&local_8);
    if (local_8 == '\x01') {
      if (sts_old == 0) {
        sts_old = 1;
LAB_23c2_01f6:
        coord_h = local_7;
        coord_v = local_5;
        pcVar1 = (code *)swi(0x33);
        (*pcVar1)();
        return 0;
      }
      if (nmb_rpt == 0) {
        nmb_rpt = 1;
        iVar2 = 0;
        do {
          delay(10);
          local_8 = '\0';
          iVar3 = ms_release(&local_8);
          if (iVar3 != 0) goto LAB_23c2_01bc;
          iVar2 = iVar2 + 1;
        } while (iVar2 < 0x32);
      }
      delay(10);
      ms_state(&local_8);
      if (local_8 == '\x01') goto LAB_23c2_01f6;
    }
    iVar2 = bioskey(1);
    if (iVar2 != 0) {
      uVar4 = bioskey(0);
      cVar5 = (char)uVar4;
      if (cVar5 == '\0') {
        cVar5 = (char)((uint)uVar4 >> 8);
        if (cVar5 == 'K') {
          local_7 = local_7 + -8;
        }
        else if (cVar5 == 'H') {
          local_5 = local_5 + -8;
        }
        else if (cVar5 == 'M') {
          local_7 = local_7 + 8;
        }
        else if (cVar5 == 'P') {
          local_5 = local_5 + 8;
        }
        else {
          if ((':' < cVar5) && (cVar5 < 'R')) {
            pcVar1 = (code *)swi(0x33);
            (*pcVar1)();
            return (int)(char)((uint)uVar4 >> 8);
          }
          beep(1000,100);
        }
        ms_move(local_7,local_5);
      }
      else {
        if (cVar5 == '\x1b') {
          pcVar1 = (code *)swi(0x33);
          (*pcVar1)();
          return 0x1b;
        }
        if (cVar5 == '\r') {
          coord_h = local_7;
          coord_v = local_5;
          pcVar1 = (code *)swi(0x33);
          (*pcVar1)();
          return 0xd;
        }
        beep(1000,100);
      }
    }
    sts_old = 0;
    nmb_rpt = 0;
  } while( true );
}



/* ========== DATA SEGMENT (28d3) GLOBALS ========== */
// 28d3:0000 undefined2 DAT_28d3_0000 = 0x0
// 28d3:0002 undefined2 DAT_28d3_0002 = 0x0
// 28d3:0004 string s_NULL_CHECK_28d3_0004 = NULL CHECK
// 28d3:0020 string  = Borland C++ - Copyright 1994 Borland Intl.
// 28d3:004b string  = Divide error

// 28d3:005a undefined4 DAT_28d3_005a = 0x0
// 28d3:005e undefined2 DAT_28d3_005e = 0x0
// 28d3:0060 undefined2 DAT_28d3_0060 = 0x0
// 28d3:0062 undefined2 DAT_28d3_0062 = 0x0
// 28d3:0064 undefined2 DAT_28d3_0064 = 0x0
// 28d3:0066 undefined2 DAT_28d3_0066 = 0x0
// 28d3:0068 undefined2 DAT_28d3_0068 = 0x0
// 28d3:006a undefined2 DAT_28d3_006a = 0x0
// 28d3:006c undefined2 DAT_28d3_006c = 0x0
// 28d3:006e undefined2 DAT_28d3_006e = 0x0
// 28d3:0070 undefined2 DAT_28d3_0070 = 0x0
// 28d3:0072 undefined2 DAT_28d3_0072 = 0x0
// 28d3:0074 undefined2 DAT_28d3_0074 = 0x0
// 28d3:0076 undefined2 DAT_28d3_0076 = 0x0
// 28d3:0078 undefined2 DAT_28d3_0078 = 0x0
// 28d3:007a undefined2 DAT_28d3_007a = 0x0
// 28d3:007c undefined1 DAT_28d3_007c = 0x0
// 28d3:007d undefined1 DAT_28d3_007d = 0x0
// 28d3:007e undefined2 DAT_28d3_007e = 0x0
// 28d3:0084 undefined2 DAT_28d3_0084 = 0x0
// 28d3:0086 undefined2 DAT_28d3_0086 = 0x0
// 28d3:0088 undefined2 DAT_28d3_0088 = 0x0
// 28d3:008a undefined2 DAT_28d3_008a = 0x0
// 28d3:008c undefined2 DAT_28d3_008c = 0x0
// 28d3:008e undefined2 DAT_28d3_008e = 0x0
// 28d3:00b8 undefined2 DAT_28d3_00b8 = 0x17c
// 28d3:00c2 undefined2 DAT_28d3_00c2 = 0x208
// 28d3:00c4 undefined2 DAT_28d3_00c4 = 0xd2
// 28d3:0255 undefined1 DAT_28d3_0255 = 0x0
// 28d3:0257 undefined1 DAT_28d3_0257 = 0x0
// 28d3:0259 undefined1 DAT_28d3_0259 = 0x0
// 28d3:03fe undefined2 DAT_28d3_03fe = 0x109
// 28d3:0437 undefined1 DAT_28d3_0437 = 0x0
// 28d3:0438 undefined1 DAT_28d3_0438 = 0x0
// 28d3:04d0 undefined2 DAT_28d3_04d0 = 0x28d3
// 28d3:04d2 undefined2 DAT_28d3_04d2 = 0xdb1
// 28d3:04d4 undefined2 DAT_28d3_04d4 = 0x28d3
// 28d3:04d6 undefined2 DAT_28d3_04d6 = 0xdb2
// 28d3:04e2 undefined1 DAT_28d3_04e2 = 0x1
// 28d3:04e3 undefined2 DAT_28d3_04e3 = 0x100
// 28d3:078a undefined1 DAT_28d3_078a = 0xa
// 28d3:0a32 undefined1 DAT_28d3_0a32 = -0x41
// 28d3:0a33 undefined1 DAT_28d3_0a33 = -0x1
// 28d3:0a41 undefined1 DAT_28d3_0a41 = -0x7d
// 28d3:0c37 string  = F1 Config
// 28d3:0c41 string  = F2 Convert
// 28d3:0c4c string  = F3 DatLoad
// 28d3:0c57 string  = F4 GlsLoad
// 28d3:0c62 string  = F5 Start
// 28d3:0c6b string  = F10 Exit
// 28d3:0c77 string  = Cancel
// 28d3:0c7e string  = Load .cfg
// 28d3:0c88 string  = Save .cfg
// 28d3:0cba string  = protect.open
// 28d3:0cc7 string  = gate delay
// 28d3:0cd2 string  = laser pump
// 28d3:0cdd string  = work ptr
// 28d3:0ce6 string  = constant
// 28d3:0cef string  = variable
// 28d3:0d08 string  = Cancel
// 28d3:0d13 undefined2 DAT_28d3_0d13 = 0x6e
// 28d3:0d15 undefined2 DAT_28d3_0d15 = 0x0
// 28d3:0d17 undefined2 DAT_28d3_0d17 = 0x7075
// 28d3:0d19 undefined1 DAT_28d3_0d19 = 0x0
// 28d3:0d3a string  = Cancel
// 28d3:0d41 string  = Data Save
// 28d3:0d4b string  = Data Load
// 28d3:0d5c string  = 0->Center
// 28d3:0d8c string  = X-mirror
// 28d3:0d95 string  = Dimensions
// 28d3:0da0 string  = C->Center
// 28d3:0daa string  = invert
// 28d3:0dbd string  = PgDn Down
// 28d3:0dc7 string  = Cancel
// 28d3:0dd1 string  = Cancel
// 28d3:0de3 string  =  Cancel
// 28d3:0def string  = Beginning
// 28d3:0df9 string  = Point number
// 28d3:0e06 string  = Continuation
// 28d3:0e13 string  = Saved in CMOS
// 28d3:0e21 string  = End sensors
// 28d3:0e2d string  = Drawing check
// 28d3:0e40 string  = Coord.reboot/continuation
// 28d3:0e5a string  = Ignore
// 28d3:0e6a string  = Close
// 28d3:0e74 string  = 0.5mm layers
// 28d3:0e8e string  = Sort/time
// 28d3:0e98 string  = Cancel
// 28d3:0ea6 string  = from 0
// 28d3:0ead string  = from centre
// 28d3:0ed1 string  = ?Graphics error
// 28d3:0ee2 string  = graphics error
// 28d3:0ef1 string  = Allocation error
// 28d3:0f02 string  = Data load
// 28d3:0f0c string  = File not found
// 28d3:0f1b string  = Please wait
// 28d3:0f28 string  = Not flinttab file
// 28d3:0f3a string  = Buffer overflow
// 28d3:0f51 string  = Next pix:
// 28d3:0f5d string  = Configuration
// 28d3:0f6b string  = Reset
// 28d3:0f71 string  = Flash nmb
// 28d3:0f7b string  = Service date
// 28d3:0f98 string  = Las.puls
// 28d3:0fa1 string  = period
// 28d3:0fda string  =  pixels max
// 28d3:0fea string  = Please wait
// 28d3:0ff8 string  =  AKPU error
// 28d3:1005 string  = Are you sure?
// 28d3:101e string  = flint1.cfg
// 28d3:1029 string  = GLASS: n,size is true?
// 28d3:1040 string  = Are you sure?
// 28d3:104f string  = Drive:
// 28d3:1073 undefined4 100.0f = 0x42c80000
// 28d3:1090 string  = disk error
// 28d3:10be string  = Data Convert
// 28d3:10cb string  = File:
// 28d3:10d1 string  = Glass:
// 28d3:10db string  = Xsize:
// 28d3:1111 string  = Enter name
// 28d3:111d string  = Enter file name
// 28d3:112d string  = Overwrite?
// 28d3:1138 string  = Please wait /press ESC
// 28d3:114f string  = Data load
// 28d3:1159 string  = File not found
// 28d3:1168 string  = Please wait
// 28d3:1175 string  = Buffer overflow
// 28d3:1187 string  = Not B&W bmp file
// 28d3:1198 string  = Not flinttab file
// 28d3:11aa string  = Buffer overflow
// 28d3:11c8 undefined8 DAT_28d3_11c8 = 0x3f50624dd2f1a9fc
// 28d3:11d1 undefined8 DAT_28d3_11d1 = 0x3ff004189374bc6a
// 28d3:1205 string  = HCOut of range
// 28d3:1214 string  = Please wait
// 28d3:1221 string  = Glass Load
// 28d3:1250 string  = Glass select
// 28d3:125d string  = Glass:  n:
// 28d3:1268 string  = Start
// 28d3:126e string  = After noise:
// 28d3:127b string  = Finished point: 
// 28d3:128c string  = Start number > nmax
// 28d3:12a0 string  = Data out of range
// 28d3:12b2 string  = Data out of glass
// 28d3:12c4 string  = Institute for Laser Technologies
// 28d3:12e5 string  = and Engineering
// 28d3:12f9 string  = Dr.check
// 28d3:1302 string  = File:
// 28d3:130e string  = Nlast:
// 28d3:1315 string  = GLASS:
// 28d3:132d string  = Reiterations:
// 28d3:134b string  = Sorting
// 28d3:1361 string  = Pixels:
// 28d3:136b string  = Time: 
// 28d3:1376 string  = Dimensions Modification
// 28d3:13a9 string  = Pixels:
// 28d3:13b2 string  = For STOP: press ESC
// 28d3:13c7 string  = KPU/End sens.error
// 28d3:13db string  = Check laser. Retry: Ok
// 28d3:13f2 string  = For STOP: press ESC
// 28d3:1408 string  = Ok.  TABLE END
// 28d3:1418 string  = File open error
// 28d3:143b string  = flint1.cfg
// 28d3:1446 string  = flash.dat
// 28d3:1453 string  = flash.dat
// 28d3:146b string  = flinttab
// 28d3:1476 string  =  Aflint.gls
// 28d3:149b string  = Ambient light color: 
// 28d3:14b1 string  = Red=0.039216 Green=0.039216 Blue=0.039216


// 28d3:14dd string  = Named object: "
// 28d3:14f0 string  = Tri-mesh, Vertices: 
// 28d3:1505 string  =      Faces: 0
Vertex list:

// 28d3:1521 string  = Vertex 
// 28d3:154d string  = flinttab
// 28d3:1556 string  = nglass=
// 28d3:155e string  = xsize=
// 28d3:1573 undefined4 1000.0f = 0x447a0000
// 28d3:1580 string  = no mouse !
// 28d3:158c undefined2 DAT_28d3_158c = 0x2280
// 28d3:158e undefined2 DAT_28d3_158e = 0x23f1
// 28d3:1590 undefined1 DAT_28d3_1590 = 0x1
// 28d3:15a8 undefined1 DAT_28d3_15a8 = 0x0
// 28d3:15f9 undefined2 DAT_28d3_15f9 = 0x1000
// 28d3:15fb undefined2 DAT_28d3_15fb = 0xa
// 28d3:15fd undefined2 DAT_28d3_15fd = 0x0
// 28d3:15ff undefined2 DAT_28d3_15ff = 0x0
// 28d3:1601 undefined2 DAT_28d3_1601 = 0x0
// 28d3:1603 undefined2 DAT_28d3_1603 = 0x0
// 28d3:1605 undefined2 DAT_28d3_1605 = 0x0
// 28d3:1607 undefined2 DAT_28d3_1607 = 0x5254
// 28d3:1609 undefined2 DAT_28d3_1609 = 0x5049
// 28d3:1693 undefined2 DAT_28d3_1693 = 0x0
// 28d3:1695 undefined2 DAT_28d3_1695 = 0x0
// 28d3:1697 undefined2 DAT_28d3_1697 = 0x0
// 28d3:1699 undefined2 DAT_28d3_1699 = 0x0
// 28d3:169b undefined2 DAT_28d3_169b = 0x0
// 28d3:169d undefined2 DAT_28d3_169d = 0x0
// 28d3:169f undefined2 DAT_28d3_169f = 0x0
// 28d3:1729 undefined2 DAT_28d3_1729 = 0x32a
// 28d3:172b undefined2 DAT_28d3_172b = 0x23f1
// 28d3:172d undefined2 DAT_28d3_172d = 0x32a
// 28d3:172f undefined2 DAT_28d3_172f = 0x23f1
// 28d3:1731 undefined1 DAT_28d3_1731 = 0x0
// 28d3:1732 undefined1 DAT_28d3_1732 = 0x0
// 28d3:1733 undefined2 DAT_28d3_1733 = 0x0
// 28d3:1735 undefined2 DAT_28d3_1735 = 0x0
// 28d3:173f undefined2 DAT_28d3_173f = 0x0
// 28d3:1744 undefined1 DAT_28d3_1744 = 0x0
// 28d3:1745 undefined1 DAT_28d3_1745 = 0x0
// 28d3:1750 undefined2 DAT_28d3_1750 = 0x0
// 28d3:1752 undefined2 DAT_28d3_1752 = 0x0
// 28d3:1754 undefined2 DAT_28d3_1754 = 0x0
// 28d3:175a undefined1 DAT_28d3_175a = 0x0
// 28d3:175e undefined2 DAT_28d3_175e = 0x0
// 28d3:1760 undefined2 DAT_28d3_1760 = 0x0
// 28d3:176a undefined2 DAT_28d3_176a = 0x0
// 28d3:176c undefined2 DAT_28d3_176c = 0x0
// 28d3:176e undefined2 DAT_28d3_176e = 0x0
// 28d3:1789 undefined1 DAT_28d3_1789 = 0x0
// 28d3:178a undefined2 DAT_28d3_178a = 0x1731
// 28d3:178c undefined2 DAT_28d3_178c = 0x1744
// 28d3:178e undefined2 DAT_28d3_178e = 0x0
// 28d3:1790 undefined2 DAT_28d3_1790 = 0x0
// 28d3:1792 undefined2 DAT_28d3_1792 = 0x0
// 28d3:1794 undefined2 DAT_28d3_1794 = 0x0
// 28d3:1796 undefined2 DAT_28d3_1796 = 0x0
// 28d3:1798 undefined2 DAT_28d3_1798 = 0x0
// 28d3:179a undefined2 DAT_28d3_179a = 0x0
// 28d3:179c undefined2 DAT_28d3_179c = 0x0
// 28d3:179e undefined2 DAT_28d3_179e = 0x0
// 28d3:17a0 undefined2 DAT_28d3_17a0 = 0x1
// 28d3:17a2 undefined2 DAT_28d3_17a2 = 0x1
// 28d3:17a4 undefined2 DAT_28d3_17a4 = 0x0
// 28d3:17a6 undefined2 DAT_28d3_17a6 = 0x0
// 28d3:17a8 undefined2 DAT_28d3_17a8 = 0x0
// 28d3:17aa undefined2 DAT_28d3_17aa = 0x0
// 28d3:17ac undefined2 DAT_28d3_17ac = 0x0
// 28d3:17ae undefined2 DAT_28d3_17ae = 0x0
// 28d3:17b0 undefined1 DAT_28d3_17b0 = 0x0
// 28d3:17b2 undefined1 DAT_28d3_17b2 = 0x0
// 28d3:17b5 undefined2 DAT_28d3_17b5 = 0x0
// 28d3:17b7 undefined2 DAT_28d3_17b7 = 0x0
// 28d3:17b9 undefined2 DAT_28d3_17b9 = 0x0
// 28d3:17bb undefined1 DAT_28d3_17bb = 0x0
// 28d3:17bd undefined2 DAT_28d3_17bd = 0x0
// 28d3:17bf undefined2 DAT_28d3_17bf = 0x0
// 28d3:17c1 undefined2 DAT_28d3_17c1 = 0x0
// 28d3:17c3 undefined2 DAT_28d3_17c3 = 0x0
// 28d3:17c5 undefined2 DAT_28d3_17c5 = 0x0
// 28d3:17c7 undefined2 DAT_28d3_17c7 = 0x0
// 28d3:17c9 undefined2 DAT_28d3_17c9 = 0x0
// 28d3:17cb undefined2 DAT_28d3_17cb = 0x0
// 28d3:17cd undefined2 DAT_28d3_17cd = 0x0
// 28d3:17cf undefined2 DAT_28d3_17cf = 0x0
// 28d3:17d1 undefined2 DAT_28d3_17d1 = 0x0
// 28d3:17d3 undefined1 DAT_28d3_17d3 = 0x0
// 28d3:17d4 undefined1 DAT_28d3_17d4 = 0x0
// 28d3:17db undefined1 DAT_28d3_17db = 0x0
// 28d3:17dc undefined1 DAT_28d3_17dc = 0x0
// 28d3:17ec undefined2 DAT_28d3_17ec = 0x0
// 28d3:17ee undefined2 DAT_28d3_17ee = 0x0
// 28d3:17f0 undefined2 DAT_28d3_17f0 = 0x0
// 28d3:17f2 undefined2 DAT_28d3_17f2 = 0x0
// 28d3:17f4 undefined2 DAT_28d3_17f4 = 0x0
// 28d3:17f6 undefined2 DAT_28d3_17f6 = 0x6
// 28d3:180a undefined2 DAT_28d3_180a = 0x0
// 28d3:180c undefined2 DAT_28d3_180c = 0x0
// 28d3:180e undefined2 DAT_28d3_180e = 0x0
// 28d3:1810 undefined2 DAT_28d3_1810 = 0x0
// 28d3:18a6 undefined2 DAT_28d3_18a6 = 0x0
// 28d3:18a8 undefined2 DAT_28d3_18a8 = 0x0
// 28d3:1900 undefined1 DAT_28d3_1900 = 0x0
// 28d3:1901 undefined1 DAT_28d3_1901 = 0x0
// 28d3:1902 undefined1 DAT_28d3_1902 = 0x0
// 28d3:1903 undefined2 DAT_28d3_1903 = 0x0
// 28d3:1905 string  = No Error
// 28d3:1971 string  = Bad Mode
// 28d3:1999 string  = No error
// 28d3:19a2 string  = (BGI) graphics not installed
// 28d3:19bf string  = Graphics hardware not detected
// 28d3:19de string  = Device driver file not found (
// 28d3:19fd string  = Invalid device driver file (
// 28d3:1a1a string  = Not enough memory to load driver
// 28d3:1a3b string  = Out of memory in scan fill
// 28d3:1a56 string  = Out of memory in flood fill
// 28d3:1a72 string  = Font file not found (
// 28d3:1a88 string  = Not enough memory to load font
// 28d3:1aa7 string  = Invalid graphics mode for selected driver
// 28d3:1ad1 string  = Graphics error
// 28d3:1ae0 string  = Graphics I/O error
// 28d3:1af3 string  = Invalid font file (
// 28d3:1b07 string  = Invalid font number
// 28d3:1b1b string  = Invalid Printer Initialize
// 28d3:1b36 string  = Printer Module Not Linked
// 28d3:1b50 string  = Invalid File Version Number
// 28d3:1b6c string  = Graphics error (
// 28d3:1b7f string  = 
BGI Error: Not in graphics mode

$
// 28d3:1ba6 string  = 
BGI Error: Graphics not initialized (use 'initgraph')

$
// 28d3:1bee undefined1 DAT_28d3_1bee = -0x1
// 28d3:1bef undefined1 DAT_28d3_1bef = 0x0
// 28d3:1bf0 undefined1 DAT_28d3_1bf0 = 0x0
// 28d3:1bf1 undefined1 DAT_28d3_1bf1 = 0x0
// 28d3:1bf7 undefined1 DAT_28d3_1bf7 = -0x1
// 28d3:1bf8 undefined1 DAT_28d3_1bf8 = 0x0
// 28d3:1c06 undefined8 DAT_28d3_1c06 = 0x7ff0000000000000
// 28d3:1c3c undefined4 DAT_28d3_1c3c = 0x7f800000
// 28d3:1c40 undefined4 DAT_28d3_1c40 = -0x800000
// 28d3:1c44 undefined4 DAT_28d3_1c44 = -0x400000
// 28d3:1c48 undefined4 DAT_28d3_1c48 = 0x7fc00000
// 28d3:1c4c undefined8 DAT_28d3_1c4c = 0x7ff0000000000000
// 28d3:1c54 undefined4 DAT_28d3_1c54 = 0x3f800000
// 28d3:1c74 undefined4 DAT_28d3_1c74 = 0x4cbebc20
// 28d3:1c78 undefined8 DAT_28d3_1c78 = 0x4341c37937e08000
// 28d3:1cd0 undefined4 DAT_28d3_1cd0 = 0x7f800000
// 28d3:1cfd string  = (Domain
// 28d3:1d05 string  = Denormal
// 28d3:1d0e string  = Divide by 0
// 28d3:1d1a string  = Overflow
// 28d3:1d23 string  = Underflow
// 28d3:1d2d string  = Partial loss of precision
// 28d3:1d47 string  = Stack fault
// 28d3:1d53 string  = Floating point error: %s.

// 28d3:1d6e undefined2 DAT_28d3_1d6e = 0x1
// 28d3:1d70 undefined1 DAT_28d3_1d70 = 0x0
// 28d3:1d71 undefined1 DAT_28d3_1d71 = 0x0
// 28d3:1d72 undefined1 DAT_28d3_1d72 = 0x0
// 28d3:1d73 undefined1 DAT_28d3_1d73 = 0x0
// 28d3:1d74 undefined1 DAT_28d3_1d74 = 0x0
// 28d3:1d76 undefined1 DAT_28d3_1d76 = 0x0
// 28d3:1d77 undefined1 DAT_28d3_1d77 = 0x0
// 28d3:1d78 undefined1 DAT_28d3_1d78 = 0x0
// 28d3:1d79 undefined1 DAT_28d3_1d79 = 0x0
// 28d3:1d7a undefined1 DAT_28d3_1d7a = 0x0
// 28d3:1d7b undefined2 DAT_28d3_1d7b = 0x0
// 28d3:1d7d undefined2 DAT_28d3_1d7d = 0x0
// 28d3:1d80 undefined2 DAT_28d3_1d80 = 0x1
// 28d3:1d8a undefined1 DAT_28d3_1d8a = 0x0
// 28d3:1d8b undefined1 DAT_28d3_1d8b = 0x0
// 28d3:1d8c undefined2 DAT_28d3_1d8c = 0x0
// 28d3:1d8e undefined2 DAT_28d3_1d8e = 0x209
// 28d3:1d90 undefined1 DAT_28d3_1d90 = 0x0
// 28d3:1d92 undefined2 DAT_28d3_1d92 = 0x0
// 28d3:1d94 undefined2 DAT_28d3_1d94 = 0x0
// 28d3:1d96 undefined2 DAT_28d3_1d96 = 0x0
// 28d3:1d98 undefined2 DAT_28d3_1d98 = 0x0
// 28d3:1d9a undefined2 DAT_28d3_1d9a = 0x0
// 28d3:1d9c undefined2 DAT_28d3_1d9c = 0x0
// 28d3:1da4 undefined1 DAT_28d3_1da4 = 0x1
// 28d3:1db8 undefined1 DAT_28d3_1db8 = 0x2
// 28d3:2174 undefined2 DAT_28d3_2174 = 0x32
// 28d3:21da undefined2 DAT_28d3_21da = 0x4000
// 28d3:21dc undefined2 DAT_28d3_21dc = -0x1
// 28d3:21e8 undefined2 DAT_28d3_21e8 = 0x0
// 28d3:2241 undefined1 DAT_28d3_2241 = 0x13
// 28d3:2244 undefined1 DAT_28d3_2244 = 0x28
// 28d3:2245 string s_null)_28d3_2245 = null)
// 28d3:26c2 string  = print scanf : floating point formats not linked

// 28d3:26f4 undefined2 DAT_28d3_26f4 = 0x1000
// 28d3:26fc string  = Out of memory
// 28d3:270a undefined2 DAT_28d3_270a = 0x0
// 28d3:270c undefined1 DAT_28d3_270c = 0x0
// 28d3:270e undefined2 DAT_28d3_270e = 0x0
// 28d3:2710 undefined2 DAT_28d3_2710 = 0x4d0f
// 28d3:2712 undefined2 DAT_28d3_2712 = 0x1000
// 28d3:2714 undefined2 DAT_28d3_2714 = 0x4d0f
// 28d3:2716 undefined2 DAT_28d3_2716 = 0x1000
// 28d3:2718 undefined2 DAT_28d3_2718 = 0x4d0f
// 28d3:271a undefined2 DAT_28d3_271a = 0x1000
// 28d3:271c string  = Abnormal program termination

// 28d3:273c undefined1 DAT_28d3_273c = 0x0
// 28d3:273d undefined1 DAT_28d3_273d = 0x0
// 28d3:273e undefined1 DAT_28d3_273e = 0x0
// 28d3:2758 undefined1 DAT_28d3_2758 = 0x2
// 28d3:2759 undefined1 DAT_28d3_2759 = 0x4
// 28d3:2764 undefined2 DAT_28d3_2764 = 0x952
// 28d3:2766 undefined2 DAT_28d3_2766 = 0x0
// 28d3:277a undefined2 DAT_28d3_277a = 0x0
// 28d3:277c undefined2 DAT_28d3_277c = 0x0
// 28d3:2890 string  = <notype>
// 28d3:28a2 undefined2 DAT_28d3_28a2 = 0x1
// 28d3:28a4 undefined2 DAT_28d3_28a4 = 0x0
// 28d3:28a6 undefined2 DAT_28d3_28a6 = 0x1
// 28d3:28a8 undefined2 DAT_28d3_28a8 = 0x3f
// 28d3:28aa undefined2 DAT_28d3_28aa = 0x40
// 28d3:28ac undefined2 DAT_28d3_28ac = 0x3f
// 28d3:28ae string  = String reference out of range
// 28d3:28cc string  = String reference out of range
// 28d3:28ea string  = String reference out of range
// 28d3:2908 undefined2 DAT_28d3_2908 = 0x68f
// 28d3:290c undefined2 DAT_28d3_290c = 0x83f
// 28d3:2960 undefined2 f_demo
// 28d3:2962 undefined2 f_bcab
// 28d3:2964 undefined2 f_bca
// 28d3:2966 undefined2 f_bc
// 28d3:2968 undefined2 xptr
// 28d3:296a undefined2 yptr
// 28d3:296c undefined2 zptr
// 28d3:296e undefined2 do_ptr
// 28d3:2970 undefined2 f_ptr
// 28d3:2972 undefined2 xcur
// 28d3:2974 undefined2 ycur
// 28d3:2976 undefined2 zcur
// 28d3:2978 undefined2 f_data
// 28d3:297a undefined2 f_xyz
// 28d3:297c undefined4 start_nmb
// 28d3:2980 undefined4 lastn
// 28d3:2984 undefined4 nmax
// 28d3:2988 undefined2 l_period
// 28d3:298a undefined2 gate_delay
// 28d3:298c undefined2 step_freq
// 28d3:298e undefined2 f_const
// 28d3:2994 undefined2 dT
// 28d3:2996 undefined2 step
// 28d3:29a2 undefined8 nglas
// 28d3:29aa undefined2 xsize
// 28d3:29ac undefined2 ysize
// 28d3:29ae undefined2 zsize
// 28d3:29b0 undefined2 xofs
// 28d3:29b2 undefined2 yofs
// 28d3:29b4 undefined2 zofs
// 28d3:29b6 undefined2 gl_nmb
// 28d3:29b8 undefined2 glpos9
// 28d3:29ba undefined2 nmrpt
// 28d3:29bc undefined2 DAT_28d3_29bc
// 28d3:29cc undefined2 nmrpt_9
// 28d3:29ce undefined2 d_check
// 28d3:29d0 undefined2 f_noise
// 28d3:29d2 undefined2 f_sort
// 28d3:29d4 undefined2 sK1
// 28d3:29d6 undefined2 sK2
// 28d3:29d8 undefined2 nmb_pbt
// 28d3:29da undefined2 pkey
// 28d3:29dc undefined2 tout
// 28d3:2a3c undefined4 ulMax
// 28d3:2a40 undefined2 iTabl
// 28d3:2a42 undefined2 iTabl_seg
// 28d3:2a44 undefined2 dx
// 28d3:2a46 undefined2 dy
// 28d3:2a48 undefined2 dz
// 28d3:2a4a undefined2 fcdim
// 28d3:2a4c undefined2 kdim
// 28d3:2a4e undefined2 feqk
// 28d3:2a50 undefined2 kxdim
// 28d3:2a52 undefined2 kydim
// 28d3:2a54 undefined2 kzdim
// 28d3:4cb6 undefined1 gtype
// 28d3:4cb7 undefined1 DAT_28d3_4cb7
// 28d3:4cc6 undefined1 DAT_28d3_4cc6
// 28d3:4fd6 undefined2 xmin
// 28d3:4fd8 undefined2 xmax
// 28d3:4fda undefined2 ymin
// 28d3:4fdc undefined2 ymax
// 28d3:4fde undefined2 zmin
// 28d3:4fe0 undefined2 zmax
// 28d3:4fe2 undefined2 errnmb
// 28d3:4fe4 undefined2 k_old
// 28d3:4fe6 undefined2 p_old
// 28d3:4fe8 undefined4 ulFlash
// 28d3:4fec undefined4 ulService
// 28d3:4ff6 undefined1 ctlw
// 28d3:4ff8 undefined1 flist
// 28d3:4ff9 undefined1 DAT_28d3_4ff9
// 28d3:5000 undefined1 DAT_28d3_5000
// 28d3:5001 undefined1 DAT_28d3_5001
// 28d3:5005 undefined1 DAT_28d3_5005
// 28d3:5006 undefined1 DAT_28d3_5006
// 28d3:500d undefined1 DAT_28d3_500d
// 28d3:500e undefined1 DAT_28d3_500e
// 28d3:550c undefined1 dlist
// 28d3:550d undefined1 DAT_28d3_550d
// 28d3:5519 undefined1 DAT_28d3_5519
// 28d3:551a undefined1 DAT_28d3_551a
// 28d3:5521 undefined1 DAT_28d3_5521
// 28d3:5522 undefined1 DAT_28d3_5522
// 28d3:5526 undefined1 DAT_28d3_5526
// 28d3:5527 undefined1 DAT_28d3_5527
// 28d3:552e undefined1 DAT_28d3_552e
// 28d3:552f undefined1 DAT_28d3_552f
// 28d3:5796 undefined1 path
// 28d3:57e6 undefined2 lastd
// 28d3:57e8 undefined2 lastf
// 28d3:57ea undefined2 sh_delay
// 28d3:57ec undefined2 r_ax
// 28d3:57ee undefined2 r_bx
// 28d3:57f0 undefined2 r_cx
// 28d3:57f2 undefined2 r_dx
// 28d3:57fc undefined2 DAT_28d3_57fc
// 28d3:5806 undefined2 coord_h
// 28d3:5808 undefined2 coord_v
// 28d3:580a undefined2 sts_old
// 28d3:580c undefined2 nmb_rpt
// 28d3:5812 undefined4 DAT_28d3_5812
// 28d3:5824 undefined1 DAT_28d3_5824
// 28d3:5826 undefined1 DAT_28d3_5826
// 28d3:5828 undefined2 DAT_28d3_5828
// 28d3:582a undefined2 DAT_28d3_582a
// 28d3:582c undefined2 DAT_28d3_582c
// 28d3:582e undefined2 DAT_28d3_582e
// 28d3:58b0 undefined2 DAT_28d3_58b0
// 28d3:58b2 undefined2 DAT_28d3_58b2
// 28d3:58b4 undefined2 DAT_28d3_58b4
// 28d3:58b6 undefined2 DAT_28d3_58b6
// 28d3:58b8 undefined2 DAT_28d3_58b8
// 28d3:58ba undefined2 DAT_28d3_58ba
// 28d3:58c0 undefined2 DAT_28d3_58c0
// 28d3:58c2 undefined2 DAT_28d3_58c2

/* ========== STRING TABLE ========== */
// STR 1000:433e: "string"
// STR 1000:4378: "xalloc"
// STR 1000:580e: "xalloc"
// STR 1000:5c44: "string *"
// STR 1000:5c73: "string"
// STR 1000:8e91: "Bad_cast"
// STR 1000:8ea5: "Bad_typeid"
// STR 1000:8ebb: "typeinfo *"
// STR 1000:8ef8: "typeinfo"
// STR 2001:0004: "BGI Device Driver (EGAVGA) 2.00 - Mar 21 1988\r\nCopyright (c) 1987,1988 Borland International\r\n"
// STR 2001:0314: "\r640 x 200 EGA"
// STR 280e:0095: "xalloc"
// STR 280e:01bb: "(TStringRef *"
// STR 280e:01ef: "string::lengtherror"
// STR 280e:023d: "xalloc"
// STR 280e:02b7: "TStringRef"
// STR 280e:02f1: "TReference"
// STR 280e:0b24: "string::lengtherror"
// STR 280e:0b72: "xalloc"
// STR 280e:0bec: "string"
// STR 280e:0c26: "string::outofrange"
// STR 28d3:0004: "NULL CHECK"
// STR 28d3:0020: "Borland C++ - Copyright 1994 Borland Intl."
// STR 28d3:004b: "Divide error\r\n"
// STR 28d3:0c37: "F1 Config"
// STR 28d3:0c41: "F2 Convert"
// STR 28d3:0c4c: "F3 DatLoad"
// STR 28d3:0c57: "F4 GlsLoad"
// STR 28d3:0c62: "F5 Start"
// STR 28d3:0c6b: "F10 Exit"
// STR 28d3:0c77: "Cancel"
// STR 28d3:0c7e: "Load .cfg"
// STR 28d3:0c88: "Save .cfg"
// STR 28d3:0cba: "protect.open"
// STR 28d3:0cc7: "gate delay"
// STR 28d3:0cd2: "laser pump"
// STR 28d3:0cdd: "work ptr"
// STR 28d3:0ce6: "constant"
// STR 28d3:0cef: "variable"
// STR 28d3:0d08: "Cancel"
// STR 28d3:0d3a: "Cancel"
// STR 28d3:0d41: "Data Save"
// STR 28d3:0d4b: "Data Load"
// STR 28d3:0d5c: "0->Center"
// STR 28d3:0d8c: "X-mirror"
// STR 28d3:0d95: "Dimensions"
// STR 28d3:0da0: "C->Center"
// STR 28d3:0daa: "invert"
// STR 28d3:0dbd: "PgDn Down"
// STR 28d3:0dc7: "Cancel"
// STR 28d3:0dd1: "Cancel"
// STR 28d3:0de3: " Cancel"
// STR 28d3:0def: "Beginning"
// STR 28d3:0df9: "Point number"
// STR 28d3:0e06: "Continuation"
// STR 28d3:0e13: "Saved in CMOS"
// STR 28d3:0e21: "End sensors"
// STR 28d3:0e2d: "Drawing check"
// STR 28d3:0e40: "Coord.reboot/continuation"
// STR 28d3:0e5a: "Ignore"
// STR 28d3:0e6a: "Close"
// STR 28d3:0e74: "0.5mm layers"
// STR 28d3:0e8e: "Sort/time"
// STR 28d3:0e98: "Cancel"
// STR 28d3:0ea6: "from 0"
// STR 28d3:0ead: "from centre"
// STR 28d3:0ed1: "?Graphics error"
// STR 28d3:0ee2: "graphics error"
// STR 28d3:0ef1: "Allocation error"
// STR 28d3:0f02: "Data load"
// STR 28d3:0f0c: "File not found"
// STR 28d3:0f1b: "Please wait"
// STR 28d3:0f28: "Not flinttab file"
// STR 28d3:0f3a: "Buffer overflow"
// STR 28d3:0f51: "Next pix:"
// STR 28d3:0f5d: "Configuration"
// STR 28d3:0f6b: "Reset"
// STR 28d3:0f71: "Flash nmb"
// STR 28d3:0f7b: "Service date"
// STR 28d3:0f98: "Las.puls"
// STR 28d3:0fa1: "period"
// STR 28d3:0fda: " pixels max"
// STR 28d3:0fea: "Please wait"
// STR 28d3:0ff8: " AKPU error"
// STR 28d3:1005: "Are you sure?"
// STR 28d3:101e: "flint1.cfg"
// STR 28d3:1029: "GLASS: n,size is true?"
// STR 28d3:1040: "Are you sure?"
// STR 28d3:104f: "Drive:"
// STR 28d3:1090: "disk error"
// STR 28d3:10be: "Data Convert"
// STR 28d3:10cb: "File:"
// STR 28d3:10d1: "Glass:"
// STR 28d3:10db: "Xsize:"
// STR 28d3:1111: "Enter name"
// STR 28d3:111d: "Enter file name"
// STR 28d3:112d: "Overwrite?"
// STR 28d3:1138: "Please wait /press ESC"
// STR 28d3:114f: "Data load"
// STR 28d3:1159: "File not found"
// STR 28d3:1168: "Please wait"
// STR 28d3:1175: "Buffer overflow"
// STR 28d3:1187: "Not B&W bmp file"
// STR 28d3:1198: "Not flinttab file"
// STR 28d3:11aa: "Buffer overflow"
// STR 28d3:1205: "HCOut of range"
// STR 28d3:1214: "Please wait"
// STR 28d3:1221: "Glass Load"
// STR 28d3:1250: "Glass select"
// STR 28d3:125d: "Glass:  n:"
// STR 28d3:1268: "Start"
// STR 28d3:126e: "After noise:"
// STR 28d3:127b: "Finished point: "
// STR 28d3:128c: "Start number > nmax"
// STR 28d3:12a0: "Data out of range"
// STR 28d3:12b2: "Data out of glass"
// STR 28d3:12c4: "Institute for Laser Technologies"
// STR 28d3:12e5: "and Engineering"
// STR 28d3:12f9: "Dr.check"
// STR 28d3:1302: "File:"
// STR 28d3:130e: "Nlast:"
// STR 28d3:1315: "GLASS:"
// STR 28d3:132d: "Reiterations:"
// STR 28d3:134b: "Sorting"
// STR 28d3:1361: "Pixels:"
// STR 28d3:136b: "Time: "
// STR 28d3:1376: "Dimensions Modification"
// STR 28d3:13a9: "Pixels:"
// STR 28d3:13b2: "For STOP: press ESC"
// STR 28d3:13c7: "KPU/End sens.error"
// STR 28d3:13db: "Check laser. Retry: Ok"
// STR 28d3:13f2: "For STOP: press ESC"
// STR 28d3:1408: "Ok.  TABLE END"
// STR 28d3:1418: "File open error"
// STR 28d3:143b: "flint1.cfg"
// STR 28d3:1446: "flash.dat"
// STR 28d3:1453: "flash.dat"
// STR 28d3:146b: "flinttab"
// STR 28d3:1476: " Aflint.gls"
// STR 28d3:149b: "Ambient light color: "
// STR 28d3:14b1: "Red=0.039216 Green=0.039216 Blue=0.039216\n\n"
// STR 28d3:14dd: "Named object: \""
// STR 28d3:14f0: "Tri-mesh, Vertices: "
// STR 28d3:1505: "     Faces: 0\nVertex list:\n"
// STR 28d3:1521: "Vertex "
// STR 28d3:154d: "flinttab"
// STR 28d3:1556: "nglass="
// STR 28d3:155e: "xsize="
// STR 28d3:1580: "no mouse !"
// STR 28d3:1905: "No Error"
// STR 28d3:1971: "Bad Mode"
// STR 28d3:1999: "No error"
// STR 28d3:19a2: "(BGI) graphics not installed"
// STR 28d3:19bf: "Graphics hardware not detected"
// STR 28d3:19de: "Device driver file not found ("
// STR 28d3:19fd: "Invalid device driver file ("
// STR 28d3:1a1a: "Not enough memory to load driver"
// STR 28d3:1a3b: "Out of memory in scan fill"
// STR 28d3:1a56: "Out of memory in flood fill"
// STR 28d3:1a72: "Font file not found ("
// STR 28d3:1a88: "Not enough memory to load font"
// STR 28d3:1aa7: "Invalid graphics mode for selected driver"
// STR 28d3:1ad1: "Graphics error"
// STR 28d3:1ae0: "Graphics I/O error"
// STR 28d3:1af3: "Invalid font file ("
// STR 28d3:1b07: "Invalid font number"
// STR 28d3:1b1b: "Invalid Printer Initialize"
// STR 28d3:1b36: "Printer Module Not Linked"
// STR 28d3:1b50: "Invalid File Version Number"
// STR 28d3:1b6c: "Graphics error ("
// STR 28d3:1b7f: "\r\nBGI Error: Not in graphics mode\r\n\r\n$"
// STR 28d3:1ba6: "\r\nBGI Error: Graphics not initialized (use 'initgraph')\r\n\r\n$"
// STR 28d3:1cfd: "(Domain"
// STR 28d3:1d05: "Denormal"
// STR 28d3:1d0e: "Divide by 0"
// STR 28d3:1d1a: "Overflow"
// STR 28d3:1d23: "Underflow"
// STR 28d3:1d2d: "Partial loss of precision"
// STR 28d3:1d47: "Stack fault"
// STR 28d3:1d53: "Floating point error: %s.\n"
// STR 28d3:2245: "null)"
// STR 28d3:26c2: "print scanf : floating point formats not linked\r\n"
// STR 28d3:26fc: "Out of memory"
// STR 28d3:271c: "Abnormal program termination\r\n"
// STR 28d3:2890: "<notype>"
// STR 28d3:28ae: "String reference out of range"
// STR 28d3:28cc: "String reference out of range"
// STR 28d3:28ea: "String reference out of range"
// Total strings: 188

/* ========== SUMMARY ========== */
// App functions decompiled: 73
// App functions failed:     1
// Segment 1928 (PROJ5.CPP): 39 functions
// Segment 215c (PIC.CPP): 11 functions
// Segment 2229 (RDWRF.CPP): 17 functions
// Segment 23c2 (MSKEYC.CPP): 7 functions
